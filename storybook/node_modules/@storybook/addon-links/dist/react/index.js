"use strict";var S=Object.create;var a=Object.defineProperty;var x=Object.getOwnPropertyDescriptor;var R=Object.getOwnPropertyNames;var b=Object.getPrototypeOf,A=Object.prototype.hasOwnProperty;var M=(t,n)=>{for(var e in n)a(t,e,{get:n[e],enumerable:!0})},k=(t,n,e,o)=>{if(n&&typeof n=="object"||typeof n=="function")for(let r of R(n))!A.call(t,r)&&r!==e&&a(t,r,{get:()=>n[r],enumerable:!(o=x(n,r))||o.enumerable});return t};var E=(t,n,e)=>(e=t!=null?S(b(t)):{},k(n||!t||!t.__esModule?a(e,"default",{value:t,enumerable:!0}):e,t)),N=t=>k(a({},"__esModule",{value:!0}),t);var Y={};M(Y,{default:()=>U});module.exports=N(Y);var p=E(require("react"));var T=E(require("global")),i=require("@storybook/addons"),l=require("@storybook/core-events"),P=require("@storybook/csf");var y="storybook/links",C="links",B={NAVIGATE:`${y}/navigate`,REQUEST:`${y}/request`,RECEIVE:`${y}/receive`};var{document:h,HTMLElement:D}=T.default;function H(t){let n={},e=(t[0]==="?"?t.substring(1):t).split("&").filter(Boolean);for(let o=0;o<e.length;o++){let r=e[o].split("=");n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]||"")}return n}var u=t=>i.addons.getChannel().emit(l.SELECT_STORY,t),L=(t,n)=>new Promise(e=>{let{location:o}=h,r=H(o.search),f=[].concat(r.id)[0],d=t||f.split("--",2)[0],m=(0,P.toId)(d,n),I=`${o.origin+o.pathname}?${Object.entries({...r,id:m}).map(g=>`${g[0]}=${g[1]}`).join("&")}`;e(I)});var v=t=>{let{target:n}=t;if(!(n instanceof D))return;let e=n,{sbKind:o,sbStory:r}=e.dataset;(o||r)&&(t.preventDefault(),u({kind:o,story:r}))},c=!1,K=()=>{c||(c=!0,h.addEventListener("click",v))},_=()=>{c&&(c=!1,h.removeEventListener("click",v))},V=(0,i.makeDecorator)({name:"withLinks",parameterName:C,wrapper:(t,n)=>(K(),i.addons.getChannel().once(l.STORY_CHANGED,_),t(n))});var $=0,O=t=>t.button===$&&!t.altKey&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey,w=(t,n=e=>{})=>{O(t)&&(t.preventDefault(),n(t))},s=class extends p.PureComponent{constructor(){super(...arguments);this.state={href:"/"};this.updateHref=async()=>{let{kind:e,story:o}=this.props;if(e&&o){let r=await L(e,o);this.setState({href:r})}};this.handleClick=()=>{let{kind:e,story:o}=this.props;e&&o&&u({kind:e,story:o})}}componentDidMount(){this.updateHref()}componentDidUpdate(e){let{kind:o,story:r}=this.props;(e.kind!==o||e.story!==r)&&this.updateHref()}render(){let{kind:e,story:o,children:r,...f}=this.props,{href:d}=this.state;return p.default.createElement("a",{href:d,onClick:m=>w(m,this.handleClick),...f},r)}};s.defaultProps={kind:null,story:null,children:void 0};var U=s;0&&(module.exports={});
