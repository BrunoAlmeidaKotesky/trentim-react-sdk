{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///(webpack)/buildin/module.js","webpack:///dist/F:/Projetos Individuais/ReactLibraries/trentim-react-sdk/src/Card/Card.tsx","webpack:///dist/F:/Projetos Individuais/ReactLibraries/trentim-react-sdk/src/GridView/Contexts.ts","webpack:///dist/F:/Projetos Individuais/ReactLibraries/trentim-react-sdk/src/GridView/DateSlider.tsx","webpack:///dist/F:/Projetos Individuais/ReactLibraries/trentim-react-sdk/src/GridView/GridView.tsx","webpack:///dist/F:/Projetos Individuais/ReactLibraries/trentim-react-sdk/src/GridView/GroupPanel.tsx","webpack:///dist/F:/Projetos Individuais/ReactLibraries/trentim-react-sdk/src/GridView/ListOptions.tsx","webpack:///dist/F:/Projetos Individuais/ReactLibraries/trentim-react-sdk/src/GridView/PanelFilter.tsx","webpack:///dist/F:/Projetos Individuais/ReactLibraries/trentim-react-sdk/src/GridView/PeoplePicker.tsx","webpack:///dist/F:/Projetos Individuais/ReactLibraries/trentim-react-sdk/src/GridView/handlers/GridViewFilter.ts","webpack:///dist/F:/Projetos Individuais/ReactLibraries/trentim-react-sdk/src/GridView/handlers/GridViewGrouping.ts","webpack:///dist/F:/Projetos Individuais/ReactLibraries/trentim-react-sdk/src/GridView/handlers/GridViewMapper.ts","webpack:///dist/F:/Projetos Individuais/ReactLibraries/trentim-react-sdk/src/GridView/hooks/useGridCardRendering.tsx","webpack:///dist/F:/Projetos Individuais/ReactLibraries/trentim-react-sdk/src/GridView/hooks/useGridController.tsx","webpack:///dist/F:/Projetos Individuais/ReactLibraries/trentim-react-sdk/src/GridView/hooks/usePanelFilterController.ts","webpack:///dist/F:/Projetos Individuais/ReactLibraries/trentim-react-sdk/src/GridView/index.ts","webpack:///dist/F:/Projetos Individuais/ReactLibraries/trentim-react-sdk/src/helpers/Utils.ts","webpack:///dist/F:/Projetos Individuais/ReactLibraries/trentim-react-sdk/src/helpers/enums.ts","webpack:///dist/F:/Projetos Individuais/ReactLibraries/trentim-react-sdk/src/hooks/useRefWithCallback.ts","webpack:///external \"@fluentui/react\"","webpack:///external \"@fluentui/react/lib/Button\"","webpack:///external \"@fluentui/react/lib/ChoiceGroup\"","webpack:///external \"@fluentui/react/lib/DatePicker\"","webpack:///external \"@fluentui/react/lib/DetailsList\"","webpack:///external \"@fluentui/react/lib/Dropdown\"","webpack:///external \"@fluentui/react/lib/Label\"","webpack:///external \"@fluentui/react/lib/Panel\"","webpack:///external \"@fluentui/react/lib/Pickers\"","webpack:///external \"@fluentui/react/lib/Slider\"","webpack:///external \"@fluentui/react/lib/Sticky\"","webpack:///external \"react\""],"names":["module","exports","webpackPolyfill","deprecate","paths","children","Object","defineProperty","enumerable","get","l","i","InfoCard","React","memo","props","styles","card","backgroundColor","border","margin","borderRadius","position","display","flexDirection","width","height","userSelect","enableUserSelect","color","overflow","top","borderBottom","gridTemplateColumns","columnGap","padding","fontFamily","col","rightCol","alignItems","leftCol","cardTitle","WebkitLineClamp","WebkitBoxOrient","fontSize","lineHeight","projectCode","opacity","bottom","justifyContent","circleWrap","circle","background","status","marginLeft","linkButton","minWidth","onClick","e","onCardClick","style","cardSubtitle","cardRightColInformation","_a","containerStyle","_b","_c","values","_d","length","_e","map","value","idx","key","title","plantName","circleIndicator","_f","__assign","_g","_h","_j","Button_1","onClickDownButton","iconProps","iconName","enableFilter","enableSearch","enableCardView","customButtons","setIsFilterPanelOpen","undefined","searchBoxPlaceholder","setRenderAs","defaultButtonsOrder","group","search","filter","setIsGroupPanelOpen","onClickSearchIcon","isOpen","onApply","onCancel","onClose","panelTitle","actualFilteredValues","Map","setActualFilteredValues","onOpen","fromDate","toDate","Date","setFromDate","setToDate","filterOptionsMatrix","availableFilters","options","selectedGroupKeys","setSelectedGroupKeys","DateSliderComponent","displayDatePicker","setDisplayDatePicker","Contexts_1","formatSliderValue","num","onSliderChange","_","val","onRecordDateRange","enums_1","NONE","lastWeek","setDate","getDate","WEEK","lastMonth","setMonth","getMonth","MONTH","lastYear","setFullYear","getFullYear","YEAR","CUSTOM","defaultSliderValue","dateStrings","months","shortMonths","days","shortDays","goToToday","prevMonthAriaLabel","nextMonthAriaLabel","prevYearAriaLabel","nextYearAriaLabel","closeButtonAriaLabel","isRequiredErrorMessage","invalidInputErrorMessage","isOutOfBoundsErrorMessage","showWeekNumbers","weekNumberFormatString","firstWeekOfYear","dateFormat","showGoToToday","Slider_1","min","max","step","defaultValue","container","valueFormat","onChanged","label","DatePicker_1","maxDate","strings","formatDate","date","toLocaleDateString","onSelectDate","d","minDate","GridView","state","handlers","JSX","visibleCols","isFilterPanelOpen","filterPanelConfig","groupPanelConfig","listConfig","shouldRenderCard","isGroupPanelOpen","groups","Provider","root","ListOptions_1","zIndex","contentContainer","id","onRenderCustomComponent","actualRows","DetailsList_1","detailsListProps","onRenderItemColumn","onRenderRow","p","defaultRender","item","cursor","onItemClick","items","columns","groupProps","isAllGroupsCollapsed","gr","isCollapsed","collapseAllVisibility","visible","onRenderHeader","name","showEmptyGroups","layoutMode","fixedColumns","isHeaderVisible","onRenderDetailsHeader","headerProps","Sticky_1","stickyPosition","Header","stickyBackgroundColor","checkboxVisibility","hidden","react_1","fallback","cardProps","_k","_l","gap","CardsList","PanelFilter_1","GroupPanel_1","GroupPanel","Panel","then","PrimaryButton","DefaultButton","RadioButton","ChoiceGroup","FluentPanel","isFooterAtBottom","onDismiss","onRenderFooter","marginRight","onChange","opt","keyWithName","concat","text","defaultSelectedKey","split","__read","ListOptions","useContext","searchKeys","onSearchItemChange","enableGrouping","onFilterIconClick","onGroupIconClick","onSearchBoxClick","defaultStyles","order","b","renderAs","className","onRenderCustomButton","placeholder","onKeyDown","ENTER","currentTarget","onFocus","onBlur","target","pointerEvents","inputValue","parentElement","childNodes","CLICK","icon","PanelFilter","Dropdown","TagPicker","Label","getDefaultDropdownSelectedKeys","onAddOrRemoveToMap","getDefaultSelectedTag","getDefaultSelectedSlider","Suspense","defaultSelectedKeys","multiSelect","enableMultiple","getTextFromItem","defaultSelectedItems","pickerSuggestionsProps","suggestionsHeaderText","noResultsFoundText","loadingText","pickerCalloutProps","doNotLayer","overflowY","onChangeTags","onItemSelected","onTagSelected","onResolveSuggestions","onResolveTagSuggestion","DateSlider_1","onRecordDateChange","PeoplePicker_1","people","getDefaultSelectedPeople","onChangePeople","suggestionProps","mostRecentlyUsedHeaderText","showRemoveButtons","suggestionsAvailableAlertText","suggestionsContainerAriaLabel","PeoplePicker","useState","peopleList","setPeopleList","picker","useRef","onFilterChanged","filterText","currentPersonas","limitResults","filteredPersonas","filterPersonasByText","removeDuplicates","slice","onRemoveSuggestion","indexPeopleList","indexOf","newPeople","Pickers_1","onValidateInput","validateInput","componentRef","resolveDelay","doesTextStartWith","toLowerCase","personas","possibleDupes","listContainsPersona","persona","input","valid","warning","invalid","GridViewFilter","allRows","hiddenFields","filters","columnsToFilter","filterFromColumns","index","renderFilterAs","keys","fieldName","data","stringObject","getNestedObject","toString","dateConversionOptions","shouldConvertToLocaleString","Utils_1","convertIsoToLocaleString","locales","formatOptions","uniqueOptions","obj","pos","arr","push","setActualRows","setIsFilterPanel","applyCustomFilter","onItemsFiltered","selectedItems","groupedMaps_1","GridViewMapper_1","groupMaps","groupedMaps","size","filteredRows","mapKey","filterFrom","forEach","isDate","from","to","ORrowsFromThisKey","rDate","r","Id","includes","apply","__spreadArray","entries","allMapValues","newFilteredItems","rowValue","some","hiddenKeys","c","searchCb","onSearchBoxItemsFiltered","searchText","allFilteredRows","filteredValues","foundValues","startsWith","keys_1_1","GridViewGrouping","cols","setGroups","setIsGroupPanel","emptyGroupLabel","onItemsGrouped","keyAndName","defaultEmptyLabel","selectedKey","sort","a","reduce","acc","cur","valueFromKey","isKeyADate","find","startIndex","count","lastAcc","GridViewMapper","mapsByKeyKind","keyName","doesNotHaveKey","has","sameMapsList","set","thisKindMap_1","useGridCardRendering","setEnableGrouping","setShouldRenderCard","console","error","Card","row","cardTitleKey","cardSubtitleKey","titleDateConversionOptions","subtitleDateConversionOptions","rightColumn","cIndicator","titleValue","_m","newCardProps","_o","marginBottom","fontWeight","useGridController","setCols","headerOptions","rows","setAllRows","currentSearchBoxItems","memoizedAvailableFilter","setAvailableFilters","hideColumn","onColumnClick","currentRows","column","isSortedDescending","isSorted","sortedItems","copyAndSort","convertedColumns","onRender","_2","fieldValue","GridViewFilter_1","buildFilters","hiddenFilterKeys","hiddenGroupKeys","mapFilterOptions","f","onApplyFilter","filterPanelTitle","groupPanelTitle","GridViewGrouping_1","onApplyGrouping","_p","callerType","current","filteredItems","usePanelFilterController","DropDown","lastAddedTag","rootItemKey","option","copyMap","selected","itemKey","isDateComponent","listContainsTagList","tag","tagList","selectedKeys","k","keyToFilter","selectedTags","keyKind","mapWithSameKey","mapWithSameKeyValue","type","tags","selectedItem","currentFilter","result","toISOString","Utils","isNaN","getTime","isIsoDate","test","Intl","DateTimeFormat","format","columnKey","aValue","bValue","nestedObj","pathArr","subKeys","getDeepKeys","subkey","RangeType","IconClickCaller","useRefWithCallback","initialValue","ref","toggleState","setToggle","refCallback"],"mappings":"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","file":"GridView/index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/GridView/index.ts\");\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","import * as React from 'react';\r\nimport { PrimaryButton } from '@fluentui/react/lib/Button';\r\nimport { IInfoCardProps } from '../models/interfaces/IInfoCardProps';\r\nimport { CSSProperties } from 'react';\r\n\r\n/**\r\n * A card component that can be used in `GridView` automatically if `renderAs` is set to `card`.\r\n * \r\n * @param props - IInfoCardProps\r\n * @returns JSX.Element\r\n */\r\nconst InfoCard = React.memo((props: IInfoCardProps) => {\r\n    const styles: Record<string, CSSProperties> = {\r\n        card: {\r\n            backgroundColor: \"rgb(255, 255, 255)\",\r\n            border: \"1px solid #ababab\",\r\n            margin: \"0 0 16px\",\r\n            borderRadius: \"4px\",\r\n            position: \"relative\",\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            width: props?.width || \"100%\",\r\n            height: props?.height || \"150px\",\r\n            userSelect: props?.enableUserSelect ? \"unset\" : \"none\",\r\n            color: \"#333\",\r\n            overflow: \"hidden\"\r\n        },\r\n        top: {\r\n            borderBottom: \"1px solid rgb(237, 235, 233)\",\r\n            overflow: \"hidden\",\r\n            height: \"100%\",\r\n            display: \"grid\",\r\n            gridTemplateColumns: \"1fr 120px\",\r\n            columnGap: \"8px\",\r\n            padding: \"16px\",\r\n            fontFamily: `\"Segoe UI\", \"Segoe UI Web (West European)\", \"Segoe UI\", -apple-system, BlinkMacSystemFont, Roboto, \"Helvetica Neue\", sans-serif`\r\n        },\r\n        col: { display: \"flex\", flexDirection: \"column\" },\r\n        rightCol: { display: 'flex', flexDirection: 'column', alignItems: \"flex-end\" },\r\n        leftCol: { display: 'flex', flexDirection: 'column' },\r\n        cardTitle: {\r\n            display: \"-webkit-box\",\r\n            WebkitLineClamp: \"2\",\r\n            WebkitBoxOrient: \"vertical\",\r\n            overflow: \"hidden\",\r\n            fontSize: \"18px\",\r\n            lineHeight: 1.4\r\n        },\r\n        projectCode: {\r\n            fontSize: \"16px\",\r\n            opacity: 0.8\r\n        },\r\n        bottom: {\r\n            display: \"flex\",\r\n            padding: \"6px 16px\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"space-between\",\r\n            backgroundColor: \"rgb(250, 249, 248)\",\r\n            fontFamily: `\"Segoe UI\", \"Segoe UI Web (West European)\", \"Segoe UI\", -apple-system, BlinkMacSystemFont, Roboto, \"Helvetica Neue\", sans-serif`\r\n\r\n        },\r\n        circleWrap: { display: \"inline-flex\", alignItems: \"center\" },\r\n        circle: {\r\n            width: \"16px\",\r\n            height: \"16px\",\r\n            background: \"#06ad51\",\r\n            borderRadius: \"50%\",\r\n            border: \"1px solid #06ad51\",\r\n            display: \"inline-block\"\r\n        },\r\n        status: { display: \"inline-block\", marginLeft: \"8px\" },\r\n        linkButton: { width: \"32px\", height: \"32px\", minWidth: \"32px\" }\r\n    }\r\n\r\n\r\n    return (\r\n        <div onClick={(e) => {\r\n            if (props.onCardClick)\r\n                props?.onCardClick(e);\r\n        }} style={styles.card}>\r\n            <div data-class-name=\"card-top\" style={styles.top}>\r\n                <div data-class-name=\"card-top-left\" style={styles.leftCol}>\r\n                    <div style={styles.cardTitle}>\r\n                        <span>{props?.cardTitle}</span>\r\n                    </div>\r\n                    <div style={styles.projectCode}>\r\n                        <span>{props?.cardSubtitle}</span>\r\n                    </div>\r\n                </div>\r\n                <div data-class-name=\"card-top-right\" style={props?.cardRightColInformation?.containerStyle ?? styles.rightCol}>\r\n                    {props?.cardRightColInformation?.values?.length > 0 && props?.cardRightColInformation?.values.map((value, idx) => (\r\n                        <div key={value?.title ?? idx} style={value?.style ?? styles.plantName}>\r\n                            <span>{value?.title}</span>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n            <div data-class-name=\"card-bottom\" style={styles.bottom}>\r\n                <div data-class-name=\"card-circle-wrapper\" style={styles.circleWrap}>\r\n                    <div style={props?.circleIndicator?.color ? { ...styles.circle, background: props?.circleIndicator?.color, border: `1px solid ${props?.circleIndicator?.color}` } : {}}></div>\r\n                    <span style={styles.status}>{props?.circleIndicator?.title}</span>\r\n                </div>\r\n                <div data-class-name=\"card-button-container\">\r\n                    <PrimaryButton onClick={props?.onClickDownButton} style={styles.linkButton} iconProps={{ iconName: props?.iconName || 'Page' }} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n});\r\n\r\nexport default InfoCard;","import { createContext } from \"react\";\r\nimport type { IListOptionsProps } from \"../models/interfaces/IListOptions\";\r\nimport type { IPanelFilterProps } from '../models/interfaces/IPanelFilter';\r\nimport type { IGroupPanel } from '../models/interfaces/IGroupPanel';\r\nimport type { IRow } from \"../models/interfaces/IGridView\";\r\n\r\nexport const ListOptionsContext = createContext<IListOptionsProps<IRow>>({ \r\n    enableFilter: true, \r\n    enableSearch: true,\r\n    enableCardView: true,\r\n    customButtons: [], \r\n    setIsFilterPanelOpen: undefined, \r\n    searchBoxPlaceholder: '',\r\n    setRenderAs: undefined, \r\n    defaultButtonsOrder: { group: 0, search: 1, filter: 2, card: 3 },\r\n    setIsGroupPanelOpen: undefined,\r\n    onClickSearchIcon: undefined\r\n});\r\n\r\nexport const FilterPanelContext = createContext<IPanelFilterProps>({ \r\n    isOpen: false, \r\n    onApply: undefined, \r\n    onCancel: undefined, \r\n    onClose: undefined, \r\n    panelTitle: '',\r\n    actualFilteredValues: new Map(),\r\n    setActualFilteredValues: undefined,\r\n    onOpen: undefined,\r\n    fromDate: null,\r\n    toDate: new Date(),\r\n    setFromDate: undefined,\r\n    setToDate: undefined,\r\n    filterOptionsMatrix: [],\r\n    availableFilters: []\r\n});\r\n\r\nexport const GroupPanelContext = createContext<IGroupPanel>({\r\n    isOpen: false, \r\n    onApply: undefined,\r\n    onCancel: undefined,\r\n    onClose: undefined,\r\n    onOpen: undefined,\r\n    panelTitle: '',\r\n    options: [],\r\n    selectedGroupKeys: null,\r\n    setSelectedGroupKeys: undefined\r\n});","import * as React from 'react';\r\nimport { RangeType } from '../helpers/enums';\r\nimport { Slider, ISliderProps } from '@fluentui/react/lib/Slider';\r\nimport { DatePicker } from '@fluentui/react/lib/DatePicker';\r\nimport type { IDateSliderProps } from '../models/interfaces/IDateSlider';\r\nimport { useContext, useEffect, useState, memo, useMemo } from 'react';\r\nimport { FilterPanelContext } from './Contexts';\r\n\r\nfunction DateSliderComponent(props: IDateSliderProps) {\r\n    const [displayDatePicker, setDisplayDatePicker] = useState(false);\r\n    const {fromDate, toDate, setFromDate, setToDate} = useContext(FilterPanelContext);\r\n    const formatSliderValue = (num: number): string => num === 0 ? 'Nenhum' : num === 1 ? 'ltima Semana' : num === 2 ? 'ltimo Ms' : num === 3 ? 'ltimos Ano' : '';\r\n    const onSliderChange: ISliderProps['onChanged'] = (_, val) => {\r\n        if(val === 4)\r\n            setDisplayDatePicker(true);\r\n        else {\r\n            setDisplayDatePicker(false);\r\n            setFromDate(null);\r\n            setToDate(new Date());\r\n        }\r\n        if(val === 0) {\r\n            props.onRecordDateRange(null, null, RangeType.NONE);\r\n        }\r\n        else if(val === 1) {\r\n            const lastWeek = new Date();\r\n            lastWeek.setDate(lastWeek.getDate() - 7);\r\n            props.onRecordDateRange(lastWeek, new Date(), RangeType.WEEK);\r\n        }\r\n        else if(val === 2) {\r\n            const lastMonth = new Date();\r\n            lastMonth.setMonth(lastMonth.getMonth() - 1);\r\n            props.onRecordDateRange(lastMonth, new Date(), RangeType.MONTH);\r\n        }\r\n        else if(val === 3) {\r\n            const lastYear = new Date();\r\n            lastYear.setFullYear(lastYear.getFullYear() - 1);\r\n            props.onRecordDateRange(lastYear, new Date(), RangeType.YEAR);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(fromDate && toDate)\r\n            props.onRecordDateRange(fromDate, toDate, RangeType.CUSTOM);\r\n    }, [fromDate, toDate]);\r\n\r\n    useEffect(() => {\r\n        if(props?.defaultSliderValue === 4 && !displayDatePicker)\r\n            setDisplayDatePicker(true);\r\n    }, [props?.defaultSliderValue]);\r\n\r\n    const dateStrings = useMemo(() => ({\r\n        months: ['Janeiro', 'Fevereiro', 'Maro', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'],\r\n        shortMonths: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez'],\r\n        days: ['Domingo', 'Segunda', 'Tera', 'Quarta', 'Quinta', 'Sexta', 'Sbado'],\r\n        shortDays: ['D', 'S', 'T', 'Q', 'Q', 'S', 'S'],\r\n        goToToday: 'Hoje',\r\n        prevMonthAriaLabel: 'Ms anterior',\r\n        nextMonthAriaLabel: 'Prximo ms',\r\n        prevYearAriaLabel: 'Ano anterior',\r\n        nextYearAriaLabel: 'Prximo ano',\r\n        closeButtonAriaLabel: 'Fechar',\r\n        isRequiredErrorMessage: 'Este campo  obrigatrio.',\r\n        invalidInputErrorMessage: 'Valor de entrada invlido.',\r\n        isOutOfBoundsErrorMessage: 'Valor de entrada fora dos limites.',\r\n        showWeekNumbers: false,\r\n        weekNumberFormatString: '',\r\n        firstWeekOfYear: 0,\r\n        dateFormat: 'd',\r\n        showGoToToday: true,\r\n    }), []);\r\n\r\n    return (<>\r\n    <Slider\r\n        min={0} max={4} step={1}\r\n        defaultValue={props?.defaultSliderValue ?? 0} styles={{container: { display: 'grid' }}}\r\n        valueFormat={formatSliderValue}\r\n        onChanged={onSliderChange}\r\n        label={props?.label}/>\r\n    {displayDatePicker && \r\n        <div>\r\n            <DatePicker\r\n                maxDate={toDate}\r\n                strings={dateStrings}\r\n                value={fromDate}\r\n                formatDate={(date) => date?.toLocaleDateString()}\r\n                onSelectDate={(d) => {\r\n                    setFromDate(d);\r\n                }}\r\n                label=\"De\"/>\r\n            <DatePicker\r\n                minDate={fromDate}\r\n                strings={dateStrings}\r\n                formatDate={(date) => date?.toLocaleDateString()}\r\n                onSelectDate={(d) => {\r\n                    setToDate(d);\r\n                }}\r\n                value={toDate}\r\n                label=\"At\"/>\r\n        </div>\r\n    }\r\n    </>);\r\n}\r\n\r\nexport const DateSlider = memo(DateSliderComponent);","import * as React from 'react';\r\nimport { useGridController } from './hooks/useGridController';\r\nimport { FilterPanelContext, GroupPanelContext, ListOptionsContext } from './Contexts';\r\nimport { CheckboxVisibility, CollapseAllVisibility, DetailsList, DetailsListLayoutMode } from '@fluentui/react/lib/DetailsList';\r\nimport { Sticky, StickyPositionType } from '@fluentui/react/lib/Sticky';\r\nimport type { IGridListProps, BaseType } from '../models/interfaces/IGridView';\r\nimport PanelFilter from './PanelFilter';\r\nimport GroupPanel from './GroupPanel';\r\nimport { ListOptions } from './ListOptions';\r\nimport { Suspense } from 'react';\r\n\r\n/** An enhanced version of the `DetailsList` component, with automatic filtering, sorting, grouping, properties searching with many other features to customize.\r\n * \r\n * The component can also be rendered as a collection of `Card` components, with the same functionalities.\r\n */\r\nexport function GridView<T extends BaseType>(props: IGridListProps<T>) {\r\n    const {state, handlers, JSX} = useGridController(props);\r\n    const {CardsList} = JSX;\r\n    const {actualRows, visibleCols, isFilterPanelOpen, filterPanelConfig, groupPanelConfig, listConfig, shouldRenderCard, isGroupPanelOpen, groups} = state;\r\n    const {onItemClick} = handlers;\r\n\r\n    return (\r\n        <GroupPanelContext.Provider value={groupPanelConfig}>\r\n        <FilterPanelContext.Provider value={filterPanelConfig}>\r\n        <ListOptionsContext.Provider value={listConfig}>\r\n            <div style={props?.styles?.root ?? {}}>\r\n                <ListOptions />\r\n                <div data-is-scrollable=\"true\" style={{ position: 'relative', zIndex: 0, ...props?.styles?.contentContainer }} id=\"gridView-root\">\r\n                    {\r\n                    !!props?.onRenderCustomComponent ? actualRows?.map(i => props?.onRenderCustomComponent(i)) :\r\n                    !shouldRenderCard ? \r\n                    <DetailsList\r\n                        {...props?.detailsListProps}\r\n                        onRenderItemColumn={props?.onRenderItemColumn}\r\n                        onRenderRow={(p, defaultRender) => <div onClick={() => onItemClick(p?.item)}>{defaultRender({ ...p, styles: { root: { cursor: props?.onItemClick ? 'pointer' : 'default' } } })}</div>}\r\n                        items={actualRows} columns={visibleCols}\r\n                        groups={groups}\r\n                        groupProps={{\r\n                            isAllGroupsCollapsed: props?.detailsListProps?.groups ? props?.detailsListProps?.groups?.filter(gr => !gr?.isCollapsed)?.length === 0 : true,\r\n                            collapseAllVisibility: CollapseAllVisibility.visible,\r\n                            onRenderHeader: (props, defaultRender) => {\r\n                                if (!props.group!.name)\r\n                                    return <></>;\r\n                                return defaultRender(props);\r\n                            },\r\n                            showEmptyGroups: false\r\n                        }}\r\n                        layoutMode={DetailsListLayoutMode.fixedColumns} isHeaderVisible={true}\r\n                        onRenderDetailsHeader={(headerProps, defaultRender) => (\r\n                            <Sticky key={headerProps?.key} stickyPosition={StickyPositionType.Header} stickyBackgroundColor=\"transparent\">\r\n                                <div key={headerProps?.key}>{defaultRender!(headerProps)}</div>\r\n                            </Sticky>)\r\n                        }\r\n                        checkboxVisibility={props?.detailsListProps?.checkboxVisibility ?? CheckboxVisibility.hidden}\r\n                    /> :\r\n                    <Suspense fallback={'...'}>\r\n                        <div id=\"gridView-cardContainer\" style={props?.cardProps?.containerStyle ?? {display: 'grid', gap: 12, gridTemplateColumns: 'repeat(auto-fill, minmax(300px, 1fr))'}}>\r\n                        {CardsList}\r\n                        </div>\r\n                    </Suspense>\r\n                    }\r\n                </div>\r\n                {isFilterPanelOpen && <PanelFilter />}\r\n                {isGroupPanelOpen && <GroupPanel />}\r\n            </div>\r\n        </ListOptionsContext.Provider>\r\n        </FilterPanelContext.Provider>\r\n        </GroupPanelContext.Provider>);\r\n}","import * as React from 'react';\r\nimport { lazy, useContext, useMemo, Suspense } from 'react';\r\nimport { GroupPanelContext } from './Contexts';\r\n\r\nfunction GroupPanel() {\r\n    const {isOpen, panelTitle, onApply, onCancel, onClose, options, selectedGroupKeys, setSelectedGroupKeys} = useContext(GroupPanelContext);\r\n    const [FluentPanel, PrimaryButton, DefaultButton, RadioButton] = useMemo(() => {\r\n        const Panel = lazy(() => import('@fluentui/react/lib/Panel').then(({ Panel }) => ({ default: Panel })));\r\n        const PrimaryButton = lazy(() => import('@fluentui/react/lib/Button').then(({ PrimaryButton }) => ({ default: PrimaryButton })));\r\n        const DefaultButton = lazy(() => import('@fluentui/react/lib/Button').then(({ DefaultButton }) => ({ default: DefaultButton })));\r\n        const RadioButton = lazy(() => import('@fluentui/react/lib/ChoiceGroup').then(({ ChoiceGroup }) => ({ default: ChoiceGroup })));\r\n        return [Panel, PrimaryButton, DefaultButton, RadioButton];\r\n    }, []);\r\n\r\n    if(!isOpen) return null;\r\n    return (\r\n        <Suspense fallback={<div>...</div>}>\r\n            <FluentPanel\r\n                isFooterAtBottom={true}\r\n                onDismiss={onClose} isOpen={isOpen}\r\n                onRenderFooter={_ => (<div style={{padding: 20}}>\r\n                    <Suspense fallback={'...'}>\r\n                        <PrimaryButton onClick={() => onApply(selectedGroupKeys)} styles={{root: {marginRight: 8}}}>\r\n                            Aplicar\r\n                        </PrimaryButton>\r\n                    </Suspense>\r\n                    <Suspense fallback={'...'}>\r\n                        <DefaultButton onClick={onCancel}>Cancelar</DefaultButton>\r\n                    </Suspense>\r\n                  </div>)}>\r\n                <h2>{panelTitle}</h2>\r\n                <Suspense fallback={'...'}>\r\n                    <RadioButton\r\n                        onChange={(_, opt) => {\r\n                            const keyWithName = `${opt?.key};${opt?.text}` as const;\r\n                            setSelectedGroupKeys(keyWithName);\r\n                        }}\r\n                        defaultSelectedKey={selectedGroupKeys?.split(';')?.[0] ?? undefined}\r\n                        options={[{key: '@NONE', text: 'Nenhum'} ,...options]}/>\r\n                </Suspense>\r\n            </FluentPanel>\r\n        </Suspense>\r\n    );\r\n}\r\n\r\nexport default React.memo(GroupPanel);","import * as React from 'react';\r\nimport { CSSProperties } from 'react';\r\nimport { DefaultButton, PrimaryButton, TextField } from '@fluentui/react'\r\nimport {GroupPanelContext, ListOptionsContext} from './Contexts';\r\nimport { IconClickCaller } from '../helpers/enums';\r\n\r\nexport const ListOptions = () => {\r\n    const { customButtons, enableFilter, enableSearch, searchKeys, onSearchItemChange, \r\n            setIsFilterPanelOpen, defaultButtonsOrder, searchBoxPlaceholder, enableCardView, \r\n            setRenderAs, enableGrouping, onClickSearchIcon, onFilterIconClick, onGroupIconClick, onSearchBoxClick} = React.useContext(ListOptionsContext);\r\n    const {onOpen} = React.useContext(GroupPanelContext);\r\n\r\n    const defaultStyles: Record<string, CSSProperties> = {\r\n        container: {\r\n            display: 'flex',\r\n            flexDirection: 'row',\r\n            gap: 4,\r\n            justifyContent: 'end',\r\n            margin: '8px 0'\r\n        }\r\n    }\r\n\r\n    return (\r\n    <div data-class-name=\"grid-view-header-container\" style={defaultStyles.container}>\r\n        {enableGrouping &&\r\n        <DefaultButton \r\n            onClick={_ => {\r\n                if(!!onGroupIconClick)\r\n                onGroupIconClick();\r\n                onOpen();\r\n            }} styles={{label: {fontSize: 14}, root: {order: defaultButtonsOrder?.group}}} iconProps={{iconName: 'GroupList'}} />}\r\n        {enableCardView && \r\n        <DefaultButton \r\n            onClick={_ => setRenderAs()} styles={{label: {fontSize: 14}, root: {order: defaultButtonsOrder?.card}}} iconProps={{iconName: 'GridViewMedium'}} />}\r\n        {customButtons?.length > 0 && customButtons?.map((b, idx) => {\r\n            switch (b?.renderAs) {\r\n                case 'PrimaryButton':\r\n                    return (<PrimaryButton key={b?.text + \"_\" + idx} className={b?.className} styles={{label: {fontSize: 14}, root: {order: b?.position ?? 'unset'}}} {...b?.props}>{b?.text}</PrimaryButton>);\r\n                case 'DefaultButton': \r\n                    return (<DefaultButton key={b?.text + \"_\" + idx} className={b?.className} styles={{label: {fontSize: 14}, root: {order: b?.position ?? 'unset'}}} {...b?.props}>{b?.text}</DefaultButton>);\r\n                case 'CustomButton': \r\n                    return b?.onRenderCustomButton(b?.props) ?? null;\r\n                default: return (<PrimaryButton key={b?.text + \"_\" + idx} className={b?.className} styles={{label: {fontSize: 14}, root: {order: b?.position ?? 'unset'}}} {...b?.props}>{b?.text}</PrimaryButton>);\r\n            }\r\n        })}\r\n        {(enableSearch && searchKeys) && \r\n        <TextField\r\n            placeholder={searchBoxPlaceholder}\r\n            onKeyDown={(e) => {\r\n                if (e.key === 'Enter') {\r\n                    onClickSearchIcon(IconClickCaller.ENTER, e?.currentTarget?.value, searchKeys);\r\n                }\r\n            }}\r\n            onFocus={onSearchBoxClick}\r\n            onBlur={e => onSearchItemChange(e.target.value, searchKeys)} \r\n            iconProps={{\r\n                iconName: 'Search',\r\n                style: { pointerEvents: \"auto\", cursor: \"pointer\", position: 'static', padding: 8, backgroundColor: '#e2d7cab5'},\r\n                onClick: (e) => {\r\n                    const inputValue = (e?.currentTarget?.parentElement?.childNodes[0] as HTMLInputElement)?.value;\r\n                    if(inputValue)\r\n                        onClickSearchIcon(IconClickCaller.CLICK);\r\n                }\r\n            }} \r\n            styles={{root: {width: 320, order: defaultButtonsOrder?.search}, icon: {color: '[theme: themePrimary, default: #0078D4]'}}} />}\r\n        {enableFilter && \r\n        <DefaultButton \r\n            onClick={_ => {\r\n                if(!!onFilterIconClick) \r\n                    onFilterIconClick();\r\n                setIsFilterPanelOpen(true);\r\n            }} \r\n            styles={{label: {fontSize: 14}, root: {order: defaultButtonsOrder?.filter}}} iconProps={{iconName: 'Filter'}} />}\r\n    </div>);\r\n}","import * as React from 'react';\r\nimport {DateSlider} from './DateSlider';\r\nimport {PeoplePicker} from './PeoplePicker';\r\nimport {usePanelFilterController} from './hooks/usePanelFilterController';\r\n\r\nfunction PanelFilter() {\r\n    const {JSX, state, handlers} = usePanelFilterController();\r\n    const {actualFilteredValues, panelTitle, isOpen, filterOptionsMatrix, availableFilters} = state;\r\n    const {FluentPanel, PrimaryButton, Dropdown, TagPicker, DefaultButton, Label} = JSX;\r\n    const { onClose, onCancel, getDefaultDropdownSelectedKeys, onAddOrRemoveToMap, \r\n            getDefaultSelectedTag, getDefaultSelectedSlider } = handlers;\r\n\r\n    if (!isOpen) return null;\r\n    return (\r\n        <React.Suspense fallback={<div>...</div>}>\r\n            <FluentPanel \r\n                onRenderFooter={_ => (<div style={{padding: 20}}>\r\n                    <React.Suspense fallback={'...'}>\r\n                        <PrimaryButton onClick={() => handlers.onApply(actualFilteredValues)} styles={{root: {marginRight: 8}}}>\r\n                            Aplicar\r\n                        </PrimaryButton>\r\n                    </React.Suspense>\r\n                    <React.Suspense fallback={'...'}>\r\n                        <DefaultButton onClick={onCancel}>Cancelar</DefaultButton>\r\n                    </React.Suspense>\r\n                  </div>)}\r\n                isFooterAtBottom={true}\r\n                onDismiss={onClose} isOpen={isOpen}>\r\n                <h2>{panelTitle}</h2>\r\n                {availableFilters?.map((filter, idx) => {\r\n                    return (<React.Suspense key={filter?.key + \"-\" + idx} fallback={'...'}>\r\n                        {(filter.renderAs === 'Dropdown') ? \r\n                        <Dropdown\r\n                            defaultSelectedKeys={getDefaultDropdownSelectedKeys()}\r\n                            key={filter?.key + \"-\" + idx} options={filterOptionsMatrix[idx]}\r\n                            multiSelect={filter?.enableMultiple} label={filter?.name}\r\n                            onChange={(_, opt) => onAddOrRemoveToMap(filter?.key, opt)} /> :\r\n                        (filter.renderAs === 'SearchBox') ?\r\n                        <div key={filter?.key + \"-\" + filter?.name + \"-\" + idx}>\r\n                        <Label>{filter?.name}</Label>\r\n                        <TagPicker \r\n                            key={filter?.key + \"-\" + idx}\r\n                            getTextFromItem={item => item?.name}\r\n                            defaultSelectedItems={getDefaultSelectedTag(filter.key)}\r\n                            pickerSuggestionsProps={{\r\n                                suggestionsHeaderText: \"Sugestes\",\r\n                                noResultsFoundText: \"Nenhum resultado encontrado\",\r\n                                loadingText: \"Carregando...\"\r\n                            }}\r\n                            pickerCalloutProps={{\r\n                                doNotLayer: true,\r\n                                style: {overflowY: 'auto'},\r\n                                styles: {root: {position: 'relative'}}\r\n                            }}\r\n                            onChange={handlers.onChangeTags(filterOptionsMatrix[idx])}\r\n                            onItemSelected={handlers.onTagSelected(filter?.key)}\r\n                            onResolveSuggestions={handlers.onResolveTagSuggestion(filterOptionsMatrix[idx])} /></div> :\r\n                        (filter.renderAs === 'DateSlider') ?\r\n                        <DateSlider\r\n                            defaultSliderValue={getDefaultSelectedSlider(filter?.key)}\r\n                            onRecordDateRange={handlers.onRecordDateChange(filter?.key)}\r\n                            key={filter?.key + \"-\" + idx}\r\n                            label={filter?.name}/> :\r\n                        (filter?.renderAs === 'PeoplePicker') ?\r\n                        <div>\r\n                        <Label key={filter?.key + \"-\" + filter?.name + \"-\" + idx}>{filter?.name}</Label>\r\n                        <PeoplePicker\r\n                            label={''}\r\n                            key={filter?.key + \"-\" + idx}\r\n                            people={filterOptionsMatrix[idx]}\r\n                            defaultSelectedItems={handlers.getDefaultSelectedPeople(filter?.key)}\r\n                            onChangePeople={handlers.onChangePeople(filter?.key)} /> \r\n                        </div> : null\r\n                        }\r\n                    </React.Suspense>);\r\n                })}\r\n            </FluentPanel>\r\n        </React.Suspense>\r\n    );\r\n}\r\n\r\nexport default React.memo(PanelFilter);","import * as React from 'react';\r\nimport { IPersonaProps } from '@fluentui/react/lib/Persona';\r\nimport { CompactPeoplePicker, IBasePickerSuggestionsProps, ValidationState } from '@fluentui/react/lib/Pickers';\r\n\r\nconst suggestionProps: IBasePickerSuggestionsProps = {\r\n    suggestionsHeaderText: 'Pessoas sugeridas',\r\n    mostRecentlyUsedHeaderText: 'Pessoas mais recentes',\r\n    noResultsFoundText: 'Nenhum resultado encontrado',\r\n    loadingText: 'Carregando',\r\n    showRemoveButtons: true,\r\n    suggestionsAvailableAlertText: 'Sugestes disponveis',\r\n    suggestionsContainerAriaLabel: 'Pessoas sugeridas',\r\n};\r\n\r\ninterface IPeoplePickerProps {\r\n    label: string;\r\n    people: IPersonaProps[];\r\n    onChangePeople: (items: IPersonaProps[]) => void;\r\n    defaultSelectedItems?: IPersonaProps[];\r\n}\r\n\r\nexport const PeoplePicker = (props: IPeoplePickerProps) => {\r\n    const [peopleList, setPeopleList] = React.useState<IPersonaProps[]>(props.people);\r\n    const picker = React.useRef(null);\r\n\r\n    const onFilterChanged = (filterText: string, currentPersonas: IPersonaProps[], limitResults?: number): IPersonaProps[] | Promise<IPersonaProps[]> => {\r\n        if (!filterText)\r\n            return [];\r\n        let filteredPersonas: IPersonaProps[] = filterPersonasByText(filterText);\r\n        filteredPersonas = removeDuplicates(filteredPersonas, currentPersonas);\r\n        filteredPersonas = limitResults ? filteredPersonas.slice(0, limitResults) : filteredPersonas;\r\n        return filteredPersonas;\r\n    };\r\n\r\n    const filterPersonasByText = (filterText: string)=> peopleList.filter(item => doesTextStartWith(item.text as string, filterText));\r\n    \r\n    const onRemoveSuggestion = (item: IPersonaProps): void => {\r\n        const indexPeopleList: number = peopleList.indexOf(item);\r\n        if (indexPeopleList >= 0) {\r\n            const newPeople: IPersonaProps[] = peopleList\r\n                .slice(0, indexPeopleList)\r\n                .concat(peopleList.slice(indexPeopleList + 1));\r\n            setPeopleList(newPeople);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <label>{props.label}</label>\r\n            <CompactPeoplePicker\r\n                onResolveSuggestions={onFilterChanged}\r\n                getTextFromItem={getTextFromItem}\r\n                pickerSuggestionsProps={suggestionProps}\r\n                defaultSelectedItems={props?.defaultSelectedItems}\r\n                onChange={props?.onChangePeople}\r\n                className={'ms-PeoplePicker'}\r\n                onRemoveSuggestion={onRemoveSuggestion}\r\n                onValidateInput={validateInput}\r\n                componentRef={picker}\r\n                resolveDelay={300}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nconst doesTextStartWith = (text: string, filter: string) => text?.toLowerCase()?.indexOf(filter?.toLowerCase()) === 0;\r\n\r\nconst removeDuplicates = (personas: IPersonaProps[], possibleDupes: IPersonaProps[]) => personas.filter(persona => !listContainsPersona(persona, possibleDupes));\r\n\r\nfunction listContainsPersona(persona: IPersonaProps, personas: IPersonaProps[]) {\r\n    if (!personas || !personas.length || personas.length === 0) \r\n        return false;\r\n    return personas.filter(item => item?.text === persona?.text)?.length > 0;\r\n}\r\n\r\nconst getTextFromItem = (persona: IPersonaProps) => persona?.text;\r\n\r\nfunction validateInput(input: string): ValidationState {\r\n    if (input.indexOf('@') !== -1) \r\n        return ValidationState.valid;\r\n    else if (input.length > 1) \r\n        return ValidationState.warning;\r\n    return ValidationState.invalid;\r\n}","import { Utils } from '../../helpers/Utils';\r\nimport { GridViewMapper } from './GridViewMapper';\r\nimport type { IRow, TColumn } from '../../models/interfaces/IGridView';\r\nimport type { ApplyFilter, SearchItem } from '../../models/types/Common';\r\nimport type { FilterOption, IAvailableFilters } from '../../models/interfaces/IPanelFilter';\r\n\r\nexport class GridViewFilter {\r\n\r\n    static onApplyFilter: ApplyFilter<IRow<any>> = ({allRows, setActualRows, setIsFilterPanel, applyCustomFilter, onItemsFiltered}) => (selectedItems) => {\r\n        if(!!applyCustomFilter) {\r\n            const groupedMaps = GridViewMapper.groupMaps(selectedItems);\r\n            return applyCustomFilter({allRows, setActualRows, setIsFilterPanel, selectedItems, groupedMaps});\r\n        }\r\n\r\n        if(selectedItems.size === 0) {\r\n            setActualRows(allRows);\r\n            return setIsFilterPanel(false);\r\n        }\r\n        const groupedMaps = GridViewMapper.groupMaps(selectedItems);\r\n        let filteredRows: IRow[] = [];\r\n        for(const [mapKey, map] of groupedMaps.entries()) {\r\n            const filterFrom = filteredRows?.length > 0 ? filteredRows : allRows;\r\n            map?.forEach(value => {\r\n                const isDate = !!value?.data?.from && !!value?.data?.to;\r\n                const ORrowsFromThisKey = filterFrom.filter(r => {\r\n                    if(isDate) {\r\n                        const from: Date = value?.data?.from;\r\n                        const to: Date = value?.data?.to;\r\n                        const rDate: Date = new Date(Utils.getNestedObject(r, mapKey.split('.')));\r\n                        return rDate >= from && rDate <= to;\r\n                    }\r\n                    return Utils.getNestedObject(r, mapKey.split('.')) === value?.text;\r\n                });\r\n                if(ORrowsFromThisKey.length > 0 && !filteredRows?.map(r => r?.Id)?.includes(value?.data?.Id))\r\n                    filteredRows.push(...ORrowsFromThisKey);\r\n            });\r\n        }\r\n\r\n        filteredRows = filteredRows.filter((obj, pos, arr) => arr.map(mapObj => mapObj?.Id).indexOf(obj?.Id) === pos);\r\n        for(const [mapKey, map] of groupedMaps.entries()) {\r\n            const allMapValues = [...map.values()];\r\n            const newFilteredItems = filteredRows.filter(r => {\r\n                const rowValue = Utils.getNestedObject(r, mapKey.split('.'));\r\n                return allMapValues.some(v => {\r\n                    if(v?.data?.from && v?.data?.to) {\r\n                        const from: Date = v?.data?.from;\r\n                        const to: Date = v?.data?.to;\r\n                        const rDate: Date = new Date(rowValue as string);\r\n                        return rDate >= from && rDate <= to;\r\n                    }\r\n                    return v?.text === rowValue\r\n                });\r\n            });\r\n            if(newFilteredItems?.length > 0)\r\n                filteredRows = newFilteredItems;\r\n        }\r\n\r\n        filteredRows = filteredRows.filter((obj, pos, arr) => arr.map(mapObj => mapObj?.Id).indexOf(obj?.Id) === pos);\r\n        setActualRows(filteredRows)\r\n        setIsFilterPanel(false);\r\n        if(!!onItemsFiltered) \r\n            onItemsFiltered(filteredRows);\r\n    }\r\n\r\n    /**Generate the components of each available column and it's unique values */\r\n    static buildFilters(allRows: IRow[], columns: TColumn<any>[], hiddenFields: string[]): IAvailableFilters[] {\r\n        const filters: IAvailableFilters[] = [];\r\n        const columnsToFilter = GridViewFilter.filterFromColumns(hiddenFields, columns);\r\n        for (let index = 0; index < columnsToFilter.length; index++) {\r\n            const col = columnsToFilter[index];\r\n            const renderAs = col?.renderFilterAs ?? 'Dropdown';\r\n            const keys = col?.key?.split('.') ?? col.fieldName?.split('.'); \r\n            const options: FilterOption[] = allRows?.filter(d => d)?.map((data, idx) => {\r\n                let stringObject = Utils.getNestedObject(data, keys)?.toString();\r\n                if (col?.dateConversionOptions?.shouldConvertToLocaleString)\r\n                    stringObject = Utils.convertIsoToLocaleString(stringObject, col?.dateConversionOptions?.locales, col?.dateConversionOptions?.formatOptions);\r\n                return {\r\n                    key: idx + \"_\" + col?.key,\r\n                    text: stringObject,\r\n                    data\r\n                };\r\n            });\r\n            const uniqueOptions = options?.filter((obj, pos, arr) => arr.map(mapObj => mapObj?.text).indexOf(obj?.text) === pos);\r\n\r\n            filters.push({\r\n                key: col?.key,\r\n                options: uniqueOptions,\r\n                enableMultiple: true,\r\n                name: col?.name,\r\n                renderAs\r\n            });\r\n        }\r\n        return filters;\r\n    }\r\n\r\n    static filterFromColumns = (hiddenKeys: string[], columns: TColumn<any>[]) => columns.filter(c => (!hiddenKeys?.includes(c?.key)));\r\n\r\n    static onSearchItemChange: SearchItem = ({allRows, searchCb, setActualRows, onSearchBoxItemsFiltered}) => (searchText, keys) => {\r\n        const allFilteredRows: IRow[] = []; \r\n        if(!searchText) {\r\n            setActualRows(allRows);\r\n            return [];\r\n        } \r\n        for (const key of keys) {\r\n            const filterFrom = allFilteredRows?.length > 0 ? allFilteredRows : allRows;\r\n            const filteredValues = filterFrom.filter(item => {\r\n                const foundValues: string = Utils.getNestedObject(item, (key as string)?.split('.'))?.toString();\r\n                return foundValues?.toLowerCase()?.startsWith(searchText?.toLowerCase());\r\n            });\r\n            allFilteredRows.push(...filteredValues);\r\n        }\r\n        searchCb(allFilteredRows);\r\n        if(!!onSearchBoxItemsFiltered)\r\n            onSearchBoxItemsFiltered(allFilteredRows);\r\n        return allFilteredRows;\r\n    }\r\n}","import { Utils } from '../../helpers/Utils';\r\nimport type { IGroup } from \"@fluentui/react/lib/DetailsList\";\r\nimport type { ApplyGrouping } from \"../../models/types/Common\";\r\n\r\nexport class GridViewGrouping {\r\n    \r\n    static onApplyGrouping: ApplyGrouping = ({actualRows, cols, setGroups, setIsGroupPanel, emptyGroupLabel, onItemsGrouped}) => (keyAndName) => {\r\n        const defaultEmptyLabel = emptyGroupLabel ?? 'Sem itens definidos';\r\n        const selectedKey = keyAndName?.split(';')?.[0];\r\n        if (!keyAndName || selectedKey === '@NONE') {\r\n            setIsGroupPanel(false);\r\n            if(!!onItemsGrouped) \r\n                onItemsGrouped({selectedKey, setGroups});\r\n            return setGroups(undefined);\r\n        }\r\n        const groups: IGroup[] = [...actualRows]\r\n            .sort((a, b) => (a?.Id as number) - (b?.Id as number))\r\n            .reduce<IGroup[]>((acc, cur) => {\r\n                const [key, name] = keyAndName?.split(';');\r\n                let valueFromKey = Utils.getNestedObject(cur, key.split('.')) as string ?? defaultEmptyLabel;\r\n                const isKeyADate = cols.find(i => i?.key === key)?.dateConversionOptions?.shouldConvertToLocaleString;\r\n                if (isKeyADate)\r\n                    valueFromKey = Utils.convertIsoToLocaleString(\r\n                        valueFromKey, \r\n                        cols.find(i => i?.key === key)?.dateConversionOptions?.locales, \r\n                        cols.find(i => i?.key === key)?.dateConversionOptions?.formatOptions);\r\n                \r\n                const group: IGroup = {\r\n                    key: valueFromKey,\r\n                    name: `${name}: ${valueFromKey}`,\r\n                    startIndex: 0,\r\n                    count: 1,\r\n                }\r\n                if (acc.length === 0) {\r\n                    acc.push(group)\r\n                    return acc\r\n                } else if (!acc?.map(i => i?.key).includes(valueFromKey)) {\r\n                    const count = acc?.filter(g => g?.key === valueFromKey).length;\r\n                    const startIndex = acc[acc.length - 1]?.startIndex + acc[acc.length - 1]?.count;\r\n                    acc.push({\r\n                        key: valueFromKey,\r\n                        name: `${name}: ${valueFromKey}`,\r\n                        startIndex,\r\n                        count\r\n                    });\r\n                }\r\n                const lastAcc = acc[acc.length - 1];\r\n                if (lastAcc?.key === valueFromKey)\r\n                    acc[acc.length - 1].count++;\r\n                return acc\r\n            }, []);\r\n        setGroups(groups);\r\n        setIsGroupPanel(false);\r\n        if(!!onItemsGrouped) \r\n            onItemsGrouped({selectedKey, setGroups});\r\n    }\r\n}","import { FilterOption, SelectedItemsMap } from \"../../models/interfaces/IPanelFilter\";\r\n\r\n/**Internal class to be used when using map data operations on the GridView component context as a whole. */\r\nexport class GridViewMapper {\r\n\r\n    /**\r\n     * Creates a new map collection with the first level keys being the real keys, and the values being the maps with selected maps (with key and values) \r\n     * @example \r\n     * ```ts\r\n     * const selectedItemsMap = new Map([['0_User.Title', data], ['1_User.Title', data]]);\r\n     * const groupedMap = GridViewMapper.groupMaps(selectedItemsMap);\r\n     * //It'll be: key: 'User.Title', value: [Map([['0_User.Title', data], ['1_User.Title', data]])]\r\n     * ```\r\n     **/\r\n    static groupMaps(selectedItems: SelectedItemsMap): Map<string, SelectedItemsMap> {\r\n        const mapsByKeyKind = new Map<string, SelectedItemsMap>();\r\n        selectedItems.forEach((_, key, map) => {\r\n            let keyName = key.split('_')[1];\r\n            if(!keyName && !key.includes('_'))\r\n                keyName = key;\r\n            const doesNotHaveKey = !mapsByKeyKind.has(keyName);\r\n            const sameMapsList = [...map].filter(d => d[0] === key);\r\n            if(doesNotHaveKey) \r\n                mapsByKeyKind.set(keyName, new Map(sameMapsList));\r\n            else {\r\n                const thisKindMap = mapsByKeyKind.get(keyName);\r\n                sameMapsList.forEach(d => thisKindMap?.set(d[0], d[1]));\r\n            } \r\n        });\r\n        return mapsByKeyKind;\r\n    }\r\n\r\n    static mapFilterOptions = (options: FilterOption[]) => {\r\n        return options\r\n        .filter(i => (i?.text !== null && i?.text !== undefined))\r\n        .map<FilterOption>(({ key, text, data }) => ({\r\n            key,\r\n            text,\r\n            data\r\n        }));\r\n    }\r\n}","import * as React from 'react';\r\nimport { useEffect, Dispatch, SetStateAction, useMemo, lazy } from 'react';\r\nimport { Utils } from '../../helpers/Utils';\r\nimport { IRow } from '../../models/interfaces/IGridView';\r\nimport { IInfoCardProps, ICardProps } from '../../models/interfaces/IInfoCardProps';\r\n\r\ninterface IGridCardHandler {\r\n    renderAs: 'card' | 'list';\r\n    enableGrouping: boolean;\r\n    shouldRenderCard: boolean;\r\n    actualRows: IRow[];\r\n    cardProps: ICardProps;\r\n    setShouldRenderCard: Dispatch<SetStateAction<boolean>>;\r\n    setEnableGrouping: Dispatch<SetStateAction<boolean>>;\r\n    onRenderCustomComponent: (item: IRow) => React.ReactNode;\r\n    onItemClick: (item: IRow) => void;\r\n}\r\nexport function useGridCardRendering({\r\n    renderAs, \r\n    setEnableGrouping, \r\n    setShouldRenderCard, \r\n    enableGrouping, \r\n    actualRows, \r\n    shouldRenderCard, \r\n    cardProps, \r\n    onRenderCustomComponent,\r\n    onItemClick\r\n}: IGridCardHandler) {\r\n    useEffect(() => {\r\n        if (renderAs === 'card') {\r\n            setShouldRenderCard(true);\r\n            if (!cardProps || Object?.keys(cardProps)?.length === 0)\r\n                console.error(\"[GridView] - You are using `renderAs: card`, but you are not passing cardProps. This will not work.\");\r\n            return setEnableGrouping(false);\r\n        }\r\n        setShouldRenderCard(false);\r\n        if (enableGrouping)\r\n            setEnableGrouping(true);\r\n    }, [renderAs]);\r\n\r\n    const Card = useMemo(() => {\r\n        if (!shouldRenderCard) return null;\r\n        return lazy(() => import('../../Card/Card').then((module) => ({ default: module?.default })));\r\n    }, [shouldRenderCard]);\r\n\r\n    const CardsList = useMemo(() => {\r\n        if (!Card || renderAs === 'list') return null;\r\n        \r\n        return actualRows?.map(row => {\r\n            if (!!onRenderCustomComponent)\r\n                return onRenderCustomComponent(row);\r\n            let cardTitle: string = Utils.getNestedObject(row, cardProps?.cardTitleKey?.split('.')) || '';\r\n            let cardSubtitle: string = Utils.getNestedObject(row, cardProps?.cardSubtitleKey?.split('.')) || '';\r\n            if (cardProps?.titleDateConversionOptions?.shouldConvertToLocaleString)\r\n                cardTitle = Utils.convertIsoToLocaleString(cardTitle, cardProps?.titleDateConversionOptions?.locales, cardProps?.titleDateConversionOptions?.formatOptions);\r\n            if (cardProps?.subtitleDateConversionOptions?.shouldConvertToLocaleString)\r\n                cardSubtitle = Utils.convertIsoToLocaleString(cardSubtitle, cardProps?.subtitleDateConversionOptions?.locales, cardProps?.subtitleDateConversionOptions?.formatOptions);\r\n            const rightCol = cardProps?.rightColumn;\r\n            const cIndicator = cardProps?.circleIndicator;\r\n            let titleValue = Utils.getNestedObject(row, cIndicator?.title?.split('.') as any) as string;\r\n            if (cIndicator?.dateConversionOptions?.shouldConvertToLocaleString)\r\n                titleValue = Utils.convertIsoToLocaleString(titleValue, cIndicator?.dateConversionOptions?.locales, cIndicator?.dateConversionOptions?.formatOptions);\r\n            const circleIndicator = {\r\n                ...cIndicator,\r\n                title: titleValue\r\n            };\r\n            const newCardProps: IInfoCardProps = {\r\n                ...cardProps,\r\n                cardTitle,\r\n                cardSubtitle,\r\n                cardRightColInformation: rightCol?.keys && {\r\n                    ...rightCol,\r\n                    values: rightCol?.keys?.map(opt => {\r\n                        let title: string = Utils.getNestedObject(row, opt?.title?.split('.') as any);\r\n                        if (opt?.dateConversionOptions?.shouldConvertToLocaleString)\r\n                            title = Utils.convertIsoToLocaleString(title, opt?.dateConversionOptions?.locales, opt?.dateConversionOptions?.formatOptions);\r\n                        return ({ title, style: opt?.style ?? { fontSize: 16, marginBottom: 4, fontWeight: 600 } });\r\n                    })\r\n                },\r\n                circleIndicator,\r\n                onClickDownButton: e => {\r\n                    onItemClick(row);\r\n                    if (cardProps?.onCardClick)\r\n                        cardProps?.onCardClick(e);\r\n                }\r\n            }\r\n            return (<Card key={row?.Id} {...newCardProps} />);\r\n        })\r\n    }, [Card, cardProps, actualRows, renderAs, onRenderCustomComponent]);\r\n\r\n    return CardsList;\r\n}","import * as React from 'react';\r\nimport {useRefWithCallback} from '../../hooks/useRefWithCallback';\r\nimport { Utils } from '../../helpers/Utils';\r\nimport { useState, useEffect, useMemo } from 'react';\r\nimport { useGridCardRendering } from './useGridCardRendering';\r\nimport {GridViewFilter} from '../handlers/GridViewFilter';\r\nimport {GridViewGrouping} from '../handlers/GridViewGrouping';\r\nimport {GridViewMapper} from '../handlers/GridViewMapper';\r\nimport { IconClickCaller } from '../../helpers/enums';\r\nimport type { IGridListProps, IRow, TColumn, BaseType } from '../../models/interfaces/IGridView';\r\nimport type { IListOptionsProps } from '../../models/interfaces/IListOptions';\r\nimport type { IAvailableFilters, IPanelFilterProps, SelectedItemsMap } from '../../models/interfaces/IPanelFilter';\r\nimport type { IGroupPanel } from '../../models/interfaces/IGroupPanel';\r\nimport type { IGroup } from '@fluentui/react/lib/DetailsList';\r\nimport type { KeyAndName } from '../../models/types/Common';\r\n\r\n/** TO-DO: Use `useReducer` with context for better code splitting. */\r\nexport function useGridController<T extends BaseType>(props: IGridListProps<T>) {\r\n    const [renderAs, setRenderAs] = useState<typeof props.renderAs>(props?.renderAs || 'list');\r\n    const [shouldRenderCard, setShouldRenderCard] = useState(props?.renderAs === 'card');\r\n    const [cols, setCols] = useState(props?.columns);\r\n    const [groups, setGroups] = useState<IGroup[]>(undefined);\r\n    const [enableGrouping, setEnableGrouping] = useState(props?.headerOptions?.enableGrouping ?? false);\r\n    const [actualFilteredValues, setActualFilteredValues] = useState<SelectedItemsMap>(new Map());\r\n    const [selectedGroupKeys, setSelectedGroupKeys] = useState<KeyAndName>(null);\r\n    const [allRows, setAllRows] = useState(props?.rows);\r\n    const [actualRows, setActualRows] = useState<IRow<T>[]>(props?.rows ?? []);\r\n    const [isFilterPanelOpen, setIsFilterPanel] = useState(false);\r\n    const [isGroupPanelOpen, setIsGroupPanel] = useState(false);\r\n    const [fromDate, setFromDate] = useState<Date>(null);\r\n    const [toDate, setToDate] = useState(new Date());\r\n    const [searchCb, currentSearchBoxItems] = useRefWithCallback<IRow[]>([]);\r\n    const [memoizedAvailableFilter, setAvailableFilters] = useState<IAvailableFilters[]>([]);\r\n\r\n    const visibleCols = useMemo(() => cols?.filter(c => !c?.hideColumn), [cols]);\r\n    useEffect(() => { setRenderAs(props?.renderAs); }, [props?.renderAs]);\r\n\r\n    const onItemClick = (item: IRow<T>) => !!props?.onItemClick && props?.onItemClick(item);\r\n    const onColumnClick = (currentRows: IRow<T>[]) => (_: any, column: TColumn<T>): void => {\r\n        if(!column) return;\r\n        let isSortedDescending = column?.isSortedDescending;\r\n        if (column?.isSorted) \r\n          isSortedDescending = !isSortedDescending;\r\n    \r\n        const sortedItems = Utils.copyAndSort(currentRows, column?.key, isSortedDescending);\r\n        setActualRows(sortedItems);\r\n        setCols(c => c.map(col => {\r\n            col.isSorted = col.key === column?.key;\r\n            if (col?.isSorted) \r\n              col.isSortedDescending = isSortedDescending;\r\n            return col;\r\n        }));\r\n    }\r\n\r\n    const CardsList = useGridCardRendering({\r\n        renderAs,\r\n        actualRows,\r\n        onItemClick,\r\n        cardProps: props?.cardProps,\r\n        enableGrouping,\r\n        onRenderCustomComponent: props?.onRenderCustomComponent,\r\n        setEnableGrouping,\r\n        setShouldRenderCard,\r\n        shouldRenderCard\r\n    });\r\n\r\n    useEffect(() => {\r\n        if(!props?.columns?.length) return;\r\n        const columns = props?.columns;\r\n        const convertedColumns = columns.map(c => {\r\n            if (c?.key?.includes('.') || c?.fieldName?.includes('.')) {\r\n                c.onRender = (item, _2) => {\r\n                    const fieldValue: string = Utils.getNestedObject(item, c?.fieldName?.split('.'));\r\n                    return <span>{fieldValue}</span>;\r\n                }\r\n                return c;\r\n            } else if (c?.dateConversionOptions?.shouldConvertToLocaleString) {\r\n                c.onRender = (item, _2) => {\r\n                    const fieldValue = Utils.convertIsoToLocaleString(item[c?.fieldName ?? c?.key], c?.dateConversionOptions?.locales, c?.dateConversionOptions?.formatOptions);\r\n                    return <span>{fieldValue}</span>;\r\n                }\r\n            }\r\n            return c;\r\n        });\r\n        setCols(convertedColumns);\r\n    }, [props?.columns]);\r\n\r\n    \r\n\r\n    useEffect(() => { setActualRows(props?.rows); setAllRows(props?.rows) }, [props?.rows]);\r\n\r\n    useEffect(() => {\r\n        setCols(columns => [...columns.map(c => ({...c, onColumnClick: onColumnClick(actualRows)}))]);\r\n    }, [actualRows?.length]);\r\n\r\n    useEffect(() => {\r\n        setAvailableFilters([...GridViewFilter.buildFilters(allRows, cols, props?.hiddenFilterKeys as string[])]);   \r\n    }, [allRows?.length, cols?.length, props?.hiddenGroupKeys?.length]);\r\n\r\n    const filterOptionsMatrix = useMemo(() => memoizedAvailableFilter.map(f => GridViewMapper.mapFilterOptions(f?.options)), [memoizedAvailableFilter]);\r\n\r\n    const filterPanelConfig: IPanelFilterProps = {\r\n        isOpen: isFilterPanelOpen,\r\n        onApply: GridViewFilter.onApplyFilter({\r\n            allRows, \r\n            setActualRows, \r\n            setIsFilterPanel, \r\n            applyCustomFilter: props?.applyCustomFilter, \r\n            onItemsFiltered: props?.onItemsFiltered\r\n        }),\r\n        onCancel: () => { setIsFilterPanel(false); },\r\n        onClose: () =>  { setIsFilterPanel(false); },\r\n        panelTitle: props?.filterPanelTitle ?? 'Filtrar',\r\n        actualFilteredValues,\r\n        setActualFilteredValues,\r\n        fromDate, toDate, setFromDate, setToDate,\r\n        filterOptionsMatrix,\r\n        availableFilters: memoizedAvailableFilter,\r\n    }\r\n\r\n    const groupPanelConfig: IGroupPanel = {\r\n        isOpen: isGroupPanelOpen,\r\n        onCancel: () => { setIsGroupPanel(false); },\r\n        onClose: () =>  { setIsGroupPanel(false); },\r\n        onOpen: () => { setIsGroupPanel(true); },\r\n        panelTitle: props?.groupPanelTitle ?? 'Agrupar',\r\n        setSelectedGroupKeys,\r\n        selectedGroupKeys,\r\n        options: GridViewFilter.filterFromColumns(props?.hiddenGroupKeys as string[], cols)?.map(c => ({key: c?.key, text: c?.name})) ?? [],\r\n        onApply: GridViewGrouping.onApplyGrouping({\r\n            actualRows,\r\n            cols,\r\n            emptyGroupLabel: props?.emptyGroupLabel,\r\n            setIsGroupPanel,\r\n            setGroups,\r\n            onItemsGrouped: props?.onItemsGrouped\r\n        })\r\n    }\r\n\r\n    const listConfig: IListOptionsProps<any> = {\r\n        ...props?.headerOptions,\r\n        onSearchItemChange: GridViewFilter.onSearchItemChange({allRows, searchCb, setActualRows, onSearchBoxItemsFiltered: props?.onSearchBoxItemsFiltered}),\r\n        setRenderAs: () => renderAs === 'card' ? setRenderAs('list') : setRenderAs('card'),\r\n        setIsFilterPanelOpen: (value) => { setIsFilterPanel(value); },\r\n        setIsGroupPanelOpen: (value) => { setIsGroupPanel(value); },\r\n        enableSearch: props?.headerOptions?.enableSearch ?? true,\r\n        enableFilter: props?.headerOptions?.enableFilter ?? true,\r\n        enableCardView: props?.headerOptions?.enableCardView ?? false,\r\n        enableGrouping,\r\n        onClickSearchIcon: (callerType, text, key) => {\r\n            if(callerType === IconClickCaller.CLICK)\r\n                return setActualRows(currentSearchBoxItems?.current as IRow<T>[]);\r\n            if(callerType === IconClickCaller.ENTER) {\r\n                if(!text)\r\n                    return setActualRows(allRows);\r\n                const filteredItems = GridViewFilter.onSearchItemChange({allRows, searchCb, setActualRows, onSearchBoxItemsFiltered: props?.onSearchBoxItemsFiltered})(text, key);\r\n                searchCb(filteredItems);\r\n                setActualRows(filteredItems as IRow<T>[]);\r\n            }\r\n        },\r\n        onFilterIconClick: props?.onFilterIconClick,\r\n        onGroupIconClick: props?.onGroupIconClick,\r\n        onSearchBoxClick: props?.onSearchBoxClick\r\n    }\r\n\r\n    return {\r\n        state: {\r\n            actualRows,\r\n            visibleCols,\r\n            filterPanelConfig,\r\n            groupPanelConfig,\r\n            isFilterPanelOpen,\r\n            isGroupPanelOpen,\r\n            listConfig,\r\n            shouldRenderCard,\r\n            groups\r\n        },\r\n        handlers: { onItemClick },\r\n        JSX: { CardsList }\r\n    }\r\n}","import { lazy, useContext, useMemo, useRef, useEffect } from 'react';\r\nimport { FilterPanelContext } from '../Contexts';\r\nimport { RangeType } from '../../helpers/enums';\r\nimport type { FilterOption } from '../../models/interfaces/IPanelFilter';\r\nimport type { ITag } from '@fluentui/react/lib/Pickers';\r\nimport type { IPersonaProps } from '@fluentui/react/lib/Persona';\r\n\r\nexport function usePanelFilterController() {\r\n    const { isOpen, onClose, panelTitle, onCancel, onApply, actualFilteredValues, setActualFilteredValues, onOpen, filterOptionsMatrix, availableFilters } = useContext(FilterPanelContext);\r\n    const [FluentPanel, Dropdown, PrimaryButton, DefaultButton, TagPicker, Label] = useMemo(() => {\r\n        const Panel = lazy(() => import('@fluentui/react/lib/Panel').then(({ Panel }) => ({ default: Panel })));\r\n        const DropDown = lazy(() => import('@fluentui/react/lib/Dropdown').then(({ Dropdown }) => ({ default: Dropdown })));\r\n        const PrimaryButton = lazy(() => import('@fluentui/react/lib/Button').then(({ PrimaryButton }) => ({ default: PrimaryButton })));\r\n        const DefaultButton = lazy(() => import('@fluentui/react/lib/Button').then(({ DefaultButton }) => ({ default: DefaultButton })));\r\n        const TagPicker = lazy(() => import('@fluentui/react/lib/Pickers').then(({ TagPicker }) => ({ default: TagPicker })));\r\n        const Label = lazy(() => import('@fluentui/react/lib/Label').then(({ Label }) => ({ default: Label })));\r\n        return [Panel, DropDown, PrimaryButton, DefaultButton, TagPicker, Label];\r\n    }, []);\r\n    const lastAddedTag = useRef<FilterOption>(null);\r\n\r\n    const onAddOrRemoveToMap = (rootItemKey: string, option: FilterOption) => {\r\n        //If the current option is selected and is not already on the actualFilteredValues map, add it\r\n        //else if the current option is not select and all the other options are not select too, remove the key from the map\r\n        const copyMap = new Map(actualFilteredValues);\r\n        if (!option.key) return;\r\n        if (option.selected && !copyMap.has(option?.key as string)) {\r\n            copyMap.set(option.key as string, { rootItemKey, itemKey: option.key, data: option?.data, text: option?.text });\r\n        }\r\n        else if (!option.selected && copyMap.has(option?.key as string)) {\r\n            copyMap.delete(option?.key as string);\r\n        }\r\n        else if(option.selected && copyMap.has(option?.key as string) && option?.isDateComponent) {\r\n            copyMap.set(option.key as string, { rootItemKey, itemKey: option.key, data: option?.data, text: option?.text });\r\n        }\r\n        setActualFilteredValues(copyMap);\r\n    }\r\n\r\n    useEffect(() => { if (onOpen) onOpen(); }, []);\r\n\r\n    const listContainsTagList = (tag: FilterOption, tagList?: FilterOption[]) => {\r\n        if (!tagList || !tagList.length || tagList.length === 0)\r\n            return false;\r\n        return tagList.some(compareTag => compareTag?.key === tag?.key);\r\n    };\r\n\r\n    const getDefaultDropdownSelectedKeys = () => {\r\n        const selectedKeys: string[] = [];\r\n        actualFilteredValues.forEach((_, k) => {\r\n            selectedKeys.push(k);\r\n        })\r\n        return selectedKeys;\r\n    }\r\n\r\n    const getDefaultSelectedTag = (keyToFilter: string) => {\r\n        const selectedTags: FilterOption[] = [];\r\n        actualFilteredValues.forEach((d, k) => {\r\n            const keyKind = k?.split('_')[1];\r\n            if (keyKind === keyToFilter)\r\n                selectedTags.push({\r\n                    key: keyKind,\r\n                    text: d?.text,\r\n                    data: d?.data,\r\n                    selected: true,\r\n                    name: d?.text\r\n                });\r\n        })\r\n        return selectedTags as unknown as ITag[];\r\n    }\r\n\r\n    const getDefaultSelectedSlider = (keyToFilter: string): RangeType => {\r\n        const mapWithSameKey = [...actualFilteredValues]?.find(([key]) => key === keyToFilter);\r\n        const mapWithSameKeyValue = mapWithSameKey?.[1]?.data;\r\n        if(mapWithSameKeyValue) \r\n            return mapWithSameKeyValue?.type;\r\n        return RangeType.NONE;\r\n    }\r\n\r\n    const getDefaultSelectedPeople = (keyToFilter: string): IPersonaProps[] => {\r\n        const mapWithSameKey = [...actualFilteredValues]?.filter(([key]) => {\r\n            const keyKind = key?.split('_')[1];\r\n            return keyKind === keyToFilter\r\n        });\r\n        if(mapWithSameKey?.length > 0) {\r\n            const people = mapWithSameKey?.map(([_, value]) => value as IPersonaProps);\r\n            return people;\r\n        }\r\n        return [];\r\n    }\r\n\r\n    const onChangeTags = (options: FilterOption[]) => (tags: ITag[]) => {\r\n        const copyMap = new Map(actualFilteredValues);\r\n        if(tags.length === 0) {\r\n            options.forEach(opt => {\r\n                if(copyMap.has(opt?.key as string))\r\n                    copyMap.delete(opt?.key as string);\r\n            });\r\n        } else if(!(tags?.map(i => i?.key).includes(lastAddedTag?.current?.key))) {\r\n            copyMap.delete(lastAddedTag?.current?.key as string);\r\n            lastAddedTag.current = null; \r\n        }\r\n        setActualFilteredValues(copyMap);\r\n    }\r\n\r\n    const onTagSelected = (key: string) =>(selectedItem: ITag) => {\r\n        onAddOrRemoveToMap(key, {...selectedItem, selected: true} as unknown as FilterOption);\r\n        lastAddedTag.current = selectedItem as unknown as FilterOption;\r\n        return selectedItem;\r\n    }\r\n\r\n    const onResolveTagSuggestion = (options: FilterOption[]) => (currentFilter: string, tagList: ITag[], ) => {\r\n        const result = currentFilter\r\n        ? options.filter(opt => \r\n            opt?.text?.toLowerCase().indexOf(currentFilter.toLowerCase()) === 0 \r\n            && !listContainsTagList(opt, tagList as unknown as FilterOption[])).map(f => ({...f, name: f?.text})): [];\r\n        return result;\r\n    }\r\n\r\n    const onRecordDateChange = (key: string) => (from: Date, to: Date, type: RangeType) => {\r\n        if(from && to && type !== RangeType.NONE)\r\n            onAddOrRemoveToMap(key, {\r\n                key: key,\r\n                text: `${from?.toISOString()} - ${to?.toISOString()}`,\r\n                data: { from, to, type },\r\n                selected: true,\r\n                isDateComponent: true,\r\n                name: `${from?.toISOString()} - ${to?.toISOString()}`\r\n            } as unknown as FilterOption);\r\n        else {\r\n            const copyMap = new Map(actualFilteredValues);\r\n            copyMap.delete(key);\r\n            setActualFilteredValues(copyMap);\r\n        }\r\n    }\r\n\r\n    const onChangePeople = (key: string) => (items: IPersonaProps[]) => {\r\n        const copyMap = new Map(actualFilteredValues);\r\n        if(items.length === 0) {\r\n            actualFilteredValues?.forEach((_, k) => {\r\n                if(k?.split('_')?.[1] === key)\r\n                    copyMap.delete(k);\r\n            });\r\n            setActualFilteredValues(copyMap);\r\n        } \r\n        else {\r\n            items.forEach(i => {\r\n                onAddOrRemoveToMap(key, {\r\n                    key: i?.key,\r\n                    text: i?.text,\r\n                    data: i?.['data'],\r\n                    selected: true,\r\n                    isDateComponent: false,\r\n                    name: i?.text\r\n                } as unknown as FilterOption);\r\n            });\r\n        }\r\n    }\r\n\r\n    return {\r\n        state: {\r\n            isOpen,\r\n            actualFilteredValues,\r\n            panelTitle,\r\n            filterOptionsMatrix,\r\n            availableFilters\r\n        },\r\n        handlers: {\r\n            getDefaultDropdownSelectedKeys,\r\n            getDefaultSelectedTag,\r\n            getDefaultSelectedSlider,\r\n            getDefaultSelectedPeople,\r\n            onAddOrRemoveToMap,\r\n            onClose,\r\n            onCancel,\r\n            onApply,\r\n            onOpen,\r\n            setActualFilteredValues,\r\n            onChangeTags,\r\n            onTagSelected,\r\n            onResolveTagSuggestion,\r\n            onRecordDateChange,\r\n            onChangePeople\r\n        },\r\n        JSX: {\r\n            FluentPanel,\r\n            Dropdown,\r\n            PrimaryButton,\r\n            DefaultButton,\r\n            TagPicker,\r\n            Label\r\n        }\r\n    }\r\n}","export {GridView} from './GridView';","\r\nexport class Utils {\r\n\r\n    /**Tries to convert an ISO `string` to the locale format. */\r\n    public static convertIsoToLocaleString(date: string, locales: string | string[] = 'pt-BR', formatOptions: Intl.DateTimeFormatOptions = undefined): string {\r\n        //First check if the string can be converted to a date object.\r\n        if(!(new Date(date) instanceof Date) && isNaN(new Date(date)?.getTime()))\r\n            return date;\r\n        const isIsoDate = /\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z/.test(date);\r\n        if (!isIsoDate)\r\n            return date;\r\n        return new Intl.DateTimeFormat(locales, formatOptions).format(new Date(date));\r\n    }\r\n\r\n    /**\r\n     * @TO-DO: Add documentation\r\n     */\r\n    public static copyAndSort<T>(items: T[], columnKey: string, isSortedDescending?: boolean): T[] {\r\n        return items.slice(0).sort((a: T, b: T) => {\r\n            const aValue = Utils.getNestedObject(a, columnKey?.split('.'));\r\n            const bValue = Utils.getNestedObject(b, columnKey?.split('.'));\r\n            return ((isSortedDescending ? aValue < bValue : aValue > bValue) ? 1 : -1);\r\n        });\r\n    }\r\n\r\n    /**Get a value from a deep nested object.\r\n     * \r\n     * @param obj The object to search in.\r\n     * @param path The path to the value, as an array of keys, separated by dots.\r\n     * @returns The value, if found.\r\n     * \r\n     * Theoretically, this function can be used to get the value from an `number[]` as the type of the `pathArr`, but I've not tested it.\r\n     */\r\n    public static getNestedObject<Path, ReturnV extends any, Obj extends Record<any, any>>(nestedObj: Obj, pathArr: Path[]): ReturnV {\r\n        return pathArr?.reduce((obj, key) => (obj && obj[key] !== 'undefined') ? obj[key] : undefined, nestedObj) as ReturnV;\r\n    }\r\n\r\n    /**@TO-DO: Add documentation */\r\n    public static getDeepKeys(obj: Record<any, any>): string[] {\r\n        let keys: string[] = [];\r\n        for(let key in obj) {\r\n            keys.push(key);\r\n            if(typeof obj[key] === \"object\") {\r\n                let subKeys = Utils.getDeepKeys(obj[key]);\r\n                keys = keys.concat(subKeys?.map(subkey => {\r\n                    return key + \".\" + subkey;\r\n                }));\r\n            }\r\n        }\r\n        return keys;\r\n    }\r\n}","\r\nexport enum RangeType {\r\n    NONE,\r\n    WEEK,\r\n    MONTH,\r\n    YEAR,\r\n    CUSTOM\r\n}\r\n\r\nexport enum IconClickCaller {\r\n    CLICK,\r\n    ENTER\r\n}","import { RefObject, useCallback, useRef, useState } from \"react\";\r\n\r\n/**\r\n * This hook can be used when using ref inside useCallbacks\r\n * \r\n * Usage\r\n * ```tsx\r\n * const [refCallback, ref, toggle] = useRefWithCallback<HTMLSpanElement>();\r\n * const onClick = useCallback(() => {\r\n    if (ref.current) \r\n      ref.current.scrollIntoView({ behavior: \"smooth\" });\r\n  }, [toggle]);\r\n\r\n  //Change the value of the ref with refCallback(value);\r\n\r\n  return (<span ref={refCallback} />);\r\n  ```\r\n * @returns \r\n */\r\nexport function useRefWithCallback<T>(initialValue: T): [\r\n    (value: T) => void,\r\n    RefObject<T>,\r\n    boolean\r\n] {\r\n    const ref = useRef<T | null>(initialValue);\r\n    const [toggleState, setToggle] = useState(false);\r\n    const refCallback = useCallback((value: T) => {\r\n        ref.current = value;\r\n        setToggle(val => !val);\r\n    }, []);\r\n\r\n    return [refCallback, ref, toggleState];\r\n}","module.exports = require(\"@fluentui/react\");","module.exports = require(\"@fluentui/react/lib/Button\");","module.exports = require(\"@fluentui/react/lib/ChoiceGroup\");","module.exports = require(\"@fluentui/react/lib/DatePicker\");","module.exports = require(\"@fluentui/react/lib/DetailsList\");","module.exports = require(\"@fluentui/react/lib/Dropdown\");","module.exports = require(\"@fluentui/react/lib/Label\");","module.exports = require(\"@fluentui/react/lib/Panel\");","module.exports = require(\"@fluentui/react/lib/Pickers\");","module.exports = require(\"@fluentui/react/lib/Slider\");","module.exports = require(\"@fluentui/react/lib/Sticky\");","module.exports = require(\"react\");"],"sourceRoot":""}