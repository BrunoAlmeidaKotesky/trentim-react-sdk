import {
  require_react
} from "./chunk-WGQJK4T4.js";
import {
  __toESM
} from "./chunk-S5KM4IGW.js";

// node_modules/trentim-react-sdk/dist/IFrame.es.js
var import_react = __toESM(require_react());
import "/home/bruno-linux/ProjetosInternos/Trentim-SDK-UI/storybook/node_modules/trentim-react-sdk/dist/style.css";
function _(e) {
  const { fallback: t, ...n } = e;
  return import_react.default.createElement(import_react.Suspense, {
    fallback: t || "loading..."
  }, import_react.default.createElement(b, {
    ref: e == null ? void 0 : e.ref,
    ...n
  }));
}
function b(e) {
  var a;
  const t = (0, import_react.useRef)(null), n = (0, import_react.useRef)(null), [w, i] = (0, import_react.useState)(false);
  if ((a = t.current) != null && a.promise)
    throw t.current.promise;
  (0, import_react.useLayoutEffect)(() => {
    t.current === null && (t.current = {}, t.current.promise = new Promise((c, r) => {
      Object.assign(t.current, { resolve: c, reject: r });
    }), i(true));
  }, []), (0, import_react.useEffect)(() => {
    var c;
    n != null && n.current && ((c = e == null ? void 0 : e.refChanged) == null || c.call(e, n));
  }, [n == null ? void 0 : n.current, e == null ? void 0 : e.refDepencyList]);
  const { title: m } = e;
  return import_react.default.createElement("iframe", {
    ...e,
    ref: n,
    title: m,
    onLoad: (c) => {
      var r, u;
      t.current.promise = null, (r = t.current) == null || r.resolve(), (u = e.onLoad) == null || u.call(e, c);
    },
    onError: (c) => {
      var r, u;
      t.current.promise = null, (r = t.current) == null || r.reject(), (u = e.onError) == null || u.call(e, c);
    }
  });
}
export {
  _ as IFrame
};
//# sourceMappingURL=trentim-react-sdk_IFrame.js.map
