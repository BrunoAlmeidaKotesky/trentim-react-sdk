import {
  require_react_dom
} from "./chunk-DHU45P7P.js";
import {
  require_react
} from "./chunk-WGQJK4T4.js";
import {
  require_window
} from "./chunk-Z3ID2O7F.js";
import {
  __toESM
} from "./chunk-S5KM4IGW.js";

// node_modules/@storybook/react/dist/chunk-Y6TTZ4RO.mjs
var import_global = __toESM(require_window(), 1);
var import_react = __toESM(require_react(), 1);
var import_react_dom = __toESM(require_react_dom(), 1);
var { FRAMEWORK_OPTIONS: d } = import_global.default;
var s = /* @__PURE__ */ new Map();
var b = (t, o) => {
  let { id: e, component: r } = o;
  if (!r)
    throw new Error(`Unable to render story ${e} as the component annotation is missing from the default export`);
  return import_react.default.createElement(r, { ...t });
};
var x = ({ callback: t, children: o }) => {
  let e = (0, import_react.useRef)();
  return (0, import_react.useLayoutEffect)(() => {
    e.current !== t && (e.current = t, t());
  }, [t]), o;
};
var S = async (t, o) => {
  let e = await D(o);
  return new Promise((r) => {
    e ? e.render(import_react.default.createElement(x, { callback: () => r(null) }, t)) : import_react_dom.default.render(t, o, () => r(null));
  });
};
var M = import_react_dom.version && (import_react_dom.version.startsWith("18") || import_react_dom.version.startsWith("0.0.0"));
var A = (d == null ? void 0 : d.legacyRootApi) !== true;
var h = A && M;
var p = (t) => {
  let o = s.get(t);
  o && h ? (o.unmount(), s.delete(t)) : import_react_dom.default.unmountComponentAtNode(t);
};
var D = async (t) => {
  if (!h)
    return null;
  let o = s.get(t);
  return o || (o = (await import("./react-dom_client.js")).default.createRoot(t), s.set(t, o)), o;
};
var i = class extends import_react.Component {
  constructor() {
    super(...arguments);
    this.state = { hasError: false };
  }
  static getDerivedStateFromError() {
    return { hasError: true };
  }
  componentDidMount() {
    let { hasError: e } = this.state, { showMain: r } = this.props;
    e || r();
  }
  componentDidCatch(e) {
    let { showException: r } = this.props;
    r(e);
  }
  render() {
    let { hasError: e } = this.state, { children: r } = this.props;
    return e ? null : r;
  }
};
var l = (d == null ? void 0 : d.strictMode) ? import_react.StrictMode : import_react.Fragment;
async function U({ storyContext: t, unboundStoryFn: o, showMain: e, showException: r, forceRemount: R }, a) {
  let m = import_react.default.createElement(i, { showMain: e, showException: r }, import_react.default.createElement(o, { ...t })), f = l ? import_react.default.createElement(l, null, m) : m;
  return R && p(a), await S(f, a), () => p(a);
}

export {
  b,
  U
};
//# sourceMappingURL=chunk-HB65Y7MI.js.map
