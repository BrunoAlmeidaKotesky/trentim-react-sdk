"use strict";var I=Object.create;var p=Object.defineProperty;var P=Object.getOwnPropertyDescriptor;var k=Object.getOwnPropertyNames;var M=Object.getPrototypeOf,N=Object.prototype.hasOwnProperty;var C=(n,o)=>{for(var t in o)p(n,t,{get:o[t],enumerable:!0})},u=(n,o,t,e)=>{if(o&&typeof o=="object"||typeof o=="function")for(let r of k(o))!N.call(n,r)&&r!==t&&p(n,r,{get:()=>o[r],enumerable:!(e=P(o,r))||e.enumerable});return n};var y=(n,o,t)=>(t=n!=null?I(M(n)):{},u(o||!n||!n.__esModule?p(t,"default",{value:n,enumerable:!0}):t,n)),F=n=>u(p({},"__esModule",{value:!0}),n);var R={};C(R,{withActions:()=>K});module.exports=F(R);var w=y(require("global")),l=require("@storybook/addons");var E=y(require("uuid-browser/v4")),g=require("@storybook/addons");var h="actions",d="storybook/actions",W=`${d}/panel`,A=`${d}/action-event`;var i={depth:10,clearOnStoryChange:!0,limit:50};var O=(n,o)=>{let t=Object.getPrototypeOf(n);return!t||o(t)?t:O(t,o)},H=n=>Boolean(typeof n=="object"&&n&&O(n,o=>/^Synthetic(?:Base)?Event$/.test(o.constructor.name))&&typeof n.persist=="function"),T=n=>{if(H(n)){let o=Object.create(n.constructor.prototype,Object.getOwnPropertyDescriptors(n));o.persist();let t=Object.getOwnPropertyDescriptor(o,"view"),e=t==null?void 0:t.value;return typeof e=="object"&&(e==null?void 0:e.constructor.name)==="Window"&&Object.defineProperty(o,"view",{...t,value:Object.create(e.constructor.prototype)}),o}return n};function b(n,o={}){let t={...i,...o},e=function(...c){let f=g.addons.getChannel(),s=(0,E.default)(),a=5,m=c.map(T),_=c.length>1?m:m[0],S={id:s,count:0,data:{name:n,args:_},options:{...t,maxDepth:a+(t.depth||3),allowFunction:t.allowFunction||!1}};f.emit(A,S)};return e.isAction=!0,e}var v=(...n)=>{let o=i,t=n;t.length===1&&Array.isArray(t[0])&&([t]=t),t.length!==1&&typeof t[t.length-1]!="string"&&(o={...i,...t.pop()});let e=t[0];(t.length!==1||typeof e=="string")&&(e={},t.forEach(c=>{e[c]=c}));let r={};return Object.keys(e).forEach(c=>{r[c]=b(e[c],o)}),r};var{document:j,Element:D}=w.default,$=/^(\S+)\s*(.*)$/,L=D!=null&&!D.prototype.matches,Y=L?"msMatchesSelector":"matches",x=(n,o)=>{if(n[Y](o))return!0;let t=n.parentElement;return t?x(t,o):!1},z=(n,...o)=>{let t=n(...o);return Object.entries(t).map(([e,r])=>{let[c,f,s]=e.match($)||[];return{eventName:f,handler:a=>{(!s||x(a.target,s))&&r(a)}}})},B=(n,...o)=>{let t=j&&j.getElementById("storybook-root");(0,l.useEffect)(()=>{if(t!=null){let e=z(n,...o);return e.forEach(({eventName:r,handler:c})=>t.addEventListener(r,c)),()=>e.forEach(({eventName:r,handler:c})=>t.removeEventListener(r,c))}},[t,n,o])},K=(0,l.makeDecorator)({name:"withActions",parameterName:h,skipIfNoParametersOrOptions:!0,wrapper:(n,o,{parameters:t})=>(t!=null&&t.handles&&B(v,...t.handles),n(o))});0&&(module.exports={withActions});
