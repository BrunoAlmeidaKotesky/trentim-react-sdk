var L=Object.create;var f=Object.defineProperty;var I=Object.getOwnPropertyDescriptor;var N=Object.getOwnPropertyNames;var $=Object.getPrototypeOf,D=Object.prototype.hasOwnProperty;var W=(o,r)=>{for(var n in r)f(o,n,{get:r[n],enumerable:!0})},w=(o,r,n,t)=>{if(r&&typeof r=="object"||typeof r=="function")for(let e of N(r))!D.call(o,e)&&e!==n&&f(o,e,{get:()=>r[e],enumerable:!(t=I(r,e))||t.enumerable});return o};var Y=(o,r,n)=>(n=o!=null?L($(o)):{},w(r||!o||!o.__esModule?f(n,"default",{value:o,enumerable:!0}):n,o)),j=o=>w(f({},"__esModule",{value:!0}),o);var K={};W(K,{ClientApi:()=>O.ClientApi,StoryStore:()=>k.StoryStore,start:()=>E});module.exports=j(K);var O=require("@storybook/client-api"),k=require("@storybook/store");var S=Y(require("global")),g=require("@storybook/client-api"),A=require("@storybook/preview-web"),h=require("@storybook/channel-postmessage"),F=require("@storybook/addons"),R=require("@storybook/core-events");var y=require("@storybook/client-logger");function B(o){let r=null;Array.isArray(o)?r=o:o.keys&&(r=[o]);let n=new Map;if(r)r.forEach(t=>{t.keys().forEach(e=>{try{let a=t(e);n.set(typeof t.resolve=="function"?t.resolve(e):e,a)}catch(a){let s=a.message&&a.stack?`${a.message}
 ${a.stack}`:a.toString();y.logger.error(`Unexpected error while loading ${e}: ${s}`)}})});else{let t=o();Array.isArray(t)&&t.every(e=>e.default!=null)?n=new Map(t.map((e,a)=>[`exports-map-${a}`,e])):t&&y.logger.warn(`Loader function passed to 'configure' should return void or an array of module exports that all contain a 'default' export. Received: ${JSON.stringify(t)}`)}return n}function x(o,r){var s,d,c;let n=((d=(s=r==null?void 0:r.hot)==null?void 0:s.data)==null?void 0:d.lastExportsMap)||new Map;(c=r==null?void 0:r.hot)!=null&&c.dispose&&(r.hot.accept(),r.hot.dispose(i=>{i.lastExportsMap=n}));let t=B(o),e=new Map;Array.from(t.entries()).filter(([,i])=>!!i.default).filter(([i,l])=>n.get(i)!==l).forEach(([i,l])=>e.set(i,l));let a=new Map;return Array.from(n.keys()).filter(i=>!t.has(i)).forEach(i=>a.set(i,n.get(i))),n=t,{added:e,removed:a}}var{window:p,FEATURES:_}=S.default,m=o=>()=>{throw new Error(`@storybook/client-api:${o} was removed in storyStoreV7.`)};function E(o,{decorateStory:r,render:n}={}){if(p&&(p.IS_STORYBOOK=!0),_!=null&&_.storyStoreV7)return{forceReRender:m("forceReRender"),configure:m("configure"),clientApi:{storiesOf:m("clientApi.storiesOf"),raw:m("raw")}};let t=(0,h.createChannel)({page:"preview"});F.addons.setChannel(t);let e=new g.ClientApi,a=new A.PreviewWeb,s=!1,d=i=>e.importFn(i);function c(){let i=e.getStoryIndex();a.onStoriesChanged({storyIndex:i,importFn:d})}return e.onImportFnChanged=c,e.storyStore=a.storyStore,p&&(p.__STORYBOOK_CLIENT_API__=e,p.__STORYBOOK_ADDONS_CHANNEL__=t,p.__STORYBOOK_PREVIEW__=a,p.__STORYBOOK_STORY_STORE__=a.storyStore),{forceReRender:()=>t.emit(R.FORCE_RE_RENDER),clientApi:e,configure(i,l,T,M=!0){if(M)throw new Error("unexpected configure() call");e.addParameters({framework:i});let C=()=>{let{added:P,removed:v}=x(l,T);return e._loadAddedExports(),Array.from(P.entries()).forEach(([u,b])=>e.facade.addStoriesFromExports(u,b)),Array.from(v.entries()).forEach(([u])=>e.facade.clearFilenameExports(u)),{render:n,...e.facade.projectAnnotations,renderToDOM:o,applyDecorators:r}};s?(C(),c()):(a.initialize({getStoryIndex:()=>e.getStoryIndex(),importFn:d,getProjectAnnotations:C}),s=!0)}}}0&&(module.exports={ClientApi,StoryStore,start});
