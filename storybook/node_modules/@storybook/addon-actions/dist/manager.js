"use strict";var _=Object.create;var x=Object.defineProperty;var N=Object.getOwnPropertyDescriptor;var T=Object.getOwnPropertyNames;var j=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty;var k=(o,n,t,i)=>{if(n&&typeof n=="object"||typeof n=="function")for(let e of T(n))!w.call(o,e)&&e!==t&&x(o,e,{get:()=>n[e],enumerable:!(i=N(n,e))||i.enumerable});return o};var l=(o,n,t)=>(t=o!=null?_(j(o)):{},k(n||!o||!o.__esModule?x(t,"default",{value:o,enumerable:!0}):t,o));var c=l(require("react")),a=require("@storybook/addons"),A=require("@storybook/core-events");var g=l(require("react")),P=require("dequal"),h=require("@storybook/core-events");var r=l(require("react")),d=require("@storybook/theming"),D=require("react-inspector"),u=require("@storybook/components");var f=require("@storybook/theming"),b=require("polished"),C=f.styled.div({display:"flex",padding:0,borderLeft:"5px solid transparent",borderBottom:"1px solid transparent",transition:"all 0.1s",alignItems:"flex-start",whiteSpace:"pre"}),E=f.styled.div(({theme:o})=>({backgroundColor:(0,b.opacify)(.5,o.appBorderColor),color:o.color.inverseText,fontSize:o.typography.size.s1,fontWeight:o.typography.weight.bold,lineHeight:1,padding:"1px 5px",borderRadius:20,margin:"2px 0px"})),O=f.styled.div({flex:1,padding:"0 0 0 5px"});var F=({children:o,className:n})=>r.default.createElement(u.ScrollArea,{horizontal:!0,vertical:!0,className:n},o),z=(0,d.styled)(F)({margin:0,padding:"10px 5px 20px"}),H=(0,d.withTheme)(({theme:o,...n})=>r.default.createElement(D.Inspector,{theme:o.addonActionsTheme||"chromeLight",table:!1,...n})),v=({actions:o,onClear:n})=>r.default.createElement(r.Fragment,null,r.default.createElement(z,null,o.map(t=>r.default.createElement(C,{key:t.id},t.count>1&&r.default.createElement(E,null,t.count),r.default.createElement(O,null,r.default.createElement(H,{sortObjectKeys:!0,showNonenumerable:!1,name:t.data.name,data:t.data.args||t.data}))))),r.default.createElement(u.ActionBar,{actionItems:[{title:"Clear",onClick:n}]}));var S="actions",y="storybook/actions",I=`${y}/panel`,s=`${y}/action-event`;var W=l(require("uuid-browser/v4")),Y=require("@storybook/addons");module&&module.hot&&module.hot.decline&&module.hot.decline();var $=(o,n)=>{try{return(0,P.dequal)(o,n)}catch{return!1}},p=class extends g.Component{constructor(t){super(t);this.handleStoryChange=()=>{let{actions:t}=this.state;t.length>0&&t[0].options.clearOnStoryChange&&this.clearActions()};this.addAction=t=>{this.setState(i=>{let e=[...i.actions],m=e.length&&e[0];return m&&$(m.data,t.data)?m.count++:(t.count=1,e.unshift(t)),{actions:e.slice(0,t.options.limit)}})};this.clearActions=()=>{this.setState({actions:[]})};this.mounted=!1,this.state={actions:[]}}componentDidMount(){this.mounted=!0;let{api:t}=this.props;t.on(s,this.addAction),t.on(h.STORY_CHANGED,this.handleStoryChange)}componentWillUnmount(){this.mounted=!1;let{api:t}=this.props;t.off(h.STORY_CHANGED,this.handleStoryChange),t.off(s,this.addAction)}render(){let{actions:t=[]}=this.state,{active:i}=this.props,e={actions:t,onClear:this.clearActions};return i?g.default.createElement(v,{...e}):null}};a.addons.register(y,o=>{a.addons.addPanel(I,{title(){let[n,t]=(0,c.useState)(0),i=()=>t(L=>L+1),e=()=>t(0);return(0,c.useEffect)(()=>(o.on(s,i),o.on(A.STORY_CHANGED,e),()=>{o.off(s,i),o.off(A.STORY_CHANGED,e)})),`Actions${n===0?"":` (${n})`}`},type:a.types.PANEL,render:({active:n,key:t})=>c.default.createElement(p,{key:t,api:o,active:!!n}),paramKey:S})});
