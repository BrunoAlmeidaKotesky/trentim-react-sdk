"use strict";var R=Object.create;var c=Object.defineProperty;var A=Object.getOwnPropertyDescriptor;var P=Object.getOwnPropertyNames;var S=Object.getPrototypeOf,N=Object.prototype.hasOwnProperty;var $=(t,o)=>{for(var n in o)c(t,n,{get:o[n],enumerable:!0})},g=(t,o,n,r)=>{if(o&&typeof o=="object"||typeof o=="function")for(let e of P(o))!N.call(t,e)&&e!==n&&c(t,e,{get:()=>o[e],enumerable:!(r=A(o,e))||r.enumerable});return t};var D=(t,o,n)=>(n=t!=null?R(S(t)):{},g(o||!t||!t.__esModule?c(n,"default",{value:t,enumerable:!0}):n,t)),w=t=>g(c({},"__esModule",{value:!0}),t);var U={};$(U,{LinkTo:()=>K,hrefTo:()=>T,linkTo:()=>h,navigate:()=>i,withLinks:()=>L});module.exports=w(U);var I=require("ts-dedent");var y=D(require("global")),a=require("@storybook/addons"),m=require("@storybook/core-events"),u=require("@storybook/csf");var d="storybook/links",k="links",G={NAVIGATE:`${d}/navigate`,REQUEST:`${d}/request`,RECEIVE:`${d}/receive`};var{document:f,HTMLElement:O}=y.default;function _(t){let o={},n=(t[0]==="?"?t.substring(1):t).split("&").filter(Boolean);for(let r=0;r<n.length;r++){let e=n[r].split("=");o[decodeURIComponent(e[0])]=decodeURIComponent(e[1]||"")}return o}var i=t=>a.addons.getChannel().emit(m.SELECT_STORY,t),T=(t,o)=>new Promise(n=>{let{location:r}=f,e=_(r.search),s=[].concat(e.id)[0],b=t||s.split("--",2)[0],v=(0,u.toId)(b,o),x=`${r.origin+r.pathname}?${Object.entries({...e,id:v}).map(p=>`${p[0]}=${p[1]}`).join("&")}`;n(x)}),M=t=>o=>typeof o=="function"?o(...t):o,h=(t,o)=>(...n)=>{let r=M(n),e=r(t),s=o?r(o):!1;(e==null?void 0:e.match(/--/))&&!s?i({storyId:e}):s&&e?i({kind:e,story:s}):e?i({kind:e}):s&&i({story:s})},E=t=>{let{target:o}=t;if(!(o instanceof O))return;let n=o,{sbKind:r,sbStory:e}=n.dataset;(r||e)&&(t.preventDefault(),i({kind:r,story:e}))},l=!1,Y=()=>{l||(l=!0,f.addEventListener("click",E))},H=()=>{l&&(l=!1,f.removeEventListener("click",E))},L=(0,a.makeDecorator)({name:"withLinks",parameterName:k,wrapper:(t,o)=>(Y(),a.addons.getChannel().once(m.STORY_CHANGED,H),t(o))});var C=!1;function K(){return C||(console.error(I.dedent`
      LinkTo has moved to addon-links/react:
      import LinkTo from '@storybook/addon-links/react';
    `),C=!0),null}module&&module.hot&&module.hot.decline&&module.hot.decline();0&&(module.exports={LinkTo,hrefTo,linkTo,navigate,withLinks});
