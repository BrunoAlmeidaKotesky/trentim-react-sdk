import { Meta } from '@storybook/addon-docs'
import {RefExample1} from './ExamplesComponents'

<Meta title="Hooks/useRefWithCallback" />

# useRefWithCallback
This hook can be used when using ref inside callbacks, like useCallbacks decoreated functions.

## NOTE:
*A better example will soon be released.*

* Return Value:
```ts dark
//Callback to change the value, the ref object, flag that tells if the value has been changed.
[(value: T) => void, RefObject<T>, boolean
```

* Parameters:

| *Name* | *Required* | *Description* | *Type* |
|--------|-------------|----------------|--------|
| initialValue | true | Any value of type `T`. | <code>T</code> |

* Function Signature:
```ts dark
function useRefWithCallback<T>(initialValue: T): [(value: T) => void, RefObject<T>, boolean]
```

##### Real time example:
<RefExample1 />

* Code: 
```tsx dark
function Example1() {
    const [refCallback, ref, toggle] = useRefWithCallback<HTMLSpanElement>(null);
    const onClick = useCallback(() => {
        if (ref.current) 
            ref.current.style.backgroundColor = `rgb(${Math.floor(Math.random() * 255)}, ${Math.floor(Math.random() * 255)}, ${Math.floor(Math.random() * 255)})`;
    }, [toggle]);

  return (
    <div>
        <button onClick={onClick}>Change color</button>
        <br/>
        <div ref={refCallback} style={{width: '100%', height: 10}}></div>
    </div>
  );
}
```