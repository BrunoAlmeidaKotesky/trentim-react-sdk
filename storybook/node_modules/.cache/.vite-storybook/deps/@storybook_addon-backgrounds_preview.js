import {
  dedent
} from "./chunk-6P6QZ5GB.js";
import {
  Y,
  se
} from "./chunk-UACHQL3Y.js";
import "./chunk-VN7B5P5J.js";
import "./chunk-M3XCZAQ7.js";
import "./chunk-EF2YLWYO.js";
import {
  i
} from "./chunk-3QDDUDC7.js";
import {
  require_window
} from "./chunk-Z3ID2O7F.js";
import {
  __toESM
} from "./chunk-S5KM4IGW.js";

// node_modules/@storybook/addon-backgrounds/dist/chunk-JUUG26P2.mjs
var import_global = __toESM(require_window(), 1);
var l = "storybook/background";
var y = "backgrounds";
var u = { UPDATE: `${l}/update` };
var { document: i2, window: p } = import_global.default;
var B = () => p.matchMedia("(prefers-reduced-motion: reduce)").matches;
var H = (e, t = [], n) => {
  if (e === "transparent")
    return "transparent";
  if (t.find((o) => o.value === e))
    return e;
  let r = t.find((o) => o.name === n);
  if (r)
    return r.value;
  if (n) {
    let o = t.map((s) => s.name).join(", ");
    i.warn(dedent`
        Backgrounds Addon: could not find the default color "${n}".
        These are the available colors for your story based on your configuration:
        ${o}.
      `);
  }
  return "transparent";
};
var L = (e) => {
  (Array.isArray(e) ? e : [e]).forEach(f);
};
var f = (e) => {
  let t = i2.getElementById(e);
  t && t.parentElement.removeChild(t);
};
var h = (e, t) => {
  let n = i2.getElementById(e);
  if (n)
    n.innerHTML !== t && (n.innerHTML = t);
  else {
    let r = i2.createElement("style");
    r.setAttribute("id", e), r.innerHTML = t, i2.head.appendChild(r);
  }
};
var A = (e, t, n) => {
  let r = i2.getElementById(e);
  if (r)
    r.innerHTML !== t && (r.innerHTML = t);
  else {
    let o = i2.createElement("style");
    o.setAttribute("id", e), o.innerHTML = t;
    let s = `addon-backgrounds-grid${n ? `-docs-${n}` : ""}`, a = i2.getElementById(s);
    a ? a.parentElement.insertBefore(o, a) : i2.head.appendChild(o);
  }
};

// node_modules/@storybook/addon-backgrounds/dist/preview.mjs
var F = (g, o) => {
  var _a;
  let { globals: y2, parameters: d } = o, a = (_a = y2[y]) == null ? void 0 : _a.value, n = d[y], t = se(() => n.disable ? "transparent" : H(a, n.values, n.default), [n, a]), r = se(() => t && t !== "transparent", [t]), s = o.viewMode === "docs" ? `#anchor--${o.id} .docs-story` : ".sb-show-main", i3 = se(() => {
    let c2 = "transition: background-color 0.3s;";
    return `
      ${s} {
        background: ${t} !important;
        ${B() ? "" : c2}
      }
    `;
  }, [t, s]);
  return Y(() => {
    let c2 = o.viewMode === "docs" ? `addon-backgrounds-docs-${o.id}` : "addon-backgrounds-color";
    if (!r) {
      L(c2);
      return;
    }
    A(c2, i3, o.viewMode === "docs" ? o.id : null);
  }, [r, i3, o]), g();
};
var M = (g, o) => {
  var _a, _b, _c;
  let { globals: y2, parameters: d } = o, a = d[y].grid, n = ((_a = y2[y]) == null ? void 0 : _a.grid) === true && a.disable !== true, { cellAmount: t, cellSize: r, opacity: s } = a, i3 = o.viewMode === "docs", b = d.layout === void 0 || d.layout === "padded" ? 16 : 0, p2 = (_b = a.offsetX) != null ? _b : i3 ? 20 : b, l2 = (_c = a.offsetY) != null ? _c : i3 ? 20 : b, $ = se(() => {
    let u2 = o.viewMode === "docs" ? `#anchor--${o.id} .docs-story` : ".sb-show-main", v = [`${r * t}px ${r * t}px`, `${r * t}px ${r * t}px`, `${r}px ${r}px`, `${r}px ${r}px`].join(", ");
    return `
      ${u2} {
        background-size: ${v} !important;
        background-position: ${p2}px ${l2}px, ${p2}px ${l2}px, ${p2}px ${l2}px, ${p2}px ${l2}px !important;
        background-blend-mode: difference !important;
        background-image: linear-gradient(rgba(130, 130, 130, ${s}) 1px, transparent 1px),
         linear-gradient(90deg, rgba(130, 130, 130, ${s}) 1px, transparent 1px),
         linear-gradient(rgba(130, 130, 130, ${s / 2}) 1px, transparent 1px),
         linear-gradient(90deg, rgba(130, 130, 130, ${s / 2}) 1px, transparent 1px) !important;
      }
    `;
  }, [r]);
  return Y(() => {
    let u2 = o.viewMode === "docs" ? `addon-backgrounds-grid-docs-${o.id}` : "addon-backgrounds-grid";
    if (!n) {
      L(u2);
      return;
    }
    h(u2, $);
  }, [n, $, o]), g();
};
var O = [M, F];
var L2 = { [y]: { grid: { cellSize: 20, opacity: 0.5, cellAmount: 5 }, values: [{ name: "light", value: "#F8F8F8" }, { name: "dark", value: "#333333" }] } };
var U = { [y]: null };
export {
  O as decorators,
  U as globals,
  L2 as parameters
};
//# sourceMappingURL=@storybook_addon-backgrounds_preview.js.map
