{"version":3,"file":"LayerHost.js","sourceRoot":"../src/","sources":["components/Layer/LayerHost.tsx"],"names":[],"mappings":";;;;IAKO,IAAM,SAAS,GAA6C,UAAA,KAAK;QAC9D,IAAA,EAAE,GAAgB,KAAK,GAArB,EAAE,SAAS,GAAK,KAAK,UAAV,CAAW;QAEhC,KAAK,CAAC,SAAS,CAAC;YACd,sCAAiB,CAAC,EAAG,CAAC,CAAC;YACvB,0FAA0F;QAC5F,CAAC,EAAE,EAAE,CAAC,CAAC;QAEP,UAAU,CAAC;YACT,sCAAiB,CAAC,EAAG,CAAC,CAAC;QACzB,CAAC,CAAC,CAAC;QAEH,OAAO,gDAAS,KAAK,IAAE,SAAS,EAAE,eAAG,CAAC,cAAc,EAAE,SAAS,CAAC,IAAI,CAAC;IACvE,CAAC,CAAC;IAbW,QAAA,SAAS,aAapB;IAEF,IAAM,UAAU,GAAG,UAAC,eAA2B;QAC7C,IAAM,UAAU,GAAG,KAAK,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;QACjD,UAAU,CAAC,OAAO,GAAG,eAAe,CAAC;QACrC,KAAK,CAAC,SAAS,CACb,cAAM,OAAA;YACJ,IAAI,UAAU,CAAC,OAAO,EAAE;gBACtB,UAAU,CAAC,OAAO,EAAE,CAAC;aACtB;QACH,CAAC,EAJK,CAIL,EACD,EAAE,CACH,CAAC;IACJ,CAAC,CAAC","sourcesContent":["import * as React from 'react';\nimport { css } from '../../Utilities';\nimport { notifyHostChanged } from './Layer.notification';\nimport type { ILayerHostProps } from './LayerHost.types';\n\nexport const LayerHost: React.FunctionComponent<ILayerHostProps> = props => {\n  const { id, className } = props;\n\n  React.useEffect(() => {\n    notifyHostChanged(id!);\n    // eslint-disable-next-line react-hooks/exhaustive-deps -- should only run on first render\n  }, []);\n\n  useUnmount(() => {\n    notifyHostChanged(id!);\n  });\n\n  return <div {...props} className={css('ms-LayerHost', className)} />;\n};\n\nconst useUnmount = (unmountFunction: () => void) => {\n  const unmountRef = React.useRef(unmountFunction);\n  unmountRef.current = unmountFunction;\n  React.useEffect(\n    () => () => {\n      if (unmountRef.current) {\n        unmountRef.current();\n      }\n    },\n    [],\n  );\n};\n"]}