{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///(webpack)/buildin/module.js","webpack:///dist/F:/Projetos Individuais/ReactLibraries/trentim-react-sdk/src/Card/Card.tsx","webpack:///dist/F:/Projetos Individuais/ReactLibraries/trentim-react-sdk/src/GridView/Contexts.ts","webpack:///dist/F:/Projetos Individuais/ReactLibraries/trentim-react-sdk/src/GridView/DateSlider.tsx","webpack:///dist/F:/Projetos Individuais/ReactLibraries/trentim-react-sdk/src/GridView/GridView.tsx","webpack:///dist/F:/Projetos Individuais/ReactLibraries/trentim-react-sdk/src/GridView/GroupPanel.tsx","webpack:///dist/F:/Projetos Individuais/ReactLibraries/trentim-react-sdk/src/GridView/ListOptions.tsx","webpack:///dist/F:/Projetos Individuais/ReactLibraries/trentim-react-sdk/src/GridView/PanelFilter.tsx","webpack:///dist/F:/Projetos Individuais/ReactLibraries/trentim-react-sdk/src/GridView/PeoplePicker.tsx","webpack:///dist/F:/Projetos Individuais/ReactLibraries/trentim-react-sdk/src/GridView/handlers/GridViewFilter.ts","webpack:///dist/F:/Projetos Individuais/ReactLibraries/trentim-react-sdk/src/GridView/handlers/GridViewGrouping.ts","webpack:///dist/F:/Projetos Individuais/ReactLibraries/trentim-react-sdk/src/GridView/handlers/GridViewMapper.ts","webpack:///dist/F:/Projetos Individuais/ReactLibraries/trentim-react-sdk/src/GridView/hooks/useGridCardRendering.tsx","webpack:///dist/F:/Projetos Individuais/ReactLibraries/trentim-react-sdk/src/GridView/hooks/useGridController.tsx","webpack:///dist/F:/Projetos Individuais/ReactLibraries/trentim-react-sdk/src/GridView/hooks/usePanelFilterController.ts","webpack:///dist/F:/Projetos Individuais/ReactLibraries/trentim-react-sdk/src/GridView/index.ts","webpack:///dist/F:/Projetos Individuais/ReactLibraries/trentim-react-sdk/src/helpers/Utils.ts","webpack:///dist/F:/Projetos Individuais/ReactLibraries/trentim-react-sdk/src/helpers/enums.ts","webpack:///dist/F:/Projetos Individuais/ReactLibraries/trentim-react-sdk/src/hooks/useRefWithCallback.ts","webpack:///external \"@fluentui/react\"","webpack:///external \"@fluentui/react/lib/Button\"","webpack:///external \"@fluentui/react/lib/ChoiceGroup\"","webpack:///external \"@fluentui/react/lib/DatePicker\"","webpack:///external \"@fluentui/react/lib/DetailsList\"","webpack:///external \"@fluentui/react/lib/Dropdown\"","webpack:///external \"@fluentui/react/lib/Panel\"","webpack:///external \"@fluentui/react/lib/Pickers\"","webpack:///external \"@fluentui/react/lib/Slider\"","webpack:///external \"@fluentui/react/lib/Sticky\"","webpack:///external \"react\""],"names":["webpackUniversalModuleDefinition","root","factory","exports","module","define","amd","a","i","window","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","webpackPolyfill","deprecate","paths","children","InfoCard","React","memo","props","styles","card","backgroundColor","border","margin","borderRadius","position","display","flexDirection","width","height","userSelect","enableUserSelect","color","overflow","top","borderBottom","gridTemplateColumns","columnGap","padding","fontFamily","col","rightCol","alignItems","leftCol","cardTitle","WebkitLineClamp","WebkitBoxOrient","fontSize","lineHeight","projectCode","opacity","bottom","justifyContent","circleWrap","circle","background","status","marginLeft","linkButton","minWidth","onClick","e","onCardClick","style","cardSubtitle","cardRightColInformation","_a","containerStyle","_b","_c","values","_d","length","_e","map","idx","title","plantName","circleIndicator","_f","__assign","_g","_h","_j","Button_1","onClickDownButton","iconProps","iconName","createContext","enableFilter","enableSearch","enableCardView","customButtons","setIsFilterPanelOpen","undefined","searchBoxPlaceholder","setRenderAs","defaultButtonsOrder","group","search","filter","setIsGroupPanelOpen","onClickSearchIcon","isOpen","onApply","availableFilters","onCancel","onClose","panelTitle","actualFilteredValues","Map","setActualFilteredValues","onOpen","fromDate","toDate","Date","setFromDate","setToDate","options","selectedGroupKeys","setSelectedGroupKeys","DateSliderComponent","useState","displayDatePicker","setDisplayDatePicker","useContext","Contexts_1","formatSliderValue","num","onSliderChange","_","val","onRecordDateRange","enums_1","NONE","lastWeek","setDate","getDate","WEEK","lastMonth","setMonth","getMonth","MONTH","lastYear","setFullYear","getFullYear","YEAR","useEffect","CUSTOM","defaultSliderValue","dateStrings","useMemo","months","shortMonths","days","shortDays","goToToday","prevMonthAriaLabel","nextMonthAriaLabel","prevYearAriaLabel","nextYearAriaLabel","closeButtonAriaLabel","isRequiredErrorMessage","invalidInputErrorMessage","isOutOfBoundsErrorMessage","showWeekNumbers","weekNumberFormatString","firstWeekOfYear","dateFormat","showGoToToday","Slider_1","min","max","step","defaultValue","container","valueFormat","onChanged","label","DatePicker_1","maxDate","strings","formatDate","date","toLocaleDateString","onSelectDate","minDate","GridView","useGridController","state","handlers","JSX","CardsList","actualRows","cols","isFilterPanelOpen","filterPanelConfig","groupPanelConfig","listConfig","shouldRenderCard","isGroupPanelOpen","groups","onItemClick","Provider","ListOptions_1","zIndex","contentContainer","onRenderCustomComponent","DetailsList_1","detailsListProps","onRenderItemColumn","onRenderRow","defaultRender","item","cursor","items","columns","groupProps","isAllGroupsCollapsed","collapseAllVisibility","visible","onRenderHeader","showEmptyGroups","layoutMode","fixedColumns","isHeaderVisible","onRenderDetailsHeader","headerProps","Sticky_1","stickyPosition","Header","stickyBackgroundColor","checkboxVisibility","hidden","react_1","fallback","id","cardProps","gap","PanelFilter_1","GroupPanel_1","GroupPanel","Panel","lazy","then","default","PrimaryButton","DefaultButton","RadioButton","ChoiceGroup","FluentPanel","isFooterAtBottom","onDismiss","onRenderFooter","marginRight","onChange","opt","keyWithName","concat","text","defaultSelectedKey","split","__read","ListOptions","searchKeys","onSearchItemChange","enableGrouping","defaultStyles","order","b","className","placeholder","onKeyDown","ENTER","currentTarget","onBlur","target","pointerEvents","inputValue","parentElement","childNodes","CLICK","icon","PanelFilter","usePanelFilterController","Dropdown","TagPicker","getDefaultDropdownSelectedKeys","onAddOrRemoveToMap","getDefaultSelectedTag","getDefaultSelectedSlider","f","mapOptions","Suspense","renderAs","defaultSelectedKeys","multiSelect","enableMultiple","getTextFromItem","defaultSelectedItems","pickerSuggestionsProps","suggestionsHeaderText","noResultsFoundText","loadingText","pickerCalloutProps","doNotLayer","onChangeTags","onItemSelected","onTagSelected","onResolveSuggestions","onResolveTagSuggestion","DateSlider_1","onRecordDateChange","PeoplePicker_1","people","getDefaultSelectedPeople","onChangePeople","suggestionProps","mostRecentlyUsedHeaderText","showRemoveButtons","suggestionsAvailableAlertText","suggestionsContainerAriaLabel","PeoplePicker","peopleList","setPeopleList","picker","useRef","onFilterChanged","filterText","currentPersonas","limitResults","filteredPersonas","filterPersonasByText","removeDuplicates","slice","doesTextStartWith","onRemoveSuggestion","indexPeopleList","indexOf","newPeople","Pickers_1","onValidateInput","validateInput","componentRef","resolveDelay","toLowerCase","personas","possibleDupes","persona","listContainsPersona","input","valid","warning","invalid","GridViewFilter","allRows","hiddenFields","filters","columnsToFilter","filterFromColumns","index","renderFilterAs","keys","fieldName","data","stringObject","Utils","getNestedObject","toString","dateConversionOptions","shouldConvertToLocaleString","Utils_1","convertIsoToLocaleString","locales","formatOptions","uniqueOptions","obj","pos","arr","mapObj","push","setActualRows","setIsFilterPanel","applyCustomFilter","selectedItems","groupedMaps_1","GridViewMapper_1","groupMaps","groupedMaps","size","filteredRows","mapKey","filterFrom","forEach","isDate","from","to","ORrowsFromThisKey","rDate","Id","includes","apply","__spreadArray","entries","allMapValues","newFilteredItems","rowValue","some","v","hiddenKeys","searchCb","searchText","allFilteredRows","filteredValues","foundValues","startsWith","keys_1_1","GridViewGrouping","setGroups","setIsGroupPanel","emptyGroupLabel","keyAndName","defaultEmptyLabel","sort","reduce","acc","cur","valueFromKey","isKeyADate","find","startIndex","count","g","lastAcc","GridViewMapper","mapsByKeyKind","keyName","doesNotHaveKey","has","sameMapsList","set","thisKindMap_1","useGridCardRendering","setEnableGrouping","setShouldRenderCard","console","error","Card","row","cardTitleKey","cardSubtitleKey","titleDateConversionOptions","subtitleDateConversionOptions","rightColumn","cIndicator","titleValue","_k","_l","_m","newCardProps","_o","marginBottom","fontWeight","setCols","headerOptions","rows","setAllRows","currentSearchBoxItems","onColumnClick","currentRows","column","isSortedDescending","isSorted","sortedItems","copyAndSort","convertedColumns","onRender","_2","fieldValue","memoizedAvailableFilter","buildFilters","hiddenFilterKeys","hiddenGroupKeys","GridViewFilter_1","onApplyFilter","filterPanelTitle","groupPanelTitle","GridViewGrouping_1","onApplyGrouping","_p","_q","callerType","current","filteredItems","DropDown","lastAddedTag","rootItemKey","option","copyMap","selected","itemKey","isDateComponent","listContainsTagList","tag","tagList","compareTag","selectedKeys","k","keyToFilter","selectedTags","keyKind","mapWithSameKey","mapWithSameKeyValue","type","tags","selectedItem","currentFilter","result","toISOString","isNaN","getTime","isIsoDate","test","Intl","DateTimeFormat","format","columnKey","aValue","bValue","nestedObj","pathArr","subKeys","getDeepKeys","subkey","RangeType","IconClickCaller","useRefWithCallback","initialValue","ref","toggleState","setToggle","refCallback","useCallback","require"],"mappings":"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","file":"GridView/index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/GridView/index.ts\");\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","import * as React from 'react';\r\nimport { PrimaryButton } from '@fluentui/react/lib/Button';\r\nimport { IInfoCardProps } from '../models/interfaces/IInfoCardProps';\r\nimport { CSSProperties } from 'react';\r\n\r\nconst InfoCard = React.memo((props: IInfoCardProps) => {\r\n    const styles: Record<string, CSSProperties> = {\r\n        card: {\r\n            backgroundColor: \"rgb(255, 255, 255)\",\r\n            border: \"1px solid #ababab\",\r\n            margin: \"0 0 16px\",\r\n            borderRadius: \"4px\",\r\n            position: \"relative\",\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            width: props?.width || \"100%\",\r\n            height: props?.height || \"150px\",\r\n            userSelect: props?.enableUserSelect ? \"unset\" : \"none\",\r\n            color: \"#333\",\r\n            overflow: \"hidden\"\r\n        },\r\n        top: {\r\n            borderBottom: \"1px solid rgb(237, 235, 233)\",\r\n            overflow: \"hidden\",\r\n            height: \"100%\",\r\n            display: \"grid\",\r\n            gridTemplateColumns: \"1fr 120px\",\r\n            columnGap: \"8px\",\r\n            padding: \"16px\",\r\n            fontFamily: `\"Segoe UI\", \"Segoe UI Web (West European)\", \"Segoe UI\", -apple-system, BlinkMacSystemFont, Roboto, \"Helvetica Neue\", sans-serif`\r\n        },\r\n        col: { display: \"flex\", flexDirection: \"column\" },\r\n        rightCol: { display: 'flex', flexDirection: 'column', alignItems: \"flex-end\" },\r\n        leftCol: { display: 'flex', flexDirection: 'column' },\r\n        cardTitle: {\r\n            display: \"-webkit-box\",\r\n            WebkitLineClamp: \"2\",\r\n            WebkitBoxOrient: \"vertical\",\r\n            overflow: \"hidden\",\r\n            fontSize: \"18px\",\r\n            lineHeight: 1.4\r\n        },\r\n        projectCode: {\r\n            fontSize: \"16px\",\r\n            opacity: 0.8\r\n        },\r\n        bottom: {\r\n            display: \"flex\",\r\n            padding: \"6px 16px\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"space-between\",\r\n            backgroundColor: \"rgb(250, 249, 248)\",\r\n            fontFamily: `\"Segoe UI\", \"Segoe UI Web (West European)\", \"Segoe UI\", -apple-system, BlinkMacSystemFont, Roboto, \"Helvetica Neue\", sans-serif`\r\n\r\n        },\r\n        circleWrap: { display: \"inline-flex\", alignItems: \"center\" },\r\n        circle: {\r\n            width: \"16px\",\r\n            height: \"16px\",\r\n            background: \"#06ad51\",\r\n            borderRadius: \"50%\",\r\n            border: \"1px solid #06ad51\",\r\n            display: \"inline-block\"\r\n        },\r\n        status: { display: \"inline-block\", marginLeft: \"8px\" },\r\n        linkButton: { width: \"32px\", height: \"32px\", minWidth: \"32px\" }\r\n    }\r\n\r\n\r\n    return (\r\n        <div onClick={(e) => {\r\n            if (props.onCardClick)\r\n                props?.onCardClick(e);\r\n        }} style={styles.card}>\r\n            <div data-class-name=\"card-top\" style={styles.top}>\r\n                <div data-class-name=\"card-top-left\" style={styles.leftCol}>\r\n                    <div style={styles.cardTitle}>\r\n                        <span>{props?.cardTitle}</span>\r\n                    </div>\r\n                    <div style={styles.projectCode}>\r\n                        <span>{props?.cardSubtitle}</span>\r\n                    </div>\r\n                </div>\r\n                <div data-class-name=\"card-top-right\" style={props?.cardRightColInformation?.containerStyle ?? styles.rightCol}>\r\n                    {props?.cardRightColInformation?.values?.length > 0 && props?.cardRightColInformation?.values.map((value, idx) => (\r\n                        <div key={value?.title ?? idx} style={value?.style ?? styles.plantName}>\r\n                            <span>{value?.title}</span>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n            <div data-class-name=\"card-bottom\" style={styles.bottom}>\r\n                <div data-class-name=\"card-circle-wrapper\" style={styles.circleWrap}>\r\n                    <div style={props?.circleIndicator?.color ? { ...styles.circle, background: props?.circleIndicator?.color, border: `1px solid ${props?.circleIndicator?.color}` } : {}}></div>\r\n                    <span style={styles.status}>{props?.circleIndicator?.title}</span>\r\n                </div>\r\n                <div data-class-name=\"card-button-container\">\r\n                    <PrimaryButton onClick={props?.onClickDownButton} style={styles.linkButton} iconProps={{ iconName: props?.iconName || 'Page' }} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n});\r\n\r\nexport default InfoCard;","import { createContext } from \"react\";\r\nimport type { IListOptionsProps } from \"../models/interfaces/IListOptions\";\r\nimport type { IPanelFilterProps } from '../models/interfaces/IPanelFilter';\r\nimport type { IGroupPanel } from '../models/interfaces/IGroupPanel';\r\n\r\nexport const ListOptionsContext = createContext<IListOptionsProps>({ \r\n    enableFilter: true, \r\n    enableSearch: true,\r\n    enableCardView: true,\r\n    customButtons: [], \r\n    setIsFilterPanelOpen: undefined, \r\n    searchBoxPlaceholder: '',\r\n    setRenderAs: undefined, \r\n    defaultButtonsOrder: { group: 0, search: 1, filter: 2, card: 3 },\r\n    setIsGroupPanelOpen: undefined,\r\n    onClickSearchIcon: undefined\r\n});\r\n\r\nexport const FilterPanelContext = createContext<IPanelFilterProps>({ \r\n    isOpen: false, \r\n    onApply: undefined, \r\n    availableFilters: [], \r\n    onCancel: undefined, \r\n    onClose: undefined, \r\n    panelTitle: '',\r\n    actualFilteredValues: new Map(),\r\n    setActualFilteredValues: undefined,\r\n    onOpen: undefined,\r\n    fromDate: null,\r\n    toDate: new Date(),\r\n    setFromDate: undefined,\r\n    setToDate: undefined\r\n});\r\n\r\nexport const GroupPanelContext = createContext<IGroupPanel>({\r\n    isOpen: false, \r\n    onApply: undefined,\r\n    onCancel: undefined,\r\n    onClose: undefined,\r\n    onOpen: undefined,\r\n    panelTitle: '',\r\n    options: [],\r\n    selectedGroupKeys: null,\r\n    setSelectedGroupKeys: undefined\r\n});","import * as React from 'react';\r\nimport { RangeType } from '../helpers/enums';\r\nimport { Slider, ISliderProps } from '@fluentui/react/lib/Slider';\r\nimport { DatePicker } from '@fluentui/react/lib/DatePicker';\r\nimport type { IDateSliderProps } from '../models/interfaces/IDateSlider';\r\nimport { useContext, useEffect, useState, memo, useMemo } from 'react';\r\nimport { FilterPanelContext } from './Contexts';\r\n\r\nfunction DateSliderComponent(props: IDateSliderProps) {\r\n    const [displayDatePicker, setDisplayDatePicker] = useState(false);\r\n    const {fromDate, toDate, setFromDate, setToDate} = useContext(FilterPanelContext);\r\n    const formatSliderValue = (num: number): string => num === 0 ? 'Nenhum' : num === 1 ? 'ltima Semana' : num === 2 ? 'ltimo Ms' : num === 3 ? 'ltimos Ano' : '';\r\n    const onSliderChange: ISliderProps['onChanged'] = (_, val) => {\r\n        if(val === 4)\r\n            setDisplayDatePicker(true);\r\n        else {\r\n            setDisplayDatePicker(false);\r\n            setFromDate(null);\r\n            setToDate(new Date());\r\n        }\r\n        if(val === 0) {\r\n            props.onRecordDateRange(null, null, RangeType.NONE);\r\n        }\r\n        else if(val === 1) {\r\n            const lastWeek = new Date();\r\n            lastWeek.setDate(lastWeek.getDate() - 7);\r\n            props.onRecordDateRange(lastWeek, new Date(), RangeType.WEEK);\r\n        }\r\n        else if(val === 2) {\r\n            const lastMonth = new Date();\r\n            lastMonth.setMonth(lastMonth.getMonth() - 1);\r\n            props.onRecordDateRange(lastMonth, new Date(), RangeType.MONTH);\r\n        }\r\n        else if(val === 3) {\r\n            const lastYear = new Date();\r\n            lastYear.setFullYear(lastYear.getFullYear() - 1);\r\n            props.onRecordDateRange(lastYear, new Date(), RangeType.YEAR);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(fromDate && toDate)\r\n            props.onRecordDateRange(fromDate, toDate, RangeType.CUSTOM);\r\n    }, [fromDate, toDate]);\r\n\r\n    useEffect(() => {\r\n        if(props?.defaultSliderValue === 4 && !displayDatePicker)\r\n            setDisplayDatePicker(true);\r\n    }, [props?.defaultSliderValue]);\r\n\r\n    const dateStrings = useMemo(() => ({\r\n        months: ['Janeiro', 'Fevereiro', 'Maro', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'],\r\n        shortMonths: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez'],\r\n        days: ['Domingo', 'Segunda', 'Tera', 'Quarta', 'Quinta', 'Sexta', 'Sbado'],\r\n        shortDays: ['D', 'S', 'T', 'Q', 'Q', 'S', 'S'],\r\n        goToToday: 'Hoje',\r\n        prevMonthAriaLabel: 'Ms anterior',\r\n        nextMonthAriaLabel: 'Prximo ms',\r\n        prevYearAriaLabel: 'Ano anterior',\r\n        nextYearAriaLabel: 'Prximo ano',\r\n        closeButtonAriaLabel: 'Fechar',\r\n        isRequiredErrorMessage: 'Este campo  obrigatrio.',\r\n        invalidInputErrorMessage: 'Valor de entrada invlido.',\r\n        isOutOfBoundsErrorMessage: 'Valor de entrada fora dos limites.',\r\n        showWeekNumbers: false,\r\n        weekNumberFormatString: '',\r\n        firstWeekOfYear: 0,\r\n        dateFormat: 'd',\r\n        showGoToToday: true,\r\n    }), []);\r\n\r\n    return (<>\r\n    <Slider\r\n        min={0} max={4} step={1}\r\n        defaultValue={props?.defaultSliderValue ?? 0} styles={{container: { display: 'grid' }}}\r\n        valueFormat={formatSliderValue}\r\n        onChanged={onSliderChange}\r\n        label={props?.label}/>\r\n    {displayDatePicker && \r\n        <div>\r\n            <DatePicker\r\n                maxDate={toDate}\r\n                strings={dateStrings}\r\n                value={fromDate}\r\n                formatDate={(date) => date?.toLocaleDateString()}\r\n                onSelectDate={(d) => {\r\n                    setFromDate(d);\r\n                }}\r\n                label=\"De\"/>\r\n            <DatePicker\r\n                minDate={fromDate}\r\n                strings={dateStrings}\r\n                formatDate={(date) => date?.toLocaleDateString()}\r\n                onSelectDate={(d) => {\r\n                    setToDate(d);\r\n                }}\r\n                value={toDate}\r\n                label=\"At\"/>\r\n        </div>\r\n    }\r\n    </>);\r\n}\r\n\r\nexport const DateSlider = memo(DateSliderComponent);","import * as React from 'react';\r\nimport { useGridController } from './hooks/useGridController';\r\nimport { FilterPanelContext, GroupPanelContext, ListOptionsContext } from './Contexts';\r\nimport { CheckboxVisibility, CollapseAllVisibility, DetailsList, DetailsListLayoutMode } from '@fluentui/react/lib/DetailsList';\r\nimport { Sticky, StickyPositionType } from '@fluentui/react/lib/Sticky';\r\nimport type { IGridListProps } from '../models/interfaces/IGridView';\r\nimport PanelFilter from './PanelFilter';\r\nimport GroupPanel from './GroupPanel';\r\nimport { ListOptions } from './ListOptions';\r\nimport { Suspense } from 'react';\r\n\r\n/** Mudar nome do componente talvez? Ele  mais do que s um Grid. */\r\nexport function GridView<T = any>(props: IGridListProps<T>) {\r\n    const {state, handlers, JSX} = useGridController(props);\r\n    const {CardsList} = JSX;\r\n    const {actualRows, cols, isFilterPanelOpen, filterPanelConfig, groupPanelConfig, listConfig, shouldRenderCard, isGroupPanelOpen, groups} = state;\r\n    const {onItemClick} = handlers;\r\n\r\n    return (\r\n        <GroupPanelContext.Provider value={groupPanelConfig}>\r\n        <FilterPanelContext.Provider value={filterPanelConfig}>\r\n        <ListOptionsContext.Provider value={listConfig}>\r\n            <div style={props?.styles?.root ?? {}}>\r\n                <ListOptions />\r\n                <div data-is-scrollable=\"true\" style={{ position: 'relative', zIndex: 0, ...props?.styles?.contentContainer }}>\r\n                    {\r\n                    !!props?.onRenderCustomComponent ? actualRows?.map(i => props?.onRenderCustomComponent(i)) :\r\n                    !shouldRenderCard ? \r\n                    <DetailsList\r\n                        {...props?.detailsListProps}\r\n                        onRenderItemColumn={props?.onRenderItemColumn}\r\n                        onRenderRow={(p, defaultRender) => <div onClick={() => onItemClick(p?.item)}>{defaultRender({ ...p, styles: { root: { cursor: props?.onItemClick ? 'pointer' : 'default' } } })}</div>}\r\n                        items={actualRows} columns={cols}\r\n                        groups={groups}\r\n                        groupProps={{\r\n                            isAllGroupsCollapsed: /*props?.groups ? props?.groups.filter(gr => !gr?.isCollapsed)?.length === 0 :*/ true,\r\n                            collapseAllVisibility: CollapseAllVisibility.visible,\r\n                            onRenderHeader: (props, defaultRender) => {\r\n                                if (!props.group!.name)\r\n                                    return <></>;\r\n                                return defaultRender(props);\r\n                            },\r\n                            showEmptyGroups: false\r\n                        }}\r\n                        layoutMode={DetailsListLayoutMode.fixedColumns} isHeaderVisible={true}\r\n                        onRenderDetailsHeader={(headerProps, defaultRender) => (\r\n                            <Sticky key={headerProps?.key} stickyPosition={StickyPositionType.Header} stickyBackgroundColor=\"transparent\">\r\n                                <div key={headerProps?.key}>{defaultRender!(headerProps)}</div>\r\n                            </Sticky>)}\r\n                        checkboxVisibility={props?.detailsListProps?.checkboxVisibility ?? CheckboxVisibility.hidden}\r\n                    /> :\r\n                    <Suspense fallback={'...'}>\r\n                        <div id=\"gridView-cardContainer\" style={props?.cardProps?.containerStyle ?? {display: 'grid', gap: 12, gridTemplateColumns: 'repeat(auto-fill, minmax(300px, 1fr))'}}>\r\n                        {CardsList}\r\n                        </div>\r\n                    </Suspense>\r\n                    }\r\n                </div>\r\n                {isFilterPanelOpen && <PanelFilter />}\r\n                {isGroupPanelOpen && <GroupPanel />}\r\n            </div>\r\n        </ListOptionsContext.Provider>\r\n        </FilterPanelContext.Provider>\r\n        </GroupPanelContext.Provider>);\r\n}","import * as React from 'react';\r\nimport { lazy, useContext, useMemo, Suspense } from 'react';\r\nimport { GroupPanelContext } from './Contexts';\r\n\r\nfunction GroupPanel() {\r\n    const {isOpen, panelTitle, onApply, onCancel, onClose, options, selectedGroupKeys, setSelectedGroupKeys} = useContext(GroupPanelContext);\r\n    const [FluentPanel, PrimaryButton, DefaultButton, RadioButton] = useMemo(() => {\r\n        const Panel = lazy(() => import('@fluentui/react/lib/Panel').then(({ Panel }) => ({ default: Panel })));\r\n        const PrimaryButton = lazy(() => import('@fluentui/react/lib/Button').then(({ PrimaryButton }) => ({ default: PrimaryButton })));\r\n        const DefaultButton = lazy(() => import('@fluentui/react/lib/Button').then(({ DefaultButton }) => ({ default: DefaultButton })));\r\n        const RadioButton = lazy(() => import('@fluentui/react/lib/ChoiceGroup').then(({ ChoiceGroup }) => ({ default: ChoiceGroup })));\r\n        return [Panel, PrimaryButton, DefaultButton, RadioButton];\r\n    }, []);\r\n\r\n    if(!isOpen) return null;\r\n    return (\r\n        <Suspense fallback={<div>...</div>}>\r\n            <FluentPanel\r\n                isFooterAtBottom={true}\r\n                onDismiss={onClose} isOpen={isOpen}\r\n                onRenderFooter={_ => (<div style={{padding: 20}}>\r\n                    <Suspense fallback={'...'}>\r\n                        <PrimaryButton onClick={() => onApply(selectedGroupKeys)} styles={{root: {marginRight: 8}}}>\r\n                            Aplicar\r\n                        </PrimaryButton>\r\n                    </Suspense>\r\n                    <Suspense fallback={'...'}>\r\n                        <DefaultButton onClick={onCancel}>Cancelar</DefaultButton>\r\n                    </Suspense>\r\n                  </div>)}>\r\n                <h2>{panelTitle}</h2>\r\n                <Suspense fallback={'...'}>\r\n                    <RadioButton\r\n                        onChange={(_, opt) => {\r\n                            const keyWithName = `${opt?.key};${opt?.text}` as const;\r\n                            setSelectedGroupKeys(keyWithName);\r\n                        }}\r\n                        defaultSelectedKey={selectedGroupKeys?.split(';')?.[0] ?? undefined}\r\n                        options={[{key: '@NONE', text: 'Nenhum'} ,...options]}/>\r\n                </Suspense>\r\n            </FluentPanel>\r\n        </Suspense>\r\n    );\r\n}\r\n\r\nexport default React.memo(GroupPanel);","import * as React from 'react';\r\nimport { CSSProperties } from 'react';\r\nimport { DefaultButton, PrimaryButton, TextField } from '@fluentui/react'\r\nimport {GroupPanelContext, ListOptionsContext} from './Contexts';\r\nimport { IconClickCaller } from '../helpers/enums';\r\n\r\nexport const ListOptions = () => {\r\n    const { customButtons, enableFilter, enableSearch, searchKeys, onSearchItemChange, \r\n            setIsFilterPanelOpen, defaultButtonsOrder, searchBoxPlaceholder, enableCardView, \r\n            setRenderAs, enableGrouping, onClickSearchIcon} = React.useContext(ListOptionsContext);\r\n    const {onOpen} = React.useContext(GroupPanelContext);\r\n\r\n    const defaultStyles: Record<string, CSSProperties> = {\r\n        container: {\r\n            display: 'flex',\r\n            flexDirection: 'row',\r\n            gap: 4,\r\n            justifyContent: 'end',\r\n            margin: '8px 0'\r\n        }\r\n    }\r\n\r\n    return (\r\n    <div data-class-name=\"grid-view-header-container\" style={defaultStyles.container}>\r\n        {enableGrouping &&\r\n        <DefaultButton \r\n            onClick={ _ => onOpen()} styles={{label: {fontSize: 14}, root: {order: defaultButtonsOrder?.group}}} iconProps={{iconName: 'GroupList'}} />}\r\n        {enableCardView && \r\n        <DefaultButton \r\n            onClick={_ => setRenderAs()} styles={{label: {fontSize: 14}, root: {order: defaultButtonsOrder?.card}}} iconProps={{iconName: 'GridViewMedium'}} />}\r\n        {customButtons?.length > 0 && customButtons?.map((b, idx) => \r\n            <PrimaryButton key={b?.text + \"_\" + idx} className={b?.className} styles={{label: {fontSize: 14}, root: {order: b?.position ?? 'unset'}}} {...b?.props}>{b?.text}</PrimaryButton>)}\r\n        {(enableSearch && searchKeys) && \r\n        <TextField\r\n            placeholder={searchBoxPlaceholder}\r\n            onKeyDown={(e) => {\r\n                if (e.key === 'Enter') {\r\n                    onClickSearchIcon(IconClickCaller.ENTER, e?.currentTarget?.value, searchKeys);\r\n                }\r\n            }}\r\n            onBlur={e => onSearchItemChange(e.target.value, searchKeys)} \r\n            iconProps={{\r\n                iconName: 'Search',\r\n                style: { pointerEvents: \"auto\", cursor: \"pointer\", position: 'static', padding: 8, backgroundColor: '#e2d7cab5'},\r\n                onClick: (e) => {\r\n                    const inputValue = (e?.currentTarget?.parentElement?.childNodes[0] as HTMLInputElement)?.value;\r\n                    if(inputValue)\r\n                        onClickSearchIcon(IconClickCaller.CLICK);\r\n                }\r\n            }} \r\n            styles={{root: {width: 320, order: defaultButtonsOrder?.search}, icon: {color: '[theme: themePrimary, default: #0078D4]'}}} />}\r\n        {enableFilter && \r\n        <DefaultButton \r\n            onClick={_ => setIsFilterPanelOpen(true)} styles={{label: {fontSize: 14}, root: {order: defaultButtonsOrder?.filter}}} iconProps={{iconName: 'Filter'}} />}\r\n    </div>);\r\n}","import * as React from 'react';\r\nimport {DateSlider} from './DateSlider';\r\nimport {PeoplePicker} from './PeoplePicker';\r\nimport {usePanelFilterController} from './hooks/usePanelFilterController';\r\n\r\nfunction PanelFilter() {\r\n    const {JSX, state, handlers} = usePanelFilterController();\r\n    const {actualFilteredValues, panelTitle, availableFilters, isOpen} = state;\r\n    const {FluentPanel, PrimaryButton, Dropdown, TagPicker, DefaultButton} = JSX;\r\n    const { onClose, onCancel, getDefaultDropdownSelectedKeys, onAddOrRemoveToMap, \r\n            getDefaultSelectedTag, getDefaultSelectedSlider } = handlers;\r\n\r\n    const options = React.useMemo(() => availableFilters.map(f => handlers.mapOptions(f?.options)), [availableFilters?.length]);\r\n\r\n    if (!isOpen) return null;\r\n    return (\r\n        <React.Suspense fallback={<div>...</div>}>\r\n            <FluentPanel \r\n                onRenderFooter={_ => (<div style={{padding: 20}}>\r\n                    <React.Suspense fallback={'...'}>\r\n                        <PrimaryButton onClick={() => handlers.onApply(actualFilteredValues)} styles={{root: {marginRight: 8}}}>\r\n                            Aplicar\r\n                        </PrimaryButton>\r\n                    </React.Suspense>\r\n                    <React.Suspense fallback={'...'}>\r\n                        <DefaultButton onClick={onCancel}>Cancelar</DefaultButton>\r\n                    </React.Suspense>\r\n                  </div>)}\r\n                isFooterAtBottom={true}\r\n                onDismiss={onClose} isOpen={isOpen}>\r\n                <h2>{panelTitle}</h2>\r\n                {availableFilters?.map((filter, idx) => {\r\n                    return (<React.Suspense key={filter?.key + \"-\" + idx} fallback={'...'}>\r\n                        {(filter.renderAs === 'Dropdown') ? \r\n                        <Dropdown\r\n                            defaultSelectedKeys={getDefaultDropdownSelectedKeys()}\r\n                            key={filter?.key + \"-\" + idx} options={options[idx]}\r\n                            multiSelect={filter?.enableMultiple} label={filter?.name}\r\n                            onChange={(_, opt) => onAddOrRemoveToMap(filter?.key, opt)} /> :\r\n                        (filter.renderAs === 'SearchBox') ?\r\n                        <div key={filter?.key + \"-\" + filter?.name + \"-\" + idx}>\r\n                        <label>{filter?.name}</label>\r\n                        <TagPicker \r\n                            key={filter?.key + \"-\" + idx}\r\n                            getTextFromItem={item => item?.name}\r\n                            defaultSelectedItems={getDefaultSelectedTag(filter.key)}\r\n                            pickerSuggestionsProps={{\r\n                                suggestionsHeaderText: \"Sugestes\",\r\n                                noResultsFoundText: \"Nenhum resultado encontrado\",\r\n                                loadingText: \"Carregando...\"\r\n                            }}\r\n                            pickerCalloutProps={{doNotLayer: true}}\r\n                            onChange={handlers.onChangeTags(options[idx])}\r\n                            onItemSelected={handlers.onTagSelected(filter?.key)}\r\n                            onResolveSuggestions={handlers.onResolveTagSuggestion(options[idx])} /></div> :\r\n                        (filter.renderAs === 'DateSlider') ?\r\n                        <DateSlider\r\n                            defaultSliderValue={getDefaultSelectedSlider(filter?.key)}\r\n                            onRecordDateRange={handlers.onRecordDateChange(filter?.key)}\r\n                            key={filter?.key + \"-\" + idx}\r\n                            label={filter?.name}/> :\r\n                        (filter?.renderAs === 'PeoplePicker') ?\r\n                        <PeoplePicker \r\n                            label={filter?.name} key={filter?.key + \"-\" + idx}\r\n                            people={options[idx]}\r\n                            defaultSelectedItems={handlers.getDefaultSelectedPeople(filter?.key)}\r\n                            onChangePeople={handlers.onChangePeople(filter?.key)} /> : null\r\n                        }\r\n                    </React.Suspense>);\r\n                })}\r\n            </FluentPanel>\r\n        </React.Suspense>\r\n    );\r\n}\r\n\r\nexport default React.memo(PanelFilter);","import * as React from 'react';\r\nimport { IPersonaProps } from '@fluentui/react/lib/Persona';\r\nimport { CompactPeoplePicker, IBasePickerSuggestionsProps, ValidationState } from '@fluentui/react/lib/Pickers';\r\n\r\nconst suggestionProps: IBasePickerSuggestionsProps = {\r\n    suggestionsHeaderText: 'Pessoas sugeridas',\r\n    mostRecentlyUsedHeaderText: 'Pessoas mais recentes',\r\n    noResultsFoundText: 'Nenhum resultado encontrado',\r\n    loadingText: 'Carregando',\r\n    showRemoveButtons: true,\r\n    suggestionsAvailableAlertText: 'Sugestes disponveis',\r\n    suggestionsContainerAriaLabel: 'Pessoas sugeridas',\r\n};\r\n\r\ninterface IPeoplePickerProps {\r\n    label: string;\r\n    people: IPersonaProps[];\r\n    onChangePeople: (items: IPersonaProps[]) => void;\r\n    defaultSelectedItems?: IPersonaProps[];\r\n}\r\n\r\nexport const PeoplePicker = (props: IPeoplePickerProps) => {\r\n    const [peopleList, setPeopleList] = React.useState<IPersonaProps[]>(props.people);\r\n    const picker = React.useRef(null);\r\n\r\n    const onFilterChanged = (filterText: string, currentPersonas: IPersonaProps[], limitResults?: number): IPersonaProps[] | Promise<IPersonaProps[]> => {\r\n        if (!filterText)\r\n            return [];\r\n        let filteredPersonas: IPersonaProps[] = filterPersonasByText(filterText);\r\n        filteredPersonas = removeDuplicates(filteredPersonas, currentPersonas);\r\n        filteredPersonas = limitResults ? filteredPersonas.slice(0, limitResults) : filteredPersonas;\r\n        return filteredPersonas;\r\n    };\r\n\r\n    const filterPersonasByText = (filterText: string)=> peopleList.filter(item => doesTextStartWith(item.text as string, filterText));\r\n    \r\n    const onRemoveSuggestion = (item: IPersonaProps): void => {\r\n        const indexPeopleList: number = peopleList.indexOf(item);\r\n        if (indexPeopleList >= 0) {\r\n            const newPeople: IPersonaProps[] = peopleList\r\n                .slice(0, indexPeopleList)\r\n                .concat(peopleList.slice(indexPeopleList + 1));\r\n            setPeopleList(newPeople);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <label>{props.label}</label>\r\n            <CompactPeoplePicker\r\n                onResolveSuggestions={onFilterChanged}\r\n                getTextFromItem={getTextFromItem}\r\n                pickerSuggestionsProps={suggestionProps}\r\n                defaultSelectedItems={props?.defaultSelectedItems}\r\n                onChange={props?.onChangePeople}\r\n                className={'ms-PeoplePicker'}\r\n                onRemoveSuggestion={onRemoveSuggestion}\r\n                onValidateInput={validateInput}\r\n                componentRef={picker}\r\n                resolveDelay={300}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nconst doesTextStartWith = (text: string, filter: string) => text?.toLowerCase()?.indexOf(filter?.toLowerCase()) === 0;\r\n\r\nconst removeDuplicates = (personas: IPersonaProps[], possibleDupes: IPersonaProps[]) => personas.filter(persona => !listContainsPersona(persona, possibleDupes));\r\n\r\nfunction listContainsPersona(persona: IPersonaProps, personas: IPersonaProps[]) {\r\n    if (!personas || !personas.length || personas.length === 0) \r\n        return false;\r\n    return personas.filter(item => item?.text === persona?.text)?.length > 0;\r\n}\r\n\r\nconst getTextFromItem = (persona: IPersonaProps) => persona?.text;\r\n\r\nfunction validateInput(input: string): ValidationState {\r\n    if (input.indexOf('@') !== -1) \r\n        return ValidationState.valid;\r\n    else if (input.length > 1) \r\n        return ValidationState.warning;\r\n    return ValidationState.invalid;\r\n}","import { Utils } from '../../helpers/Utils';\r\nimport { GridViewMapper } from './GridViewMapper';\r\nimport type { IRow, TColumn } from '../../models/interfaces/IGridView';\r\nimport type { ApplyFilter, SearchItem } from '../../models/types/Common';\r\nimport type { FilterOption, IAvailableFilters } from '../../models/interfaces/IPanelFilter';\r\n\r\nexport class GridViewFilter {\r\n\r\n    static onApplyFilter: ApplyFilter = ({allRows, setActualRows, setIsFilterPanel, applyCustomFilter}) => (selectedItems) => {\r\n        if(!!applyCustomFilter) {\r\n            const groupedMaps = GridViewMapper.groupMaps(selectedItems);\r\n            return applyCustomFilter({allRows, setActualRows, setIsFilterPanel, selectedItems, groupedMaps});\r\n        }\r\n\r\n        if(selectedItems.size === 0) {\r\n            setActualRows(allRows);\r\n            return setIsFilterPanel(false);\r\n        }\r\n        const groupedMaps = GridViewMapper.groupMaps(selectedItems);\r\n        let filteredRows: IRow[] = [];\r\n        for(const [mapKey, map] of groupedMaps.entries()) {\r\n            const filterFrom = filteredRows?.length > 0 ? filteredRows : allRows;\r\n            map?.forEach(value => {\r\n                const isDate = !!value?.data?.from && !!value?.data?.to;\r\n                const ORrowsFromThisKey = filterFrom.filter(r => {\r\n                    if(isDate) {\r\n                        const from: Date = value?.data?.from;\r\n                        const to: Date = value?.data?.to;\r\n                        const rDate: Date = new Date(Utils.getNestedObject(r, mapKey.split('.')));\r\n                        return rDate >= from && rDate <= to;\r\n                    }\r\n                    return Utils.getNestedObject(r, mapKey.split('.')) === value?.text;\r\n                });\r\n                if(ORrowsFromThisKey.length > 0 && !filteredRows?.map(r => r?.Id)?.includes(value?.data?.Id))\r\n                    filteredRows.push(...ORrowsFromThisKey);\r\n            });\r\n        }\r\n\r\n        filteredRows = filteredRows.filter((obj, pos, arr) => arr.map(mapObj => mapObj?.Id).indexOf(obj?.Id) === pos);\r\n        for(const [mapKey, map] of groupedMaps.entries()) {\r\n            const allMapValues = [...map.values()];\r\n            const newFilteredItems = filteredRows.filter(r => {\r\n                const rowValue = Utils.getNestedObject(r, mapKey.split('.'));\r\n                return allMapValues.some(v => {\r\n                    if(v?.data?.from && v?.data?.to) {\r\n                        const from: Date = v?.data?.from;\r\n                        const to: Date = v?.data?.to;\r\n                        const rDate: Date = new Date(rowValue as string);\r\n                        return rDate >= from && rDate <= to;\r\n                    }\r\n                    return v?.text === rowValue\r\n                });\r\n            });\r\n            if(newFilteredItems?.length > 0)\r\n                filteredRows = newFilteredItems;\r\n        }\r\n\r\n        filteredRows = filteredRows.filter((obj, pos, arr) => arr.map(mapObj => mapObj?.Id).indexOf(obj?.Id) === pos);\r\n        setActualRows(filteredRows)\r\n        setIsFilterPanel(false);\r\n    }\r\n\r\n    /**Generate the components of each available column and it's unique values */\r\n    static buildFilters(allRows: IRow[], columns: TColumn<any>[], hiddenFields: string[]): IAvailableFilters[] {\r\n        const filters: IAvailableFilters[] = [];\r\n        const columnsToFilter = GridViewFilter.filterFromColumns(hiddenFields, columns);\r\n        for (let index = 0; index < columnsToFilter.length; index++) {\r\n            const col = columnsToFilter[index];\r\n            const renderAs = col?.renderFilterAs ?? 'Dropdown';\r\n            const keys = col?.key?.split('.') ?? col.fieldName?.split('.'); \r\n            const options: FilterOption[] = allRows?.filter(d => d)?.map((data, idx) => {\r\n                let stringObject = Utils.getNestedObject(data, keys)?.toString();\r\n                if (col?.dateConversionOptions?.shouldConvertToLocaleString)\r\n                    stringObject = Utils.convertIsoToLocaleString(stringObject, col?.dateConversionOptions?.locales, col?.dateConversionOptions?.formatOptions);\r\n                return {\r\n                    key: idx + \"_\" + col?.key,\r\n                    text: stringObject,\r\n                    data\r\n                };\r\n            });\r\n            const uniqueOptions = options?.filter((obj, pos, arr) => arr.map(mapObj => mapObj?.text).indexOf(obj?.text) === pos);\r\n\r\n            filters.push({\r\n                key: col?.key,\r\n                options: uniqueOptions,\r\n                enableMultiple: true,\r\n                name: col?.name,\r\n                renderAs\r\n            });\r\n        }\r\n        return filters;\r\n    }\r\n\r\n    static filterFromColumns = (hiddenKeys: string[], columns: TColumn<any>[]) => columns.filter(c => (!hiddenKeys?.includes(c?.key)));\r\n\r\n    static onSearchItemChange: SearchItem = ({allRows, searchCb, setActualRows}) => (searchText, keys) => {\r\n        const allFilteredRows: IRow[] = []; \r\n        if(!searchText) {\r\n            setActualRows(allRows);\r\n            return [];\r\n        } \r\n        for (const key of keys) {\r\n            const filterFrom = allFilteredRows?.length > 0 ? allFilteredRows : allRows;\r\n            const filteredValues = filterFrom.filter(item => {\r\n                const foundValues: string = Utils.getNestedObject(item, (key as string)?.split('.'))?.toString();\r\n                return foundValues?.toLowerCase()?.startsWith(searchText?.toLowerCase());\r\n            });\r\n            allFilteredRows.push(...filteredValues);\r\n        }\r\n        searchCb(allFilteredRows);\r\n        return allFilteredRows;\r\n    }\r\n}","import { Utils } from '../../helpers/Utils';\r\nimport type { IGroup } from \"@fluentui/react/lib/DetailsList\";\r\nimport type { ApplyGrouping } from \"../../models/types/Common\";\r\n\r\nexport class GridViewGrouping {\r\n    \r\n    static onApplyGrouping: ApplyGrouping = ({actualRows, cols, setGroups, setIsGroupPanel, emptyGroupLabel}) => (keyAndName) => {\r\n        const defaultEmptyLabel = emptyGroupLabel ?? 'Sem itens definidos';\r\n        if (!keyAndName || keyAndName?.split(';')?.[0] === '@NONE') {\r\n            setIsGroupPanel(false);\r\n            return setGroups(undefined);\r\n        }\r\n        const groups: IGroup[] = [...actualRows]\r\n            .sort((a, b) => (a?.Id as number) - (b?.Id as number))\r\n            .reduce<IGroup[]>((acc, cur) => {\r\n                const [key, name] = keyAndName?.split(';');\r\n                let valueFromKey = Utils.getNestedObject(cur, key.split('.')) as string ?? defaultEmptyLabel;\r\n                const isKeyADate = cols.find(i => i?.key === key)?.dateConversionOptions?.shouldConvertToLocaleString;\r\n                if (isKeyADate)\r\n                    valueFromKey = Utils.convertIsoToLocaleString(\r\n                        valueFromKey, \r\n                        cols.find(i => i?.key === key)?.dateConversionOptions?.locales, \r\n                        cols.find(i => i?.key === key)?.dateConversionOptions?.formatOptions);\r\n                \r\n                const group: IGroup = {\r\n                    key: valueFromKey,\r\n                    name: `${name}: ${valueFromKey}`,\r\n                    startIndex: 0,\r\n                    count: 1,\r\n                }\r\n                if (acc.length === 0) {\r\n                    acc.push(group)\r\n                    return acc\r\n                } else if (!acc?.map(i => i?.key).includes(valueFromKey)) {\r\n                    const count = acc?.filter(g => g?.key === valueFromKey).length;\r\n                    const startIndex = acc[acc.length - 1]?.startIndex + acc[acc.length - 1]?.count;\r\n                    acc.push({\r\n                        key: valueFromKey,\r\n                        name: `${name}: ${valueFromKey}`,\r\n                        startIndex,\r\n                        count\r\n                    });\r\n                }\r\n                const lastAcc = acc[acc.length - 1];\r\n                if (lastAcc?.key === valueFromKey)\r\n                    acc[acc.length - 1].count++;\r\n                return acc\r\n            }, []);\r\n        setGroups(groups);\r\n        setIsGroupPanel(false);\r\n    }\r\n}","import { SelectedItemsMap } from \"../../models/interfaces/IPanelFilter\";\r\n\r\n/**Internal class to be used when using map data operations on the GridView component context as a whole. */\r\nexport class GridViewMapper {\r\n\r\n    /**\r\n     * Creates a new map collection with the first level keys being the real keys, and the values being the maps with selected maps (with key and values) \r\n     * @example \r\n     * ```ts\r\n     * const selectedItemsMap = new Map([['0_User.Title', data], ['1_User.Title', data]]);\r\n     * const groupedMap = GridViewMapper.groupMaps(selectedItemsMap);\r\n     * //It'll be: key: 'User.Title', value: [Map([['0_User.Title', data], ['1_User.Title', data]])]\r\n     * ```\r\n     **/\r\n    static groupMaps(selectedItems: SelectedItemsMap): Map<string, SelectedItemsMap> {\r\n        const mapsByKeyKind = new Map<string, SelectedItemsMap>();\r\n        selectedItems.forEach((_, key, map) => {\r\n            let keyName = key.split('_')[1];\r\n            if(!keyName && !key.includes('_'))\r\n                keyName = key;\r\n            const doesNotHaveKey = !mapsByKeyKind.has(keyName);\r\n            const sameMapsList = [...map].filter(d => d[0] === key);\r\n            if(doesNotHaveKey) \r\n                mapsByKeyKind.set(keyName, new Map(sameMapsList));\r\n            else {\r\n                const thisKindMap = mapsByKeyKind.get(keyName);\r\n                sameMapsList.forEach(d => thisKindMap?.set(d[0], d[1]));\r\n            } \r\n        });\r\n        return mapsByKeyKind;\r\n    }\r\n}","import * as React from 'react';\r\nimport { useEffect, Dispatch, SetStateAction, useMemo, lazy } from 'react';\r\nimport { Utils } from '../../helpers/Utils';\r\nimport { IRow, ICardProps } from '../../models/interfaces/IGridView';\r\nimport { IInfoCardProps } from '../../models/interfaces/IInfoCardProps';\r\n\r\ninterface IGridCardHandler {\r\n    renderAs: 'card' | 'list';\r\n    enableGrouping: boolean;\r\n    shouldRenderCard: boolean;\r\n    actualRows: IRow[];\r\n    cardProps: ICardProps;\r\n    setShouldRenderCard: Dispatch<SetStateAction<boolean>>;\r\n    setEnableGrouping: Dispatch<SetStateAction<boolean>>;\r\n    onRenderCustomComponent: (item: IRow) => React.ReactNode;\r\n    onItemClick: (item: IRow) => void;\r\n}\r\nexport function useGridCardRendering({\r\n    renderAs, \r\n    setEnableGrouping, \r\n    setShouldRenderCard, \r\n    enableGrouping, \r\n    actualRows, \r\n    shouldRenderCard, \r\n    cardProps, \r\n    onRenderCustomComponent,\r\n    onItemClick\r\n}: IGridCardHandler) {\r\n    useEffect(() => {\r\n        if (renderAs === 'card') {\r\n            setShouldRenderCard(true);\r\n            if (!cardProps || Object?.keys(cardProps)?.length === 0)\r\n                console.error(\"[GridView] - You are using `renderAs: card`, but you are not passing cardProps. This will not work.\");\r\n            return setEnableGrouping(false);\r\n        }\r\n        setShouldRenderCard(false);\r\n        if (enableGrouping)\r\n            setEnableGrouping(true);\r\n    }, [renderAs]);\r\n\r\n    const Card = useMemo(() => {\r\n        if (!shouldRenderCard) return null;\r\n        return lazy(() => import('../../Card/Card').then((module) => ({ default: module?.default })));\r\n    }, [shouldRenderCard]);\r\n\r\n    const CardsList = useMemo(() => {\r\n        if (!Card || renderAs === 'list') return null;\r\n\r\n        return actualRows?.map(row => {\r\n            if (!!onRenderCustomComponent)\r\n                return onRenderCustomComponent(row);\r\n            let cardTitle: string = Utils.getNestedObject(row, cardProps?.cardTitleKey?.split('.')) || '';\r\n            let cardSubtitle: string = Utils.getNestedObject(row, cardProps?.cardSubtitleKey?.split('.')) || '';\r\n            if (cardProps?.titleDateConversionOptions?.shouldConvertToLocaleString)\r\n                cardTitle = Utils.convertIsoToLocaleString(cardTitle, cardProps?.titleDateConversionOptions?.locales, cardProps?.titleDateConversionOptions?.formatOptions);\r\n            if (cardProps?.subtitleDateConversionOptions?.shouldConvertToLocaleString)\r\n                cardSubtitle = Utils.convertIsoToLocaleString(cardSubtitle, cardProps?.subtitleDateConversionOptions?.locales, cardProps?.subtitleDateConversionOptions?.formatOptions);\r\n            const rightCol = cardProps?.rightColumn;\r\n            const cIndicator = cardProps?.circleIndicator;\r\n            let titleValue = Utils.getNestedObject(row, cIndicator?.title?.split('.') as any) as string;\r\n            if (cIndicator?.dateConversionOptions?.shouldConvertToLocaleString)\r\n                titleValue = Utils.convertIsoToLocaleString(titleValue, cIndicator?.dateConversionOptions?.locales, cIndicator?.dateConversionOptions?.formatOptions);\r\n            const circleIndicator = {\r\n                ...cIndicator,\r\n                title: titleValue\r\n            };\r\n            const newCardProps: IInfoCardProps = {\r\n                ...cardProps,\r\n                cardTitle,\r\n                cardSubtitle,\r\n                cardRightColInformation: rightCol?.keys && {\r\n                    ...rightCol,\r\n                    values: rightCol?.keys?.map(opt => {\r\n                        let title: string = Utils.getNestedObject(row, opt?.title?.split('.') as any);\r\n                        if (opt?.dateConversionOptions?.shouldConvertToLocaleString)\r\n                            title = Utils.convertIsoToLocaleString(title, opt?.dateConversionOptions?.locales, opt?.dateConversionOptions?.formatOptions);\r\n                        return ({ title, style: opt?.style ?? { fontSize: 16, marginBottom: 4, fontWeight: 600 } });\r\n                    })\r\n                },\r\n                circleIndicator,\r\n                onClickDownButton: e => {\r\n                    onItemClick(row);\r\n                    if (cardProps?.onCardClick)\r\n                        cardProps?.onCardClick(e);\r\n                }\r\n            }\r\n            return (<Card key={row?.Id} {...newCardProps} />);\r\n        })\r\n    }, [Card, cardProps, actualRows, renderAs, onRenderCustomComponent]);\r\n\r\n    return CardsList;\r\n}","import * as React from 'react';\r\nimport useRefCallback from '../../hooks/useRefWithCallback';\r\nimport { Utils } from '../../helpers/Utils';\r\nimport { useState, useEffect, useMemo } from 'react';\r\nimport { useGridCardRendering } from './useGridCardRendering';\r\nimport {GridViewFilter} from '../handlers/GridViewFilter';\r\nimport {GridViewGrouping} from '../handlers/GridViewGrouping';\r\nimport { IconClickCaller } from '../../helpers/enums';\r\nimport type { IGridListProps, IRow, TColumn } from '../../models/interfaces/IGridView';\r\nimport type { IListOptionsProps } from '../../models/interfaces/IListOptions';\r\nimport type { IPanelFilterProps, SelectedItemsMap } from '../../models/interfaces/IPanelFilter';\r\nimport type { IGroupPanel } from '../../models/interfaces/IGroupPanel';\r\nimport type { IGroup } from '@fluentui/react/lib/DetailsList';\r\nimport type { KeyAndName } from '../../models/types/Common';\r\n\r\nexport function useGridController(props: IGridListProps<any>) {\r\n    const [renderAs, setRenderAs] = useState<typeof props.renderAs>(props?.renderAs || 'list');\r\n    const [shouldRenderCard, setShouldRenderCard] = useState(props?.renderAs === 'card');\r\n    const [cols, setCols] = useState(props?.columns);\r\n    const [groups, setGroups] = useState<IGroup[]>(undefined);\r\n    const [enableGrouping, setEnableGrouping] = useState(props?.headerOptions?.enableGrouping ?? false);\r\n    const [actualFilteredValues, setActualFilteredValues] = useState<SelectedItemsMap>(new Map());\r\n    const [selectedGroupKeys, setSelectedGroupKeys] = useState<KeyAndName>(null);\r\n    const [allRows, setAllRows] = useState(props?.rows);\r\n    const [actualRows, setActualRows] = useState(props?.rows ?? []);\r\n    const [isFilterPanelOpen, setIsFilterPanel] = useState(false);\r\n    const [isGroupPanelOpen, setIsGroupPanel] = useState(false);\r\n    const [fromDate, setFromDate] = useState<Date>(null);\r\n    const [toDate, setToDate] = useState(new Date());\r\n    const [searchCb, currentSearchBoxItems] = useRefCallback<IRow[]>([]);\r\n\r\n    useEffect(() => { setRenderAs(props?.renderAs); }, [props?.renderAs]);\r\n\r\n    const onItemClick = (item: IRow) => !!props?.onItemClick && props?.onItemClick(item);\r\n    const onColumnClick = (currentRows: IRow[]) => (_: any, column: TColumn<any>): void => {\r\n        if(!column) return;\r\n        let isSortedDescending = column?.isSortedDescending;\r\n        if (column?.isSorted) \r\n          isSortedDescending = !isSortedDescending;\r\n    \r\n        const sortedItems = Utils.copyAndSort(currentRows, column?.key, isSortedDescending);\r\n        setActualRows(sortedItems);\r\n        setCols(c => c.map(col => {\r\n            col.isSorted = col.key === column?.key;\r\n            if (col?.isSorted) \r\n              col.isSortedDescending = isSortedDescending;\r\n            return col;\r\n        }));\r\n    }\r\n\r\n    const CardsList = useGridCardRendering({\r\n        renderAs,\r\n        actualRows,\r\n        onItemClick,\r\n        cardProps: props?.cardProps,\r\n        enableGrouping,\r\n        onRenderCustomComponent: props?.onRenderCustomComponent,\r\n        setEnableGrouping,\r\n        setShouldRenderCard,\r\n        shouldRenderCard\r\n    });\r\n\r\n    useEffect(() => {\r\n        if(!props?.columns?.length) return;\r\n        const columns = props?.columns;\r\n        const convertedColumns = columns.map(c => {\r\n            if (c?.key?.includes('.') || c?.fieldName?.includes('.')) {\r\n                c.onRender = (item, _2) => {\r\n                    const fieldValue: string = Utils.getNestedObject(item, c?.fieldName?.split('.'));\r\n                    return <span>{fieldValue}</span>;\r\n                }\r\n                return c;\r\n            } else if (c?.dateConversionOptions?.shouldConvertToLocaleString) {\r\n                c.onRender = (item, _2) => {\r\n                    const fieldValue = Utils.convertIsoToLocaleString(item[c?.fieldName ?? c?.key], c?.dateConversionOptions?.locales, c?.dateConversionOptions?.formatOptions);\r\n                    return <span>{fieldValue}</span>;\r\n                }\r\n            }\r\n            return c;\r\n        });\r\n        setCols(convertedColumns);\r\n    }, [props?.columns]);\r\n\r\n    useEffect(() => { setActualRows(props?.rows); setAllRows(props?.rows) }, [props?.rows?.length]);\r\n\r\n    useEffect(() => {\r\n        setCols(columns => [...columns.map(c => ({...c, onColumnClick: onColumnClick(actualRows)}))]);\r\n    }, [actualRows?.length]);\r\n\r\n    const memoizedAvailableFilter = useMemo(() => GridViewFilter.buildFilters(allRows, cols, props?.hiddenFilterKeys as string[]), [allRows?.length, cols?.length, props?.hiddenGroupKeys?.length]);\r\n\r\n    const filterPanelConfig: IPanelFilterProps = {\r\n        isOpen: isFilterPanelOpen,\r\n        onApply: GridViewFilter.onApplyFilter({allRows, setActualRows, setIsFilterPanel, applyCustomFilter: props?.applyCustomFilter}),\r\n        onCancel: () => { setIsFilterPanel(false); },\r\n        onClose: () =>  { setIsFilterPanel(false); },\r\n        availableFilters: memoizedAvailableFilter,\r\n        panelTitle: props?.filterPanelTitle ?? 'Filtrar',\r\n        actualFilteredValues,\r\n        setActualFilteredValues,\r\n        fromDate, toDate, setFromDate, setToDate\r\n    }\r\n\r\n    const groupPanelConfig: IGroupPanel = {\r\n        isOpen: isGroupPanelOpen,\r\n        onCancel: () => { setIsGroupPanel(false); },\r\n        onClose: () =>  { setIsGroupPanel(false); },\r\n        onOpen: () => { setIsGroupPanel(true); },\r\n        panelTitle: props?.groupPanelTitle ?? 'Agrupar',\r\n        setSelectedGroupKeys,\r\n        selectedGroupKeys,\r\n        options: GridViewFilter.filterFromColumns(props?.hiddenGroupKeys as string[], cols)?.map(c => ({key: c?.key, text: c?.name})) ?? [],\r\n        onApply: GridViewGrouping.onApplyGrouping({\r\n            actualRows,\r\n            cols,\r\n            emptyGroupLabel: props?.emptyGroupLabel,\r\n            setIsGroupPanel,\r\n            setGroups,\r\n        })\r\n    }\r\n\r\n    const listConfig: IListOptionsProps = {\r\n        ...props?.headerOptions,\r\n        onSearchItemChange: GridViewFilter.onSearchItemChange({allRows, searchCb, setActualRows}),\r\n        setRenderAs: () => renderAs === 'card' ? setRenderAs('list') : setRenderAs('card'),\r\n        setIsFilterPanelOpen: (value) => { setIsFilterPanel(value); },\r\n        setIsGroupPanelOpen: (value) => { setIsGroupPanel(value); },\r\n        enableSearch: props?.headerOptions?.enableSearch ?? true,\r\n        enableFilter: props?.headerOptions?.enableFilter ?? true,\r\n        enableCardView: props?.headerOptions?.enableCardView ?? false,\r\n        enableGrouping,\r\n        onClickSearchIcon: (callerType, text, key) => {\r\n            if(callerType === IconClickCaller.CLICK)\r\n                return setActualRows(currentSearchBoxItems?.current);\r\n            if(callerType === IconClickCaller.ENTER) {\r\n                if(!text)\r\n                    return setActualRows(allRows);\r\n                const filteredItems = GridViewFilter.onSearchItemChange({allRows, searchCb, setActualRows})(text, key);\r\n                searchCb(filteredItems);\r\n                setActualRows(filteredItems);\r\n            }\r\n        }\r\n    }\r\n\r\n    return {\r\n        state: {\r\n            actualRows,\r\n            cols,\r\n            filterPanelConfig,\r\n            groupPanelConfig,\r\n            isFilterPanelOpen,\r\n            isGroupPanelOpen,\r\n            listConfig,\r\n            shouldRenderCard,\r\n            groups\r\n        },\r\n        handlers: {\r\n            onItemClick\r\n        },\r\n        JSX: { CardsList }\r\n    }\r\n}","import { lazy, useContext, useMemo, useRef, useEffect } from 'react';\r\nimport { FilterPanelContext } from '../Contexts';\r\nimport { RangeType } from '../../helpers/enums';\r\nimport type { FilterOption } from '../../models/interfaces/IPanelFilter';\r\nimport type { ITag } from '@fluentui/react/lib/Pickers';\r\nimport type { IPersonaProps } from '@fluentui/react/lib/Persona';\r\n\r\nexport function usePanelFilterController() {\r\n    const { isOpen, onClose, availableFilters, panelTitle, onCancel, onApply, actualFilteredValues, setActualFilteredValues, onOpen } = useContext(FilterPanelContext);\r\n    const [FluentPanel, Dropdown, PrimaryButton, DefaultButton, TagPicker] = useMemo(() => {\r\n        const Panel = lazy(() => import('@fluentui/react/lib/Panel').then(({ Panel }) => ({ default: Panel })));\r\n        const DropDown = lazy(() => import('@fluentui/react/lib/Dropdown').then(({ Dropdown }) => ({ default: Dropdown })));\r\n        const PrimaryButton = lazy(() => import('@fluentui/react/lib/Button').then(({ PrimaryButton }) => ({ default: PrimaryButton })));\r\n        const DefaultButton = lazy(() => import('@fluentui/react/lib/Button').then(({ DefaultButton }) => ({ default: DefaultButton })));\r\n        const TagPicker = lazy(() => import('@fluentui/react/lib/Pickers').then(({ TagPicker }) => ({ default: TagPicker })));\r\n        return [Panel, DropDown, PrimaryButton, DefaultButton, TagPicker];\r\n    }, []);\r\n    const lastAddedTag = useRef<FilterOption>(null);\r\n\r\n    const onAddOrRemoveToMap = (rootItemKey: string, option: FilterOption) => {\r\n        //If the current option is selected and is not already on the actualFilteredValues map, add it\r\n        //else if the current option is not select and all the other options are not select too, remove the key from the map\r\n        const copyMap = new Map(actualFilteredValues);\r\n        if (!option.key) return;\r\n        if (option.selected && !copyMap.has(option?.key as string)) {\r\n            copyMap.set(option.key as string, { rootItemKey, itemKey: option.key, data: option?.data, text: option?.text });\r\n        }\r\n        else if (!option.selected && copyMap.has(option?.key as string)) {\r\n            copyMap.delete(option?.key as string);\r\n        }\r\n        else if(option.selected && copyMap.has(option?.key as string) && option?.isDateComponent) {\r\n            copyMap.set(option.key as string, { rootItemKey, itemKey: option.key, data: option?.data, text: option?.text });\r\n        }\r\n        setActualFilteredValues(copyMap);\r\n    }\r\n\r\n    useEffect(() => { if (onOpen) onOpen(); }, []);\r\n\r\n    const mapOptions = (options: FilterOption[]) => {\r\n        return options\r\n        .filter(i => (i?.text !== null && i?.text !== undefined))\r\n        .map<FilterOption>(({ key, text, data }) => ({\r\n            key,\r\n            text,\r\n            data\r\n        }));\r\n    }\r\n\r\n    const listContainsTagList = (tag: FilterOption, tagList?: FilterOption[]) => {\r\n        if (!tagList || !tagList.length || tagList.length === 0)\r\n            return false;\r\n        return tagList.some(compareTag => compareTag?.key === tag?.key);\r\n    };\r\n\r\n    const getDefaultDropdownSelectedKeys = () => {\r\n        const selectedKeys: string[] = [];\r\n        actualFilteredValues.forEach((_, k) => {\r\n            selectedKeys.push(k);\r\n        })\r\n        return selectedKeys;\r\n    }\r\n\r\n    const getDefaultSelectedTag = (keyToFilter: string) => {\r\n        const selectedTags: FilterOption[] = [];\r\n        actualFilteredValues.forEach((d, k) => {\r\n            const keyKind = k?.split('_')[1];\r\n            if (keyKind === keyToFilter)\r\n                selectedTags.push({\r\n                    key: keyKind,\r\n                    text: d?.text,\r\n                    data: d?.data,\r\n                    selected: true,\r\n                    name: d?.text\r\n                });\r\n        })\r\n        return selectedTags as unknown as ITag[];\r\n    }\r\n\r\n    const getDefaultSelectedSlider = (keyToFilter: string): RangeType => {\r\n        const mapWithSameKey = [...actualFilteredValues]?.find(([key]) => key === keyToFilter);\r\n        const mapWithSameKeyValue = mapWithSameKey?.[1]?.data;\r\n        if(mapWithSameKeyValue) \r\n            return mapWithSameKeyValue?.type;\r\n        return RangeType.NONE;\r\n    }\r\n\r\n    const getDefaultSelectedPeople = (keyToFilter: string): IPersonaProps[] => {\r\n        const mapWithSameKey = [...actualFilteredValues]?.filter(([key]) => {\r\n            const keyKind = key?.split('_')[1];\r\n            return keyKind === keyToFilter\r\n        });\r\n        if(mapWithSameKey?.length > 0) {\r\n            const people = mapWithSameKey?.map(([_, value]) => value as IPersonaProps);\r\n            return people;\r\n        }\r\n        return [];\r\n    }\r\n\r\n    const onChangeTags = (options: FilterOption[]) => (tags: ITag[]) => {\r\n        const copyMap = new Map(actualFilteredValues);\r\n        if(tags.length === 0) {\r\n            options.forEach(opt => {\r\n                if(copyMap.has(opt?.key as string))\r\n                    copyMap.delete(opt?.key as string);\r\n            });\r\n        } else if(!(tags?.map(i => i?.key).includes(lastAddedTag?.current?.key))) {\r\n            copyMap.delete(lastAddedTag?.current?.key as string);\r\n            lastAddedTag.current = null; \r\n        }\r\n        setActualFilteredValues(copyMap);\r\n    }\r\n\r\n    const onTagSelected = (key: string) =>(selectedItem: ITag) => {\r\n        onAddOrRemoveToMap(key, {...selectedItem, selected: true} as unknown as FilterOption);\r\n        lastAddedTag.current = selectedItem as unknown as FilterOption;\r\n        return selectedItem;\r\n    }\r\n\r\n    const onResolveTagSuggestion = (options: FilterOption[]) => (currentFilter: string, tagList: ITag[], ) => {\r\n        const result = currentFilter\r\n        ? options.filter(opt => \r\n            opt?.text?.toLowerCase().indexOf(currentFilter.toLowerCase()) === 0 \r\n            && !listContainsTagList(opt, tagList as unknown as FilterOption[])).map(f => ({...f, name: f?.text})): [];\r\n        return result;\r\n    }\r\n\r\n    const onRecordDateChange = (key: string) => (from: Date, to: Date, type: RangeType) => {\r\n        if(from && to && type !== RangeType.NONE)\r\n            onAddOrRemoveToMap(key, {\r\n                key: key,\r\n                text: `${from?.toISOString()} - ${to?.toISOString()}`,\r\n                data: { from, to, type },\r\n                selected: true,\r\n                isDateComponent: true,\r\n                name: `${from?.toISOString()} - ${to?.toISOString()}`\r\n            } as unknown as FilterOption);\r\n        else {\r\n            const copyMap = new Map(actualFilteredValues);\r\n            copyMap.delete(key);\r\n            setActualFilteredValues(copyMap);\r\n        }\r\n    }\r\n\r\n    const onChangePeople = (key: string) => (items: IPersonaProps[]) => {\r\n        const copyMap = new Map(actualFilteredValues);\r\n        if(items.length === 0) {\r\n            actualFilteredValues?.forEach((_, k) => {\r\n                if(k?.split('_')?.[1] === key)\r\n                    copyMap.delete(k);\r\n            });\r\n            setActualFilteredValues(copyMap);\r\n        } \r\n        else {\r\n            items.forEach(i => {\r\n                onAddOrRemoveToMap(key, {\r\n                    key: i?.key,\r\n                    text: i?.text,\r\n                    data: i?.['data'],\r\n                    selected: true,\r\n                    isDateComponent: false,\r\n                    name: i?.text\r\n                } as unknown as FilterOption);\r\n            });\r\n        }\r\n    }\r\n\r\n    return {\r\n        state: {\r\n            isOpen,\r\n            actualFilteredValues,\r\n            panelTitle,\r\n            availableFilters\r\n        },\r\n        handlers: {\r\n            getDefaultDropdownSelectedKeys,\r\n            getDefaultSelectedTag,\r\n            getDefaultSelectedSlider,\r\n            getDefaultSelectedPeople,\r\n            onAddOrRemoveToMap,\r\n            onClose,\r\n            onCancel,\r\n            onApply,\r\n            onOpen,\r\n            setActualFilteredValues,\r\n            onChangeTags,\r\n            onTagSelected,\r\n            onResolveTagSuggestion,\r\n            onRecordDateChange,\r\n            mapOptions,\r\n            onChangePeople\r\n        },\r\n        JSX: {\r\n            FluentPanel,\r\n            Dropdown,\r\n            PrimaryButton,\r\n            DefaultButton,\r\n            TagPicker\r\n        }\r\n    }\r\n}","export {GridView} from './GridView';","\r\nexport class Utils {\r\n\r\n    /**Tries to convert an ISO `string` to the locale format. */\r\n    public static convertIsoToLocaleString(date: string, locales: string | string[] = 'pt-BR', formatOptions: Intl.DateTimeFormatOptions = undefined): string {\r\n        //First check if the string can be converted to a date object.\r\n        if(!(new Date(date) instanceof Date) && isNaN(new Date(date)?.getTime()))\r\n            return date;\r\n        const isIsoDate = /\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z/.test(date);\r\n        if (!isIsoDate)\r\n            return date;\r\n        return new Intl.DateTimeFormat(locales, formatOptions).format(new Date(date));\r\n    }\r\n\r\n    public static copyAndSort<T>(items: T[], columnKey: string, isSortedDescending?: boolean): T[] {\r\n        return items.slice(0).sort((a: T, b: T) => {\r\n            const aValue = Utils.getNestedObject(a, columnKey?.split('.'));\r\n            const bValue = Utils.getNestedObject(b, columnKey?.split('.'));\r\n            return ((isSortedDescending ? aValue < bValue : aValue > bValue) ? 1 : -1);\r\n        });\r\n    }\r\n\r\n    /**Get a value from a deep nested object.\r\n     * \r\n     * @param obj The object to search in.\r\n     * @param path The path to the value, as an array of keys, separated by dots.\r\n     * @returns The value, if found.\r\n     * \r\n     * Theoretically, this function can be used to get the value from an `number[]` as the type of the `pathArr`, but I've not tested it.\r\n     */\r\n    public static getNestedObject<Path, ReturnV extends any, Obj extends Record<any, any>>(nestedObj: Obj, pathArr: Path[]): ReturnV {\r\n        return pathArr?.reduce((obj, key) => (obj && obj[key] !== 'undefined') ? obj[key] : undefined, nestedObj) as ReturnV;\r\n    }\r\n\r\n    public static getDeepKeys(obj: Record<any, any>): string[] {\r\n        let keys: string[] = [];\r\n        for(let key in obj) {\r\n            keys.push(key);\r\n            if(typeof obj[key] === \"object\") {\r\n                let subKeys = Utils.getDeepKeys(obj[key]);\r\n                keys = keys.concat(subKeys?.map(subkey => {\r\n                    return key + \".\" + subkey;\r\n                }));\r\n            }\r\n        }\r\n        return keys;\r\n    }\r\n}","\r\nexport enum RangeType {\r\n    NONE,\r\n    WEEK,\r\n    MONTH,\r\n    YEAR,\r\n    CUSTOM\r\n}\r\n\r\nexport enum IconClickCaller {\r\n    CLICK,\r\n    ENTER\r\n}","import { RefObject, useCallback, useRef, useState } from \"react\";\r\n\r\n/**\r\n * This hook can be used when using ref inside useCallbacks\r\n * \r\n * Usage\r\n * ```tsx\r\n * const [toggle, refCallback, myRef] = useRefWithCallback<HTMLSpanElement>();\r\n * const onClick = useCallback(() => {\r\n    if (myRef.current) {\r\n      myRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [toggle]);\r\n  return (<span ref={refCallback} />);\r\n  ```\r\n * @returns \r\n */\r\nfunction useRefWithCallback<T>(initialValue: T): [\r\n    (value: T) => void,\r\n    RefObject<T>,\r\n    boolean\r\n] {\r\n    const ref = useRef<T | null>(initialValue);\r\n    const [toggleState, setToggle] = useState(false);\r\n    const refCallback = useCallback((value: T) => {\r\n        ref.current = value;\r\n        setToggle(val => !val);\r\n    }, []);\r\n\r\n    return [refCallback, ref, toggleState];\r\n}\r\n\r\nexport default useRefWithCallback;","module.exports = require(\"@fluentui/react\");","module.exports = require(\"@fluentui/react/lib/Button\");","module.exports = require(\"@fluentui/react/lib/ChoiceGroup\");","module.exports = require(\"@fluentui/react/lib/DatePicker\");","module.exports = require(\"@fluentui/react/lib/DetailsList\");","module.exports = require(\"@fluentui/react/lib/Dropdown\");","module.exports = require(\"@fluentui/react/lib/Panel\");","module.exports = require(\"@fluentui/react/lib/Pickers\");","module.exports = require(\"@fluentui/react/lib/Slider\");","module.exports = require(\"@fluentui/react/lib/Sticky\");","module.exports = require(\"react\");"],"sourceRoot":""}