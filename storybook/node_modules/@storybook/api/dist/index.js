var Ee=Object.create;var B=Object.defineProperty;var xe=Object.getOwnPropertyDescriptor;var Ce=Object.getOwnPropertyNames;var we=Object.getPrototypeOf,Re=Object.prototype.hasOwnProperty;var E=(t,e)=>{for(var o in e)B(t,o,{get:e[o],enumerable:!0})},Ot=(t,e,o,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let l of Ce(e))!Re.call(t,l)&&l!==o&&B(t,l,{get:()=>e[l],enumerable:!(s=xe(e,l))||s.enumerable});return t};var b=(t,e,o)=>(o=t!=null?Ee(we(t)):{},Ot(e||!t||!t.__esModule?B(o,"default",{value:t,enumerable:!0}):o,t)),Te=t=>Ot(B({},"__esModule",{value:!0}),t);var Io={};E(Io,{ActiveTabs:()=>co,Consumer:()=>Ie,ManagerContext:()=>Q,Provider:()=>Z,combineParameters:()=>pt,merge:()=>C,useAddonState:()=>yo,useArgTypes:()=>Ao,useArgs:()=>go,useChannel:()=>_e,useGlobalTypes:()=>Po,useGlobals:()=>mo,useParameter:()=>fo,useSharedState:()=>ve,useStoryPrepared:()=>So,useStorybookApi:()=>k,useStorybookState:()=>po});module.exports=Te(Io);var P=b(require("react")),Ae=b(require("lodash/mergeWith")),x=require("@storybook/core-events");var kt=require("react"),Dt=({api:t,state:e})=>(0,kt.createContext)({api:t,state:e});var N=b(require("store2"));var Y=require("telejson"),Mt=t=>{t.fn("set",function(e,o){return t.set(this._area,this._in(e),(0,Y.stringify)(o,{maxDepth:50}))}),t.fn("get",function(e,o){let s=t.get(this._area,this._in(e));return s!==null?(0,Y.parse)(s):o||s})};Mt(N.default._);var Lt="@storybook/manager/store";function ot(t){return t.get(Lt)||{}}function Oe(t,e){return t.set(Lt,e)}function ke(t,e){let o=ot(t);return Oe(t,{...o,...e})}var K=class{constructor({setState:e,getState:o}){this.upstreamSetState=e,this.upstreamGetState=o}getInitialState(e){return{...e,...ot(N.default.local),...ot(N.default.session)}}getState(){return this.upstreamGetState()}async setState(e,o,s){let l,d;typeof o=="function"?(l=o,d=s):d=o;let{persistence:c="none"}=d||{},r={},u={};typeof e=="function"?r=n=>(u=e(n),u):(r=e,u=r);let i=await new Promise(n=>{this.upstreamSetState(r,n)});if(c!=="none"){let n=c==="session"?N.default.session:N.default.local;await ke(n,u)}return l&&l(i),i}};var Nt=b(require("lodash/mergeWith")),Ft=b(require("lodash/isEqual")),jt=require("@storybook/client-logger"),C=(t,e)=>(0,Nt.default)({},t,e,(o,s)=>{if(Array.isArray(s)&&Array.isArray(o))return s.forEach(l=>{o.find(c=>c===l||(0,Ft.default)(c,l))||o.push(l)}),o;if(Array.isArray(o))return jt.logger.log(["the types mismatch, picking",o]),o});var De=(...t)=>t.reduce((e,o)=>C(e,o),{}),W=De;var rt={};E(rt,{init:()=>Me});var Me=({provider:t,fullAPI:e})=>({api:t.renderPreview?{renderPreview:t.renderPreview}:{},state:{},init:()=>{t.handleAPI(e)}});var st={};E(st,{ensurePanel:()=>nt,init:()=>Le});var Ht=require("@storybook/types");function nt(t,e,o){let s=Object.keys(t);return s.indexOf(e)>=0?e:s.length?s[0]:o}var Le=({provider:t,store:e,fullAPI:o})=>{let s={getElements:l=>t.getElements(l),getPanels:()=>s.getElements(Ht.Addon_TypesEnum.PANEL),getStoryPanels:()=>{let l=s.getPanels(),{storyId:d}=e.getState(),c=o.getData(d);if(!l||!c||c.type!=="story")return l;let{parameters:r}=c,u={};return Object.entries(l).forEach(([i,n])=>{let{paramKey:a}=n;a&&r&&r[a]&&r[a].disable||(u[i]=n)}),u},getSelectedPanel:()=>{let{selectedPanel:l}=e.getState();return nt(s.getPanels(),l,l)},setSelectedPanel:l=>{e.setState({selectedPanel:l},{persistence:"session"})},setAddonState(l,d,c){let r,{addons:u}=e.getState();return typeof d=="function"?r=d(s.getAddonState(l)):r=d,e.setState({addons:{...u,[l]:r}},c).then(()=>s.getAddonState(l))},getAddonState:l=>e.getState().addons[l]};return{api:s,state:{selectedPanel:nt(s.getPanels(),e.getState().selectedPanel),addons:{}}}};var at={};E(at,{init:()=>Ne});var z=require("@storybook/core-events"),Ne=({provider:t})=>{let e={getChannel:()=>t.channel,on:(o,s)=>(t.channel.addListener(o,s),()=>t.channel.removeListener(o,s)),off:(o,s)=>t.channel.removeListener(o,s),once:(o,s)=>t.channel.once(o,s),emit:(o,s,...l)=>{var d;((d=s==null?void 0:s.options)==null?void 0:d.target)&&s.options.target!=="storybook-preview-iframe"&&!s.options.target.startsWith("storybook-ref-")&&(s.options.target=s.options.target!=="storybook_internal"?`storybook-ref-${s.options.target}`:"storybook-preview-iframe"),t.channel.emit(o,s,...l)},collapseAll:()=>{t.channel.emit(z.STORIES_COLLAPSE_ALL,{})},expandAll:()=>{e.emit(z.STORIES_EXPAND_ALL)}};return{api:e,state:{}}};var it={};E(it,{init:()=>Fe});var Fe=({store:t})=>{let e={addNotification:s=>{e.clearNotification(s.id);let{notifications:l}=t.getState();t.setState({notifications:[...l,s]})},clearNotification:s=>{let{notifications:l}=t.getState();t.setState({notifications:l.filter(c=>c.id!==s)});let d=l.find(c=>c.id===s);d&&d.onClear&&d.onClear()}};return{api:e,state:{notifications:[]}}};var ct={};E(ct,{init:()=>je});var je=({store:t,navigate:e,fullAPI:o})=>{let s=()=>{let{path:d}=o.getUrlState();return!!(d||"").match(/^\/settings/)};return{state:{settings:{lastTrackedStoryId:null}},api:{closeSettings:()=>{let{settings:{lastTrackedStoryId:d}}=t.getState();d?o.selectStory(d):o.selectFirstStory()},changeSettingsTab:d=>{e(`/settings/${d}`)},isSettingsScreenActive:s,navigateToSettingsPage:async d=>{if(!s()){let{settings:c,storyId:r}=t.getState();await t.setState({settings:{...c,lastTrackedStoryId:r}})}e(d)}}}};var lt={};E(lt,{init:()=>Ge});var Kt=b(require("global")),Gt=b(require("memoizerific")),{RELEASE_NOTES_DATA:He}=Kt.default,Ke=(0,Gt.default)(1)(()=>{try{return{...JSON.parse(He)||{}}}catch{return{}}}),Ge=({store:t})=>{let e=Ke(),o=()=>{let{releaseNotesViewed:l}=t.getState();return l||[]};return{state:{releaseNotesViewed:[]},api:{releaseNotesVersion:()=>e.currentVersion,setDidViewReleaseNotes:()=>{let l=o();l.includes(e.currentVersion)||t.setState({releaseNotesViewed:[...l,e.currentVersion]},{persistence:"permanent"})},showReleaseNotesOnLaunch:()=>{if(!e.currentVersion)return!1;let d=o().includes(e.currentVersion);return e.showOnFirstLaunch&&!d}}}};var Pt={};E(Pt,{init:()=>Xe});var oe=b(require("global")),M=require("@storybook/csf"),A=require("@storybook/core-events"),re=require("@storybook/client-logger");var ee=require("@storybook/client-logger");var yt={};E(yt,{defaultStoryMapper:()=>te,getSourceType:()=>ft,init:()=>Ye});var St=b(require("global")),Zt=require("ts-dedent");var ut=b(require("memoizerific")),Ut=require("ts-dedent"),Vt=b(require("lodash/countBy")),$t=require("@storybook/csf"),qt=b(require("lodash/mapValues"));var Ue=/\s*\/\s*/,Qt=({globalParameters:t,kindParameters:e,stories:o})=>(0,qt.default)(o,s=>({...s,parameters:pt(t,e[s.kind],s.parameters)})),Bt=(t,{provider:e,docsOptions:o})=>G(Ve(t),{provider:e,docsOptions:o}),Ve=t=>{let e=Object.entries(t).reduce((o,[s,l])=>{if(!l)return o;let{docsOnly:d,fileName:c,...r}=l.parameters,u={title:l.kind,id:s,name:l.name,importPath:c};if(d)o[s]={type:"docs",storiesImports:[],...u};else{let{argTypes:i,args:n,initialArgs:a}=l;o[s]={type:"story",...u,parameters:r,argTypes:i,args:n,initialArgs:a}}return o},{});return{v:4,entries:e}},$e=t=>{let e=(0,Vt.default)(Object.values(t.stories),"title");return{v:4,entries:Object.values(t.stories).reduce((o,s)=>{var d;let l="story";return(((d=s.parameters)==null?void 0:d.docsOnly)||s.name==="Page"&&e[s.title]===1)&&(l="docs"),o[s.id]={type:l,...l==="docs"&&{storiesImports:[]},...s},o},{})}},G=(t,{provider:e,docsOptions:o})=>{if(!t.v)throw new Error("Composition: Missing stories.json version");let s=t.v===4?t:$e(t),l=Object.values(s.entries),{sidebar:d={}}=e.getConfig(),{showRoots:c,collapsedRoots:r=[],renderLabel:u}=d,i=typeof c<"u",n=Object.values(l).reduce((p,f)=>{if(o.docsMode&&f.type!=="docs")return p;let{title:y}=f,g=y.trim().split(Ue),m=(!i||c)&&g.length>1?[g.shift()]:[],_=[...m,...g],I=_.reduce((h,v,D)=>{let tt=D>0&&h[D-1],et=(0,$t.sanitize)(tt?`${tt}-${v}`:v);if(tt===et)throw new Error(Ut.dedent`
          Invalid part '${v}', leading to id === parentId ('${et}'), inside title '${y}'
          
          Did you create a path that uses the separator char accidentally, such as 'Vue <docs/>' where '/' is a separator char? See https://github.com/storybookjs/storybook/issues/6128
          `);return h.push(et),h},[]);return I.forEach((h,v)=>{let D=I[v+1]||f.id;m.length&&v===0?p[h]=C(p[h]||{},{type:"root",id:h,name:_[v],depth:v,renderLabel:u,startCollapsed:r.includes(h),children:[D],isRoot:!0,isComponent:!1,isLeaf:!1}):(!p[h]||p[h].type==="component")&&v===I.length-1?p[h]=C(p[h]||{},{type:"component",id:h,name:_[v],parent:I[v-1],depth:v,renderLabel:u,...D&&{children:[D]},isRoot:!1,isComponent:!0,isLeaf:!1}):p[h]=C(p[h]||{},{type:"group",id:h,name:_[v],parent:I[v-1],depth:v,renderLabel:u,...D&&{children:[D]},isRoot:!1,isComponent:!1,isLeaf:!1})}),p[f.id]={type:"story",...f,depth:I.length,parent:I[I.length-1],renderLabel:u,...f.type!=="docs"&&{prepared:!!f.parameters},kind:f.title,isRoot:!1,isComponent:!1,isLeaf:!0},p},{});function a(p,f){return p[f.id]||(p[f.id]=f,(f.type==="root"||f.type==="group"||f.type==="component")&&f.children.forEach(y=>a(p,n[y]))),p}let S=Object.values(n).filter(p=>p.type!=="root"&&!p.parent).reduce(a,{});return Object.values(n).filter(p=>p.type==="root").reduce(a,S)},Yt=(t,e)=>e?Object.fromEntries(Object.entries(t).map(([o,s])=>{let l=e[o];return s.type==="story"&&(l==null?void 0:l.type)==="story"&&l.prepared?[o,{...l,...s,prepared:!0}]:[o,s]})):t,Wt=(0,ut.default)(1)(t=>Object.entries(t).reduce((e,o)=>{let s=o[1];return s.type==="component"&&e.push([...s.children]),e},[])),zt=(0,ut.default)(1)(t=>Object.keys(t).filter(e=>["story","docs"].includes(t[e].type)));var{location:qe,fetch:Jt}=St.default,Xt=/(\/((?:[^\/]+?)\.[^\/]+?)|\/)$/,ft=(t,e)=>{let{origin:o,pathname:s}=qe,{origin:l,pathname:d}=new URL(t),c=`${o+s}`.replace(Xt,""),r=`${l+d}`.replace(Xt,"");return c===r?["local",r]:e||t?["external",r]:[null,null]},te=(t,e)=>({...e,kind:e.kind.replace("|","/")}),Qe=(t,e)=>Object.entries(t).reduce((o,[s,l])=>({...o,[s]:{...l,refId:e.id}}),{});async function dt(t){if(!t)return{};try{let e=await t;if(!e.ok)return{};let o=await e.json();return o.entries||o.stories?{storyIndex:o}:o}catch(e){return{error:e}}}var Be=(t,e,o)=>{let{storyMapper:s}=o;return s?Object.entries(t).reduce((l,[d,c])=>({...l,[d]:s(e,c)}),{}):t},Ye=({store:t,provider:e,singleStory:o,docsOptions:s={}},{runCheck:l=!0}={})=>{let d={findRef:u=>{let i=d.getRefs();return Object.values(i).find(({url:n})=>n.match(u))},changeRefVersion:(u,i)=>{let{versions:n,title:a}=d.getRefs()[u],S={id:u,url:i,versions:n,title:a,stories:{}};d.checkRef(S)},changeRefState:(u,i)=>{let{[u]:n,...a}=d.getRefs();a[u]={...n,ready:i},t.setState({refs:a})},checkRef:async u=>{let{id:i,url:n,version:a,type:S}=u,p=S==="server-checked",f={},y=a?`?version=${a}`:"",g=p?"omit":"include",[m,_]=await Promise.all(["index.json","stories.json"].map(async h=>Jt(`${n}/${h}${y}`,{headers:{Accept:"application/json"},credentials:g})));if(m.ok||_.ok){let[h,v]=await Promise.all([m.ok?dt(m):dt(_),dt(Jt(`${n}/metadata.json${y}`,{headers:{Accept:"application/json"},credentials:g,cache:"no-cache"}).catch(()=>!1))]);Object.assign(f,{...h,...v})}else p||(f.error={message:Zt.dedent`
            Error: Loading of ref failed
              at fetch (lib/api/src/modules/refs.ts)

            URL: ${n}

            We weren't able to load the above URL,
            it's possible a CORS error happened.

            Please check your dev-tools network tab.
          `});let I=u.versions&&Object.keys(u.versions).length?u.versions:f.versions;await d.setRef(i,{id:i,url:n,...f,...I?{versions:I}:{},type:f.storyIndex?"lazy":"auto-inject"})},getRefs:()=>{let{refs:u={}}=t.getState();return u},setRef:(u,{storyIndex:i,setStoriesData:n,...a},S=!1)=>{if(o)return;let{storyMapper:p=te}=e.getConfig(),f=d.getRefs()[u],y;n?y=Bt(Be(n,f,{storyMapper:p}),{provider:e,docsOptions:s}):i&&(y=G(i,{provider:e,docsOptions:s})),y&&(y=Qe(y,f)),d.updateRef(u,{stories:y,...a,ready:S})},updateRef:(u,i)=>{let{[u]:n,...a}=d.getRefs();a[u]={...n,...i};let S=Object.keys(r).reduce((p,f)=>(p[f]=a[f],p),{});t.setState({refs:S})}},c=!o&&St.default.REFS||{},r=c;return l&&Object.entries(c).forEach(([u,i])=>{d.checkRef({...i,stories:{}})}),{api:d,state:{refs:r}}};var w=(t,e)=>{let{source:o,refId:s,type:l}=t,[d,c]=ft(o,s),r=s&&e.getRefs()[s]?e.getRefs()[s]:e.findRef(c),u={source:o,sourceType:d,sourceLocation:c,refId:s,ref:r,type:l};switch(!0){case typeof s=="string":case d==="local":case d==="external":return u;default:return ee.logger.warn(`Received a ${l} frame that was not configured as a ref`),null}};var{FEATURES:gt,fetch:We}=oe.default,ze="./index.json",Je=["enableShortcuts","theme","showRoots"];function mt(t){if(!t||typeof t=="string")return t;let e={...t};return Je.forEach(o=>{o in e&&delete e[o]}),e}var Xe=({fullAPI:t,store:e,navigate:o,provider:s,storyId:l,viewMode:d,docsOptions:c={}})=>{let r={storyId:M.toId,getData:(i,n)=>{let a=r.resolveStory(i,n);if((a==null?void 0:a.type)==="story"||(a==null?void 0:a.type)==="docs")return a},isPrepared:(i,n)=>{let a=r.getData(i,n);return a.type==="story"?a.prepared:!0},resolveStory:(i,n)=>{let{refs:a,storiesHash:S}=e.getState();return n?a[n].stories?a[n].stories[i]:void 0:S?S[i]:void 0},getCurrentStoryData:()=>{let{storyId:i,refId:n}=e.getState();return r.getData(i,n)},getParameters:(i,n)=>{let{storyId:a,refId:S}=typeof i=="string"?{storyId:i,refId:void 0}:i,p=r.getData(a,S);if((p==null?void 0:p.type)==="story"){let{parameters:f}=p;if(f)return n?f[n]:f}return null},getCurrentParameter:i=>{let{storyId:n,refId:a}=e.getState();return r.getParameters({storyId:n,refId:a},i)||void 0},jumpToComponent:i=>{let{storiesHash:n,storyId:a,refs:S,refId:p}=e.getState();if(!r.getData(a,p))return;let y=p?S[p].stories||{}:n,g=r.findSiblingStoryId(a,y,i,!0);g&&r.selectStory(g,void 0,{ref:p})},jumpToStory:i=>{let{storiesHash:n,storyId:a,refs:S,refId:p}=e.getState(),f=r.getData(a,p);if(!f)return;let y=f.refId?S[f.refId].stories:n,g=r.findSiblingStoryId(a,y,i,!1);g&&r.selectStory(g,void 0,{ref:p})},selectFirstStory:()=>{let{storiesHash:i}=e.getState(),n=Object.keys(i).find(a=>i[a].type==="story");if(n){r.selectStory(n);return}o("/")},selectStory:(i=void 0,n=void 0,a={})=>{let{ref:S}=a,{storyId:p,storiesHash:f,refs:y}=e.getState(),g=S?y[S].stories:f,m=p==null?void 0:p.split("--",2)[0];if(n)if(i){let _=S?`${S}_${(0,M.toId)(i,n)}`:(0,M.toId)(i,n);if(g[_])r.selectStory(_,void 0,a);else{let I=g[(0,M.sanitize)(i)];if((I==null?void 0:I.type)==="component"){let h=I.children.find(v=>g[v].name===n);h&&r.selectStory(h,void 0,a)}}}else{let _=(0,M.toId)(m,n);r.selectStory(_,void 0,a)}else{let _=i?g[i]||g[(0,M.sanitize)(i)]:g[m];if(!_)throw new Error(`Unknown id or title: '${i}'`);let I=r.findLeafEntry(g,_.id),h=I.refId?`${I.refId}_${I.id}`:I.id;o(`/${I.type}/${h}`)}},findLeafEntry(i,n){let a=i[n];if(a.type==="docs"||a.type==="story")return a;let S=a.children[0];return r.findLeafEntry(i,S)},findLeafStoryId(i,n){var a;return(a=r.findLeafEntry(i,n))==null?void 0:a.id},findSiblingStoryId(i,n,a,S){if(S){let y=Wt(n),g=y.findIndex(m=>m.includes(i));return g===y.length-1&&a>0||g===0&&a<0?void 0:y[g+a]?y[g+a][0]:void 0}let p=zt(n),f=p.indexOf(i);if(!(f===p.length-1&&a>0)&&!(f===0&&a<0))return p[f+a]},updateStoryArgs:(i,n)=>{let{id:a,refId:S}=i;t.emit(A.UPDATE_STORY_ARGS,{storyId:a,updatedArgs:n,options:{target:S}})},resetStoryArgs:(i,n)=>{let{id:a,refId:S}=i;t.emit(A.RESET_STORY_ARGS,{storyId:a,argNames:n,options:{target:S}})},fetchIndex:async()=>{try{let i=await We(ze);if(i.status!==200)throw new Error(await i.text());let n=await i.json();if(n.v<3){re.logger.warn(`Skipping story index with version v${n.v}, awaiting SET_STORIES.`);return}await t.setIndex(n)}catch(i){e.setState({storiesConfigured:!0,storiesFailed:i})}},setIndex:async i=>{let n=G(i,{provider:s,docsOptions:c}),a=e.getState().storiesHash;await e.setState({storiesHash:Yt(n,a),storiesConfigured:!0,storiesFailed:null})},updateStory:async(i,n,a)=>{if(a){let{id:S,stories:p}=a;p[i]={...p[i],...n},await t.updateRef(S,{stories:p})}else{let{storiesHash:S}=e.getState();S[i]={...S[i],...n},await e.setState({storiesHash:S})}}};return{api:r,state:{storiesHash:{},storyId:l,viewMode:d,storiesConfigured:!1,hasCalledSetOptions:!1},init:async()=>{var i;t.on(A.STORY_SPECIFIED,function({storyId:a,viewMode:S}){let{sourceType:p}=w(this,t);if(!t.isSettingsScreenActive()&&p==="local"){let f=e.getState();(f.storyId!==a||f.viewMode!==S)&&o(`/${S}/${a}`)}}),t.on(A.STORY_CHANGED,function(){let{sourceType:a}=w(this,t);if(a==="local"){let S=t.getCurrentParameter("options");S&&t.setOptions(mt(S))}}),t.on(A.STORY_PREPARED,function({id:a,...S}){let{ref:p,sourceType:f}=w(this,t);if(t.updateStory(a,{...S,prepared:!0},p),p)t.updateRef(p.id,{ready:!0});else if(!e.getState().hasCalledSetOptions){let{options:y}=S.parameters;t.setOptions(mt(y)),e.setState({hasCalledSetOptions:!0})}if(f==="local"){let{storyId:y,storiesHash:g,refId:m}=e.getState(),_=Array.from(new Set([r.findSiblingStoryId(y,g,1,!0),r.findSiblingStoryId(y,g,-1,!0)])).filter(Boolean);t.emit(A.PRELOAD_ENTRIES,{ids:_,options:{target:m}})}}),t.on(A.SET_INDEX,function(a){let{ref:S}=w(this,t);if(S)t.setRef(S.id,{...S,storyIndex:a},!0);else{t.setIndex(a);let p=t.getCurrentParameter("options");t.setOptions(mt(p))}}),t.on(A.SET_STORIES,function(a){let{ref:S}=w(this,t),p=a.v?Qt(a):a.stories;if(S)t.setRef(S.id,{...S,setStoriesData:p},!0);else throw new Error("Cannot call SET_STORIES for local frame")}),t.on(A.SELECT_STORY,function({kind:a,story:S,storyId:p,...f}){let{ref:y}=w(this,t);y?t.selectStory(p||a,S,{...f,ref:y.id}):t.selectStory(p||a,S,f)}),t.on(A.STORY_ARGS_UPDATED,function({storyId:a,args:S}){let{ref:p}=w(this,t);t.updateStory(a,{args:S},p)}),t.on(A.CONFIG_ERROR,function(a){e.setState({storiesConfigured:!0,storiesFailed:a})}),gt!=null&&gt.storyStoreV7&&((i=s.serverChannel)==null||i.on(A.STORY_INDEX_INVALIDATED,()=>t.fetchIndex()),await t.fetchIndex())}}};var J={};E(J,{ActiveTabs:()=>ie,focusableUIElements:()=>V,init:()=>to});var ne=b(require("global")),F=b(require("lodash/pick")),U=require("dequal"),se=require("@storybook/theming/create"),ae=require("@storybook/core-events");var{document:Ze}=ne.default,ie={SIDEBAR:"sidebar",CANVAS:"canvas",ADDONS:"addons"},L={ui:{enableShortcuts:!0},layout:{initialActive:ie.CANVAS,showToolbar:!0,isFullscreen:!1,showPanel:!0,showNav:!0,panelPosition:"bottom",showTabs:!0},selectedPanel:void 0,theme:(0,se.create)()},V={storySearchField:"storybook-explorer-searchfield",storyListMenu:"storybook-explorer-menu",storyPanelRoot:"storybook-panel-root"},to=({store:t,provider:e,singleStory:o,fullAPI:s})=>{let l={toggleFullscreen(c){return t.setState(r=>{let{showNav:u}=r.layout,i=typeof c=="boolean"?c:!r.layout.isFullscreen,n=u===!1&&i===!1;return{layout:{...r.layout,isFullscreen:i,showNav:!o&&n?!0:u}}},{persistence:"session"})},togglePanel(c){return t.setState(r=>{let{showNav:u,isFullscreen:i}=r.layout,n=typeof c<"u"?c:!r.layout.showPanel,a=u===!1&&n===!1;return{layout:{...r.layout,showPanel:n,isFullscreen:a?!0:i}}},{persistence:"session"})},togglePanelPosition(c){return typeof c<"u"?t.setState(r=>({layout:{...r.layout,panelPosition:c}}),{persistence:"permanent"}):t.setState(r=>({layout:{...r.layout,panelPosition:r.layout.panelPosition==="right"?"bottom":"right"}}),{persistence:"permanent"})},toggleNav(c){return t.setState(r=>{if(o)return{layout:r.layout};let{showPanel:u,isFullscreen:i}=r.layout,n=typeof c<"u"?c:!r.layout.showNav,a=u===!1&&n===!1;return{layout:{...r.layout,showNav:n,isFullscreen:a?!0:!n&&i}}},{persistence:"session"})},toggleToolbar(c){return t.setState(r=>{let u=typeof c<"u"?c:!r.layout.showToolbar;return{layout:{...r.layout,showToolbar:u}}},{persistence:"session"})},resetLayout(){return t.setState(c=>({layout:{...c.layout,showNav:!1,showPanel:!1,isFullscreen:!1}}),{persistence:"session"})},focusOnUIElement(c,r){if(!c)return;let u=Ze.getElementById(c);u&&(u.focus(),r&&u.select())},getInitialOptions(){let{theme:c,selectedPanel:r,...u}=e.getConfig();return{...L,layout:{...L.layout,...(0,F.default)(u,Object.keys(L.layout)),...o&&{showNav:!1}},ui:{...L.ui,...(0,F.default)(u,Object.keys(L.ui))},selectedPanel:r||L.selectedPanel,theme:c||L.theme}},setOptions:c=>{let{layout:r,ui:u,selectedPanel:i,theme:n}=t.getState();if(c){let a={...r,...(0,F.default)(c,Object.keys(r)),...o&&{showNav:!1}},S={...u,...(0,F.default)(c,Object.keys(u))},p={...n,...c.theme},f={};(0,U.dequal)(u,S)||(f.ui=S),(0,U.dequal)(r,a)||(f.layout=a),c.selectedPanel&&!(0,U.dequal)(i,c.selectedPanel)&&(f.selectedPanel=c.selectedPanel),Object.keys(f).length&&t.setState(f,{persistence:"permanent"}),(0,U.dequal)(n,p)||t.setState({theme:p})}}},d=(0,F.default)(t.getState(),"layout","ui","selectedPanel");return{api:l,state:C(l.getInitialOptions(),d),init:()=>{l.setOptions(C(l.getInitialOptions(),d)),s.on(ae.SET_CONFIG,()=>{l.setOptions(C(l.getInitialOptions(),d))})}}};var bt={};E(bt,{controlOrMetaKey:()=>X,defaultShortcuts:()=>j,init:()=>oo,isMacLike:()=>fe,keys:()=>It});var de=b(require("global")),Se=require("@storybook/core-events");var ce=b(require("global")),{navigator:Ho}=ce.default;var le=t=>{if(["Meta","Alt","Control","Shift"].includes(t.key))return null;let e=[];return t.altKey&&e.push("alt"),t.ctrlKey&&e.push("control"),t.metaKey&&e.push("meta"),t.shiftKey&&e.push("shift"),t.key&&t.key.length===1&&t.key!==" "&&e.push(t.key.toUpperCase()),t.key===" "&&e.push("space"),t.key==="Escape"&&e.push("escape"),t.key==="ArrowRight"&&e.push("ArrowRight"),t.key==="ArrowDown"&&e.push("ArrowDown"),t.key==="ArrowUp"&&e.push("ArrowUp"),t.key==="ArrowLeft"&&e.push("ArrowLeft"),e.length>0?e:null},ue=(t,e)=>!t||!e||(t.join("")==="shift/"&&t.shift(),t.length!==e.length)?!1:!t.find((o,s)=>o!==e[s]);var{navigator:ht,document:pe}=de.default,fe=()=>ht&&ht.platform?!!ht.platform.match(/(Mac|iPhone|iPod|iPad)/i):!1,X=()=>fe()?"meta":"control";function It(t){return Object.keys(t)}var j=Object.freeze({fullScreen:["F"],togglePanel:["A"],panelPosition:["D"],toggleNav:["S"],toolbar:["T"],search:["/"],focusNav:["1"],focusIframe:["2"],focusPanel:["3"],prevComponent:["alt","ArrowUp"],nextComponent:["alt","ArrowDown"],prevStory:["alt","ArrowLeft"],nextStory:["alt","ArrowRight"],shortcutsPage:[X(),"shift",","],aboutPage:[","],escape:["escape"],collapseAll:[X(),"shift","ArrowUp"],expandAll:[X(),"shift","ArrowDown"]}),At={};function eo(t){let e=t.target;return/input|textarea/i.test(e.tagName)||e.getAttribute("contenteditable")!==null}var oo=({store:t,fullAPI:e})=>{let o={getShortcutKeys(){return t.getState().shortcuts},getDefaultShortcuts(){return{...j,...o.getAddonsShortcutDefaults()}},getAddonsShortcuts(){return At},getAddonsShortcutLabels(){let c={};return Object.entries(o.getAddonsShortcuts()).forEach(([r,{label:u}])=>{c[r]=u}),c},getAddonsShortcutDefaults(){let c={};return Object.entries(o.getAddonsShortcuts()).forEach(([r,{defaultShortcut:u}])=>{c[r]=u}),c},async setShortcuts(c){return await t.setState({shortcuts:c},{persistence:"permanent"}),c},async restoreAllDefaultShortcuts(){return o.setShortcuts(o.getDefaultShortcuts())},async setShortcut(c,r){let u=o.getShortcutKeys();return await o.setShortcuts({...u,[c]:r}),r},async setAddonShortcut(c,r){let u=o.getShortcutKeys();return await o.setShortcuts({...u,[`${c}-${r.actionName}`]:r.defaultShortcut}),At[`${c}-${r.actionName}`]=r,r},async restoreDefaultShortcut(c){let r=o.getDefaultShortcuts()[c];return o.setShortcut(c,r)},handleKeydownEvent(c){let r=le(c),u=o.getShortcutKeys(),n=It(u).find(a=>ue(r,u[a]));n&&(c!=null&&c.preventDefault&&c.preventDefault(),o.handleShortcutFeature(n))},handleShortcutFeature(c){let{layout:{isFullscreen:r,showNav:u,showPanel:i},ui:{enableShortcuts:n}}=t.getState();if(!!n)switch(c){case"escape":{r?e.toggleFullscreen():u||e.toggleNav();break}case"focusNav":{r&&e.toggleFullscreen(),u||e.toggleNav(),e.focusOnUIElement(V.storyListMenu);break}case"search":{r&&e.toggleFullscreen(),u||e.toggleNav(),setTimeout(()=>{e.focusOnUIElement(V.storySearchField,!0)},0);break}case"focusIframe":{let a=pe.getElementById("storybook-preview-iframe");if(a)try{a.contentWindow.focus()}catch{}break}case"focusPanel":{r&&e.toggleFullscreen(),i||e.togglePanel(),e.focusOnUIElement(V.storyPanelRoot);break}case"nextStory":{e.jumpToStory(1);break}case"prevStory":{e.jumpToStory(-1);break}case"nextComponent":{e.jumpToComponent(1);break}case"prevComponent":{e.jumpToComponent(-1);break}case"fullScreen":{e.toggleFullscreen();break}case"togglePanel":{r&&(e.toggleFullscreen(),e.resetLayout()),e.togglePanel();break}case"toggleNav":{r&&(e.toggleFullscreen(),e.resetLayout()),e.toggleNav();break}case"toolbar":{e.toggleToolbar();break}case"panelPosition":{r&&e.toggleFullscreen(),i||e.togglePanel(),e.togglePanelPosition();break}case"aboutPage":{e.navigate("/settings/about");break}case"shortcutsPage":{e.navigate("/settings/shortcuts");break}case"collapseAll":{e.collapseAll();break}case"expandAll":{e.expandAll();break}default:At[c].action();break}}},{shortcuts:s=j}=t.getState(),l={shortcuts:It(j).reduce((c,r)=>({...c,[r]:s[r]||j[r]}),j)};return{api:o,state:l,init:()=>{pe.addEventListener("keydown",c=>{eo(c)||e.handleKeydownEvent(c)}),e.on(Se.PREVIEW_KEYDOWN,c=>{e.handleKeydownEvent(c.event)})}}};var xt={};E(xt,{init:()=>no});var T=require("@storybook/core-events"),q=require("@storybook/router"),Et=require("dequal"),ye=b(require("global")),{window:_t}=ye.default,$=t=>{if(t==="true"||t==="1")return!0;if(t==="false"||t==="0")return!1},vt,ro=({state:{location:t,path:e,viewMode:o,storyId:s},singleStory:l})=>{let{full:d,panel:c,nav:r,shortcuts:u,addonPanel:i,tabs:n,path:a,...S}=(0,q.queryFromLocation)(t),p={isFullscreen:$(d),showNav:!l&&$(r),showPanel:$(c),panelPosition:["right","bottom"].includes(c)?c:void 0,showTabs:$(n)},f={enableShortcuts:$(u)},y=i||void 0,g=s,m=(0,Et.dequal)(vt,S)?vt:S;return vt=m,{viewMode:o,layout:p,ui:f,selectedPanel:y,location:t,path:e,customQueryParams:m,storyId:g}},no=({store:t,navigate:e,state:o,provider:s,fullAPI:l,...d})=>{let c=(i,n={},a={})=>{let S=Object.entries(n).filter(([,f])=>f).sort(([f],[y])=>f<y?-1:1).map(([f,y])=>`${f}=${y}`),p=[i,...S].join("&");return e(p,a)},r={getQueryParam(i){let{customQueryParams:n}=t.getState();return n?n[i]:void 0},getUrlState(){let{path:i,customQueryParams:n,storyId:a,url:S,viewMode:p}=t.getState();return{path:i,queryParams:n,storyId:a,url:S,viewMode:p}},setQueryParams(i){let{customQueryParams:n}=t.getState(),a={},S={...n,...Object.entries(i).reduce((p,[f,y])=>(y!==null&&(p[f]=y),p),a)};(0,Et.dequal)(n,S)||(t.setState({customQueryParams:S}),l.emit(T.UPDATE_QUERY_PARAMS,S))},navigateUrl(i,n){e(i,{...n,plain:!0})}},u=()=>{let i=()=>{let{path:a,queryParams:S,viewMode:p}=l.getUrlState();if(p!=="story")return;let f=l.getCurrentStoryData();if((f==null?void 0:f.type)!=="story")return;let{args:y,initialArgs:g}=f,m=(0,q.buildArgsParam)(g,y);c(a,{...S,args:m},{replace:!0}),r.setQueryParams({args:m})};l.on(T.SET_CURRENT_STORY,()=>i());let n;l.on(T.STORY_ARGS_UPDATED,()=>{"requestIdleCallback"in _t?(n&&_t.cancelIdleCallback(n),n=_t.requestIdleCallback(i,{timeout:1e3})):(n&&clearTimeout(n),setTimeout(i,100))}),l.on(T.GLOBALS_UPDATED,({globals:a,initialGlobals:S})=>{let{path:p,queryParams:f}=l.getUrlState(),y=(0,q.buildArgsParam)(S,a);c(p,{...f,globals:y},{replace:!0}),r.setQueryParams({globals:y})}),l.on(T.NAVIGATE_URL,(a,S)=>{l.navigateUrl(a,S)}),l.showReleaseNotesOnLaunch()&&e("/settings/release-notes")};return{api:r,state:ro({store:t,navigate:e,state:o,provider:s,fullAPI:l,...d}),init:u}};var Ct={};E(Ct,{init:()=>ao});var Pe=b(require("global")),R=b(require("semver")),he=b(require("memoizerific"));var ge="7.0.0-alpha.48";var{VERSIONCHECK:so}=Pe.default,me=(0,he.default)(1)(()=>{try{return{...JSON.parse(so).data||{}}}catch{return{}}}),ao=({store:t,mode:e,fullAPI:o})=>{let{dismissedVersionNotification:s}=t.getState(),l={versions:{current:{version:ge},...me()},dismissedVersionNotification:s},d={getCurrentVersion:()=>{let{versions:{current:r}}=t.getState();return r},getLatestVersion:()=>{let{versions:{latest:r,next:u,current:i}}=t.getState();return i&&R.default.prerelease(i.version)&&u?r&&R.default.gt(r.version,u.version)?r:u:r},versionUpdateAvailable:()=>{let r=d.getLatestVersion(),u=d.getCurrentVersion();if(r){if(!r.version||!u.version)return!0;let n=!!R.default.prerelease(u.version)?`${R.default.major(u.version)}.${R.default.minor(u.version)}.${R.default.patch(u.version)}`:u.version,a=R.default.diff(n,r.version);return R.default.gt(r.version,n)&&a!=="patch"&&!a.includes("pre")}return!1}};return{init:async()=>{let{versions:r={}}=t.getState(),{latest:u,next:i}=me();if(await t.setState({versions:{...r,latest:u,next:i}}),d.versionUpdateAvailable()){let n=d.getLatestVersion().version,a=R.default.diff(r.current.version,r.latest.version);n!==s&&a!=="patch"&&!R.default.prerelease(n)&&e!=="production"&&o.addNotification({id:"update",link:"/settings/about",content:{headline:`Storybook ${n} is available!`,subHeadline:`Your current version is: ${r.current.version}`},icon:{name:"book"},onClear(){t.setState({dismissedVersionNotification:n},{persistence:"permanent"})}})}},state:l,api:d}};var Tt={};E(Tt,{init:()=>io});var H=require("@storybook/core-events"),wt=require("@storybook/client-logger"),Rt=require("dequal");var io=({store:t,fullAPI:e})=>{let o={getGlobals(){return t.getState().globals},getGlobalTypes(){return t.getState().globalTypes},updateGlobals(c){e.emit(H.UPDATE_GLOBALS,{globals:c,options:{target:"storybook-preview-iframe"}})}},s={globals:{},globalTypes:{}},l=c=>{var u;let r=(u=t.getState())==null?void 0:u.globals;(0,Rt.dequal)(c,r)||t.setState({globals:c})};return{api:o,state:s,init:()=>{e.on(H.GLOBALS_UPDATED,function({globals:r}){let{ref:u}=w(this,e);u?wt.logger.warn("received a GLOBALS_UPDATED from a non-local ref. This is not currently supported."):l(r)}),e.on(H.SET_GLOBALS,function({globals:r,globalTypes:u}){var a;let{ref:i}=w(this,e),n=(a=t.getState())==null?void 0:a.globals;i?Object.keys(r).length>0&&wt.logger.warn("received globals from a non-local ref. This is not currently supported."):t.setState({globals:r,globalTypes:u}),n&&Object.keys(n).length!==0&&!(0,Rt.dequal)(r,n)&&o.updateGlobals(n)})}}};var{ActiveTabs:co}=J;var Q=Dt({api:void 0,state:W({})}),pt=(...t)=>(0,Ae.default)({},...t,(e,o)=>{if(Array.isArray(o))return o}),Z=class extends P.Component{constructor(o){super(o);this.api={};this.initModules=()=>{this.modules.forEach(o=>{"init"in o&&o.init()})};let{location:s,path:l,refId:d,viewMode:c=o.docsOptions.docsMode?"docs":"story",singleStory:r,storyId:u,docsOptions:i,navigate:n}=o,a=new K({getState:()=>this.state,setState:(m,_)=>this.setState(m,_)}),S={location:s,path:l,viewMode:c,singleStory:r,storyId:u,refId:d},p={docsOptions:i};this.state=a.getInitialState(W({...S,...p}));let f={navigate:n,store:a,provider:o.provider};this.modules=[rt,at,st,J,it,ct,lt,bt,Pt,yt,Tt,xt,Ct].map(m=>m.init({...S,...p,...f,state:this.state,fullAPI:this.api}));let y=W(this.state,...this.modules.map(m=>m.state)),g=Object.assign(this.api,{navigate:n},...this.modules.map(m=>m.api));this.state=y,this.api=g}static getDerivedStateFromProps(o,s){return s.path!==o.path?{...s,location:o.location,path:o.path,refId:o.refId,viewMode:o.viewMode,storyId:o.storyId}:null}shouldComponentUpdate(o,s){let l=this.state,d=this.props;return l!==s||d.path!==o.path}render(){let{children:o}=this.props,s={state:this.state,api:this.api};return P.default.createElement(lo,{effect:this.initModules},P.default.createElement(Q.Provider,{value:s},P.default.createElement(Ie,null,o)))}};Z.displayName="Manager";var lo=({children:t,effect:e})=>(P.default.useEffect(e,[]),t),uo=t=>t;function Ie({filter:t=uo,children:e}){let o=(0,P.useContext)(Q),s=(0,P.useRef)(e),l=(0,P.useRef)(t);if(typeof s.current!="function")return P.default.createElement(P.Fragment,null,s.current);let d=l.current(o),c=(0,P.useMemo)(()=>[...Object.entries(d).reduce((r,u)=>r.concat(u),[])],[o.state]);return(0,P.useMemo)(()=>{let r=s.current;return P.default.createElement(r,{...d})},c)}function po(){let{state:t}=(0,P.useContext)(Q);return t}function k(){let{api:t}=(0,P.useContext)(Q);return t}function be(t,e){return typeof t>"u"?e:t}var _e=(t,e=[])=>{let o=k();return(0,P.useEffect)(()=>(Object.entries(t).forEach(([s,l])=>o.on(s,l)),()=>{Object.entries(t).forEach(([s,l])=>o.off(s,l))}),e),o.emit};function So(t){return k().isPrepared(t)}function fo(t,e){let s=k().getCurrentParameter(t);return be(s,e)}var O={};function ve(t,e){let o=k(),s=o.getAddonState(t),l=be(s,O[t]?O[t]:e),d=(u,i)=>{O[t]&&(O[t]=u),o.setAddonState(t,u,i)},c=(0,P.useMemo)(()=>{let u={[`${x.SHARED_STATE_CHANGED}-client-${t}`]:n=>d(n),[`${x.SHARED_STATE_SET}-client-${t}`]:n=>d(n)},i={[x.SET_STORIES]:()=>{let n=o.getAddonState(t);n?(O[t]=n,o.emit(`${x.SHARED_STATE_SET}-manager-${t}`,n)):O[t]?(d(O[t]),o.emit(`${x.SHARED_STATE_SET}-manager-${t}`,O[t])):e!==void 0&&(d(e),O[t]=e,o.emit(`${x.SHARED_STATE_SET}-manager-${t}`,e))},[x.STORY_CHANGED]:()=>{let n=o.getAddonState(t);n!==void 0&&o.emit(`${x.SHARED_STATE_SET}-manager-${t}`,n)}};return{...u,...i}},[t]),r=_e(c);return[l,(u,i)=>{d(u,i),r(`${x.SHARED_STATE_CHANGED}-manager-${t}`,u)}]}function yo(t,e){return ve(t,e)}function go(){let{getCurrentStoryData:t,updateStoryArgs:e,resetStoryArgs:o}=k(),s=t(),l=s.type==="story"?s.args:{},d=(0,P.useCallback)(r=>e(s,r),[s,e]),c=(0,P.useCallback)(r=>o(s,r),[s,o]);return[l,d,c]}function mo(){let t=k();return[t.getGlobals(),t.updateGlobals]}function Po(){return k().getGlobalTypes()}function ho(){let{getCurrentStoryData:t}=k();return t()}function Ao(){let t=ho();return(t==null?void 0:t.type)==="story"&&t.argTypes||{}}0&&(module.exports={ActiveTabs,Consumer,ManagerContext,Provider,combineParameters,merge,useAddonState,useArgTypes,useArgs,useChannel,useGlobalTypes,useGlobals,useParameter,useSharedState,useStoryPrepared,useStorybookApi,useStorybookState});
